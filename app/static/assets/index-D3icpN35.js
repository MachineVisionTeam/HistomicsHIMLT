(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();function Fo(ne){return ne&&ne.__esModule&&Object.prototype.hasOwnProperty.call(ne,"default")?ne.default:ne}var No={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function nm(){if(Mf)return al;Mf=1;var ne=Symbol.for("react.transitional.element"),$=Symbol.for("react.fragment");function a(l,o,f){var p=null;if(f!==void 0&&(p=""+f),o.key!==void 0&&(p=""+o.key),"key"in o){f={};for(var h in o)h!=="key"&&(f[h]=o[h])}else f=o;return o=f.ref,{$$typeof:ne,type:l,key:p,ref:o!==void 0?o:null,props:f}}return al.Fragment=$,al.jsx=a,al.jsxs=a,al}var Hf;function am(){return Hf||(Hf=1,No.exports=nm()),No.exports}var F=am(),Bo={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function lm(){if(Nf)return Oe;Nf=1;var ne=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,R={};function M(O,Y,Q){this.props=O,this.context=Y,this.refs=R,this.updater=Q||_}M.prototype.isReactComponent={},M.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=M.prototype;function N(O,Y,Q){this.props=O,this.context=Y,this.refs=R,this.updater=Q||_}var ye=N.prototype=new X;ye.constructor=N,z(ye,M.prototype),ye.isPureReactComponent=!0;var Re=Array.isArray;function be(){}var oe={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function _e(O,Y,Q){var re=Q.ref;return{$$typeof:ne,type:O,key:Y,ref:re!==void 0?re:null,props:Q}}function lt(O,Y){return _e(O.type,Y,O.props)}function Xe(O){return typeof O=="object"&&O!==null&&O.$$typeof===ne}function Pe(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return Y[Q]})}var mt=/\/+/g;function ht(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?Pe(""+O.key):Y.toString(36)}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(be,be):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,Q,re,ve){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case ne:case $:Ae=!0;break;case d:return Ae=O._init,G(Ae(O._payload),Y,Q,re,ve)}}if(Ae)return ve=ve(O),Ae=re===""?"."+ht(O,0):re,Re(ve)?(Q="",Ae!=null&&(Q=Ae.replace(mt,"$&/")+"/"),G(ve,Y,Q,"",function(bt){return bt})):ve!=null&&(Xe(ve)&&(ve=lt(ve,Q+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(mt,"$&/")+"/")+Ae)),Y.push(ve)),1;Ae=0;var Be=re===""?".":re+":";if(Re(O))for(var We=0;We<O.length;We++)re=O[We],De=Be+ht(re,We),Ae+=G(re,Y,Q,De,ve);else if(We=C(O),typeof We=="function")for(O=We.call(O),We=0;!(re=O.next()).done;)re=re.value,De=Be+ht(re,We++),Ae+=G(re,Y,Q,De,ve);else if(De==="object"){if(typeof O.then=="function")return G(yt(O),Y,Q,re,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function te(O,Y,Q){if(O==null)return O;var re=[],ve=0;return G(O,re,"","",function(De){return Y.call(Q,De,ve++)}),re}function de(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var He=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},pe={map:te,forEach:function(O,Y,Q){te(O,function(){Y.apply(this,arguments)},Q)},count:function(O){var Y=0;return te(O,function(){Y++}),Y},toArray:function(O){return te(O,function(Y){return Y})||[]},only:function(O){if(!Xe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Oe.Activity=v,Oe.Children=pe,Oe.Component=M,Oe.Fragment=a,Oe.Profiler=o,Oe.PureComponent=N,Oe.StrictMode=l,Oe.Suspense=u,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(O,Y,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=z({},O.props),ve=O.key;if(Y!=null)for(De in Y.key!==void 0&&(ve=""+Y.key),Y)!xe.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(re[De]=Y[De]);var De=arguments.length-2;if(De===1)re.children=Q;else if(1<De){for(var Ae=Array(De),Be=0;Be<De;Be++)Ae[Be]=arguments[Be+2];re.children=Ae}return _e(O.type,ve,re)},Oe.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},Oe.createElement=function(O,Y,Q){var re,ve={},De=null;if(Y!=null)for(re in Y.key!==void 0&&(De=""+Y.key),Y)xe.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Y[re]);var Ae=arguments.length-2;if(Ae===1)ve.children=Q;else if(1<Ae){for(var Be=Array(Ae),We=0;We<Ae;We++)Be[We]=arguments[We+2];ve.children=Be}if(O&&O.defaultProps)for(re in Ae=O.defaultProps,Ae)ve[re]===void 0&&(ve[re]=Ae[re]);return _e(O,De,ve)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:h,render:O}},Oe.isValidElement=Xe,Oe.lazy=function(O){return{$$typeof:d,_payload:{_status:-1,_result:O},_init:de}},Oe.memo=function(O,Y){return{$$typeof:c,type:O,compare:Y===void 0?null:Y}},Oe.startTransition=function(O){var Y=oe.T,Q={};oe.T=Q;try{var re=O(),ve=oe.S;ve!==null&&ve(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,He)}catch(De){He(De)}finally{Y!==null&&Q.types!==null&&(Y.types=Q.types),oe.T=Y}},Oe.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Oe.use=function(O){return oe.H.use(O)},Oe.useActionState=function(O,Y,Q){return oe.H.useActionState(O,Y,Q)},Oe.useCallback=function(O,Y){return oe.H.useCallback(O,Y)},Oe.useContext=function(O){return oe.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,Y){return oe.H.useDeferredValue(O,Y)},Oe.useEffect=function(O,Y){return oe.H.useEffect(O,Y)},Oe.useEffectEvent=function(O){return oe.H.useEffectEvent(O)},Oe.useId=function(){return oe.H.useId()},Oe.useImperativeHandle=function(O,Y,Q){return oe.H.useImperativeHandle(O,Y,Q)},Oe.useInsertionEffect=function(O,Y){return oe.H.useInsertionEffect(O,Y)},Oe.useLayoutEffect=function(O,Y){return oe.H.useLayoutEffect(O,Y)},Oe.useMemo=function(O,Y){return oe.H.useMemo(O,Y)},Oe.useOptimistic=function(O,Y){return oe.H.useOptimistic(O,Y)},Oe.useReducer=function(O,Y,Q){return oe.H.useReducer(O,Y,Q)},Oe.useRef=function(O){return oe.H.useRef(O)},Oe.useState=function(O){return oe.H.useState(O)},Oe.useSyncExternalStore=function(O,Y,Q){return oe.H.useSyncExternalStore(O,Y,Q)},Oe.useTransition=function(){return oe.H.useTransition()},Oe.version="19.2.0",Oe}var Bf;function Go(){return Bf||(Bf=1,Bo.exports=lm()),Bo.exports}var we=Go();const sm=Fo(we);var Lo={exports:{}},ll={},Po={exports:{}},Uo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function rm(){return Lf||(Lf=1,(function(ne){function $(G,te){var de=G.length;G.push(te);e:for(;0<de;){var He=de-1>>>1,pe=G[He];if(0<o(pe,te))G[He]=te,G[de]=pe,de=He;else break e}}function a(G){return G.length===0?null:G[0]}function l(G){if(G.length===0)return null;var te=G[0],de=G.pop();if(de!==te){G[0]=de;e:for(var He=0,pe=G.length,O=pe>>>1;He<O;){var Y=2*(He+1)-1,Q=G[Y],re=Y+1,ve=G[re];if(0>o(Q,de))re<pe&&0>o(ve,Q)?(G[He]=ve,G[re]=de,He=re):(G[He]=Q,G[Y]=de,He=Y);else if(re<pe&&0>o(ve,de))G[He]=ve,G[re]=de,He=re;else break e}}return te}function o(G,te){var de=G.sortIndex-te.sortIndex;return de!==0?de:G.id-te.id}if(ne.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;ne.unstable_now=function(){return f.now()}}else{var p=Date,h=p.now();ne.unstable_now=function(){return p.now()-h}}var u=[],c=[],d=1,v=null,S=3,C=!1,_=!1,z=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function ye(G){for(var te=a(c);te!==null;){if(te.callback===null)l(c);else if(te.startTime<=G)l(c),te.sortIndex=te.expirationTime,$(u,te);else break;te=a(c)}}function Re(G){if(z=!1,ye(G),!_)if(a(u)!==null)_=!0,be||(be=!0,Pe());else{var te=a(c);te!==null&&yt(Re,te.startTime-G)}}var be=!1,oe=-1,xe=5,_e=-1;function lt(){return R?!0:!(ne.unstable_now()-_e<xe)}function Xe(){if(R=!1,be){var G=ne.unstable_now();_e=G;var te=!0;try{e:{_=!1,z&&(z=!1,X(oe),oe=-1),C=!0;var de=S;try{t:{for(ye(G),v=a(u);v!==null&&!(v.expirationTime>G&&lt());){var He=v.callback;if(typeof He=="function"){v.callback=null,S=v.priorityLevel;var pe=He(v.expirationTime<=G);if(G=ne.unstable_now(),typeof pe=="function"){v.callback=pe,ye(G),te=!0;break t}v===a(u)&&l(u),ye(G)}else l(u);v=a(u)}if(v!==null)te=!0;else{var O=a(c);O!==null&&yt(Re,O.startTime-G),te=!1}}break e}finally{v=null,S=de,C=!1}te=void 0}}finally{te?Pe():be=!1}}}var Pe;if(typeof N=="function")Pe=function(){N(Xe)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ht=mt.port2;mt.port1.onmessage=Xe,Pe=function(){ht.postMessage(null)}}else Pe=function(){M(Xe,0)};function yt(G,te){oe=M(function(){G(ne.unstable_now())},te)}ne.unstable_IdlePriority=5,ne.unstable_ImmediatePriority=1,ne.unstable_LowPriority=4,ne.unstable_NormalPriority=3,ne.unstable_Profiling=null,ne.unstable_UserBlockingPriority=2,ne.unstable_cancelCallback=function(G){G.callback=null},ne.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<G?Math.floor(1e3/G):5},ne.unstable_getCurrentPriorityLevel=function(){return S},ne.unstable_next=function(G){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var de=S;S=te;try{return G()}finally{S=de}},ne.unstable_requestPaint=function(){R=!0},ne.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=S;S=G;try{return te()}finally{S=de}},ne.unstable_scheduleCallback=function(G,te,de){var He=ne.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=de+pe,G={id:d++,callback:te,priorityLevel:G,startTime:de,expirationTime:pe,sortIndex:-1},de>He?(G.sortIndex=de,$(c,G),a(u)===null&&G===a(c)&&(z?(X(oe),oe=-1):z=!0,yt(Re,de-He))):(G.sortIndex=pe,$(u,G),_||C||(_=!0,be||(be=!0,Pe()))),G},ne.unstable_shouldYield=lt,ne.unstable_wrapCallback=function(G){var te=S;return function(){var de=S;S=te;try{return G.apply(this,arguments)}finally{S=de}}}})(Uo)),Uo}var Pf;function om(){return Pf||(Pf=1,Po.exports=rm()),Po.exports}var jo={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function um(){if(Uf)return Nt;Uf=1;var ne=Go();function $(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error($(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(u,c,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:u,containerInfo:c,implementation:d}}var p=ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Nt.createPortal=function(u,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error($(299));return f(u,c,null,d)},Nt.flushSync=function(u){var c=p.T,d=l.p;try{if(p.T=null,l.p=2,u)return u()}finally{p.T=c,l.p=d,l.d.f()}},Nt.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,l.d.C(u,c))},Nt.prefetchDNS=function(u){typeof u=="string"&&l.d.D(u)},Nt.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var d=c.as,v=h(d,c.crossOrigin),S=typeof c.integrity=="string"?c.integrity:void 0,C=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?l.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:C}):d==="script"&&l.d.X(u,{crossOrigin:v,integrity:S,fetchPriority:C,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Nt.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=h(c.as,c.crossOrigin);l.d.M(u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&l.d.M(u)},Nt.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,v=h(d,c.crossOrigin);l.d.L(u,d,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Nt.preloadModule=function(u,c){if(typeof u=="string")if(c){var d=h(c.as,c.crossOrigin);l.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else l.d.m(u)},Nt.requestFormReset=function(u){l.d.r(u)},Nt.unstable_batchedUpdates=function(u,c){return u(c)},Nt.useFormState=function(u,c,d){return p.H.useFormState(u,c,d)},Nt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var jf;function cm(){if(jf)return jo.exports;jf=1;function ne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ne)}catch($){console.error($)}}return ne(),jo.exports=um(),jo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function hm(){if(Ff)return ll;Ff=1;var ne=om(),$=Go(),a=cm();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u(e){if(f(e)!==e)throw Error(l(188))}function c(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return u(s),e;if(r===n)return u(s),t;r=r.sibling}throw Error(l(188))}if(i.return!==n.return)i=s,n=r;else{for(var g=!1,w=s.child;w;){if(w===i){g=!0,i=s,n=r;break}if(w===n){g=!0,n=s,i=r;break}w=w.sibling}if(!g){for(w=r.child;w;){if(w===i){g=!0,i=r,n=s;break}if(w===n){g=!0,n=r,i=s;break}w=w.sibling}if(!g)throw Error(l(189))}}if(i.alternate!==n)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),N=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),Xe=Symbol.iterator;function Pe(e){return e===null||typeof e!="object"?null:(e=Xe&&e[Xe]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===mt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case Re:return"Suspense";case be:return"SuspenseList";case _e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case N:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:ht(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return ht(e(t))}catch{}}return null}var yt=Array.isArray,G=$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],pe=-1;function O(e){return{current:e}}function Y(e){0>pe||(e.current=He[pe],He[pe]=null,pe--)}function Q(e,t){pe++,He[pe]=e.current,e.current=t}var re=O(null),ve=O(null),De=O(null),Ae=O(null);function Be(e,t){switch(Q(De,t),Q(ve,e),Q(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ef(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ef(t),e=tf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(re),Q(re,e)}function We(){Y(re),Y(ve),Y(De)}function bt(e){e.memoizedState!==null&&Q(Ae,e);var t=re.current,i=tf(t,e.type);t!==i&&(Q(ve,e),Q(re,i))}function Rt(e){ve.current===e&&(Y(re),Y(ve)),Ae.current===e&&(Y(Ae),el._currentValue=de)}var oi,Ti;function Ht(e){if(oi===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);oi=t&&t[1]||"",Ti=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oi+e+Ti}var ui=!1;function ot(e,t){if(!e||ui)return"";ui=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var j=V}Reflect.construct(e,[],W)}else{try{W.call()}catch(V){j=V}e.call(W.prototype)}}else{try{throw Error()}catch(V){j=V}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&j&&typeof V.stack=="string")return[V.stack,j.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),g=r[0],w=r[1];if(g&&w){var D=g.split(`
`),P=w.split(`
`);for(s=n=0;n<D.length&&!D[n].includes("DetermineComponentFrameRoot");)n++;for(;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;if(n===D.length||s===P.length)for(n=D.length-1,s=P.length-1;1<=n&&0<=s&&D[n]!==P[s];)s--;for(;1<=n&&0<=s;n--,s--)if(D[n]!==P[s]){if(n!==1||s!==1)do if(n--,s--,0>s||D[n]!==P[s]){var Z=`
`+D[n].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=n&&0<=s);break}}}finally{ui=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ht(i):""}function m(e,t){switch(e.tag){case 26:case 27:case 5:return Ht(e.type);case 16:return Ht("Lazy");case 13:return e.child!==t&&t!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return Ht("Activity");default:return""}}function E(e){try{var t="",i=null;do t+=m(e,i),i=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var B=Object.prototype.hasOwnProperty,ee=ne.unstable_scheduleCallback,K=ne.unstable_cancelCallback,me=ne.unstable_shouldYield,ie=ne.unstable_requestPaint,Ce=ne.unstable_now,Le=ne.unstable_getCurrentPriorityLevel,Ke=ne.unstable_ImmediatePriority,ge=ne.unstable_UserBlockingPriority,ke=ne.unstable_NormalPriority,T=ne.unstable_LowPriority,y=ne.unstable_IdlePriority,x=ne.log,b=ne.unstable_setDisableYieldValue,q=null,J=null;function he(e){if(typeof x=="function"&&b(e),J&&typeof J.setStrictMode=="function")try{J.setStrictMode(q,e)}catch{}}var ze=Math.clz32?Math.clz32:ft,Te=Math.log,Dt=Math.LN2;function ft(e){return e>>>=0,e===0?32:31-(Te(e)/Dt|0)|0}var qt=256,Si=262144,gi=4194304;function Wt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ji(e,t,i){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=n&134217727;return w!==0?(n=w&~r,n!==0?s=Wt(n):(g&=w,g!==0?s=Wt(g):i||(i=w&~e,i!==0&&(s=Wt(i))))):(w=n&~r,w!==0?s=Wt(w):g!==0?s=Wt(g):i||(i=n&~e,i!==0&&(s=Wt(i)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,i=t&-t,r>=i||r===32&&(i&4194048)!==0)?t:s}function fn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Es(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var e=gi;return gi<<=1,(gi&62914560)===0&&(gi=4194304),e}function da(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function dn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bs(e,t,i,n,s,r){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,D=e.expirationTimes,P=e.hiddenUpdates;for(i=g&~i;0<i;){var Z=31-ze(i),W=1<<Z;w[Z]=0,D[Z]=-1;var j=P[Z];if(j!==null)for(P[Z]=null,Z=0;Z<j.length;Z++){var V=j[Z];V!==null&&(V.lane&=-536870913)}i&=~W}n!==0&&ol(e,n,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(g&~t))}function ol(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ze(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|i&261930}function _s(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-ze(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}function ul(e,t){var i=t&-t;return i=(i&42)!==0?1:ga(i),(i&(e.suspendedLanes|t))!==0?0:i}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ma(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pa(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:_f(e.type))}function U(e,t){var i=te.p;try{return te.p=e,t()}finally{te.p=i}}var k=Math.random().toString(36).slice(2),ae="__reactFiber$"+k,le="__reactProps$"+k,se="__reactContainer$"+k,ue="__reactEvents$"+k,Ue="__reactListeners$"+k,Ge="__reactHandles$"+k,ct="__reactResources$"+k,nt="__reactMarker$"+k;function Kt(e){delete e[ae],delete e[le],delete e[ue],delete e[Ue],delete e[Ge]}function ci(e){var t=e[ae];if(t)return t;for(var i=e.parentNode;i;){if(t=i[se]||i[ae]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=uf(e);e!==null;){if(i=e[ae])return i;e=uf(e)}return t}e=i,i=e.parentNode}return null}function Fi(e){if(e=e[ae]||e[se]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Gi(e){var t=e[ct];return t||(t=e[ct]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[nt]=!0}var qo=new Set,Vo={};function mn(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(Vo[e]=t,e=0;e<t.length;e++)qo.add(t[e])}var If=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},ko={};function Qf(e){return B.call(ko,e)?!0:B.call(Zo,e)?!1:If.test(e)?ko[e]=!0:(Zo[e]=!0,!1)}function cl(e,t,i){if(Qf(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function hl(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function wi(e,t,i,n){if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+n)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wf(e,t,i){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(g){i=""+g,r.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){if(!e._valueTracker){var t=Xo(e)?"checked":"value";e._valueTracker=Wf(e,t,""+e[t])}}function Yo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Xo(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kf=/[\n"\\]/g;function $t(e){return e.replace(Kf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Rs(e,t,i,n,s,r,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jt(t)):e.value!==""+Jt(t)&&(e.value=""+Jt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ds(e,g,Jt(t)):i!=null?Ds(e,g,Jt(i)):n!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Jt(w):e.removeAttribute("name")}function Io(e,t,i,n,s,r,g,w){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||i!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Cs(e);return}i=i!=null?""+Jt(i):"",t=t!=null?""+Jt(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=w?e.checked:!!n,e.defaultChecked=!!n,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Cs(e)}function Ds(e,t,i){t==="number"&&fl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Hn(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+Jt(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qo(e,t,i){if(t!=null&&(t=""+Jt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Jt(i):""}function Wo(e,t,i,n){if(t==null){if(n!=null){if(i!=null)throw Error(l(92));if(yt(n)){if(1<n.length)throw Error(l(93));n=n[0]}i=n}i==null&&(i=""),t=i}i=Jt(t),e.defaultValue=i,n=e.textContent,n===i&&n!==""&&n!==null&&(e.value=n),Cs(e)}function Nn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Jf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,t,i){var n=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,i):typeof i!="number"||i===0||Jf.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Jo(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var n in i)!i.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&i[s]!==n&&Ko(e,s,n)}else for(var r in t)t.hasOwnProperty(r)&&Ko(e,r,t[r])}function zs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return ed.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xi(){}var Os=null;function As(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,Ln=null;function $o(e){var t=Fi(e);if(t&&(e=t.stateNode)){var i=e[le]||null;e:switch(e=t.stateNode,t.type){case"input":if(Rs(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=n[le]||null;if(!s)throw Error(l(90));Rs(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<i.length;t++)n=i[t],n.form===e.form&&Yo(n)}break e;case"textarea":Qo(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Hn(e,!!i.multiple,t,!1)}}}var Ms=!1;function eu(e,t,i){if(Ms)return e(t,i);Ms=!0;try{var n=e(t);return n}finally{if(Ms=!1,(Bn!==null||Ln!==null)&&(es(),Bn&&(t=Bn,e=Ln,Ln=Bn=null,$o(t),e)))for(t=0;t<e.length;t++)$o(e[t])}}function va(e,t){var i=e.stateNode;if(i===null)return null;var n=i[le]||null;if(n===null)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Ei)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Hs=!1}var qi=null,Ns=null,gl=null;function tu(){if(gl)return gl;var e,t=Ns,i=t.length,n,s="value"in qi?qi.value:qi.textContent,r=s.length;for(e=0;e<i&&t[e]===s[e];e++);var g=i-e;for(n=1;n<=g&&t[i-n]===s[r-n];n++);return gl=s.slice(e,1<n?1-n:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pl(){return!0}function iu(){return!1}function Lt(e){function t(i,n,s,r,g){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(r):r[w]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?pl:iu,this.isPropagationStopped=iu,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Lt(pn),Ta=v({},pn,{view:0,detail:0}),td=Lt(Ta),Bs,Ls,Sa,yl=v({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(Bs=e.screenX-Sa.screenX,Ls=e.screenY-Sa.screenY):Ls=Bs=0,Sa=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),nu=Lt(yl),id=v({},yl,{dataTransfer:0}),nd=Lt(id),ad=v({},Ta,{relatedTarget:0}),Ps=Lt(ad),ld=v({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),sd=Lt(ld),rd=v({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),od=Lt(rd),ud=v({},pn,{data:0}),au=Lt(ud),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fd[e])?!!t[e]:!1}function Us(){return dd}var gd=v({},Ta,{key:function(e){if(e.key){var t=cd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),md=Lt(gd),pd=v({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Lt(pd),vd=v({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),yd=Lt(vd),Td=v({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sd=Lt(Td),wd=v({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xd=Lt(wd),Ed=v({},pn,{newState:0,oldState:0}),bd=Lt(Ed),_d=[9,13,27,32],js=Ei&&"CompositionEvent"in window,wa=null;Ei&&"documentMode"in document&&(wa=document.documentMode);var Cd=Ei&&"TextEvent"in window&&!wa,su=Ei&&(!js||wa&&8<wa&&11>=wa),ru=" ",ou=!1;function uu(e,t){switch(e){case"keyup":return _d.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function Rd(e,t){switch(e){case"compositionend":return cu(t);case"keypress":return t.which!==32?null:(ou=!0,ru);case"textInput":return e=t.data,e===ru&&ou?null:e;default:return null}}function Dd(e,t){if(Pn)return e==="compositionend"||!js&&uu(e,t)?(e=tu(),gl=Ns=qi=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return su&&t.locale!=="ko"?null:t.data;default:return null}}var zd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zd[e.type]:t==="textarea"}function fu(e,t,i,n){Bn?Ln?Ln.push(n):Ln=[n]:Bn=n,t=rs(t,"onChange"),0<t.length&&(i=new vl("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var xa=null,Ea=null;function Od(e){Ih(e,0)}function Tl(e){var t=gn(e);if(Yo(t))return e}function du(e,t){if(e==="change")return t}var gu=!1;if(Ei){var Fs;if(Ei){var Gs="oninput"in document;if(!Gs){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),Gs=typeof mu.oninput=="function"}Fs=Gs}else Fs=!1;gu=Fs&&(!document.documentMode||9<document.documentMode)}function pu(){xa&&(xa.detachEvent("onpropertychange",vu),Ea=xa=null)}function vu(e){if(e.propertyName==="value"&&Tl(Ea)){var t=[];fu(t,Ea,e,As(e)),eu(Od,t)}}function Ad(e,t,i){e==="focusin"?(pu(),xa=t,Ea=i,xa.attachEvent("onpropertychange",vu)):e==="focusout"&&pu()}function Md(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(Ea)}function Hd(e,t){if(e==="click")return Tl(t)}function Nd(e,t){if(e==="input"||e==="change")return Tl(t)}function Bd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Bd;function ba(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!B.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,t){var i=yu(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=yu(i)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fl(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=fl(e.document)}return t}function qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ld=Ei&&"documentMode"in document&&11>=document.documentMode,Un=null,Vs=null,_a=null,Zs=!1;function xu(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Zs||Un==null||Un!==fl(n)||(n=Un,"selectionStart"in n&&qs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_a&&ba(_a,n)||(_a=n,n=rs(Vs,"onSelect"),0<n.length&&(t=new vl("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=Un)))}function vn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var jn={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},ks={},Eu={};Ei&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function yn(e){if(ks[e])return ks[e];if(!jn[e])return e;var t=jn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Eu)return ks[e]=t[i];return e}var bu=yn("animationend"),_u=yn("animationiteration"),Cu=yn("animationstart"),Pd=yn("transitionrun"),Ud=yn("transitionstart"),jd=yn("transitioncancel"),Ru=yn("transitionend"),Du=new Map,Xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xs.push("scrollEnd");function hi(e,t){Du.set(e,t),mn(t,[e])}var Sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ei=[],Fn=0,Ys=0;function wl(){for(var e=Fn,t=Ys=Fn=0;t<e;){var i=ei[t];ei[t++]=null;var n=ei[t];ei[t++]=null;var s=ei[t];ei[t++]=null;var r=ei[t];if(ei[t++]=null,n!==null&&s!==null){var g=n.pending;g===null?s.next=s:(s.next=g.next,g.next=s),n.pending=s}r!==0&&zu(i,s,r)}}function xl(e,t,i,n){ei[Fn++]=e,ei[Fn++]=t,ei[Fn++]=i,ei[Fn++]=n,Ys|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Is(e,t,i,n){return xl(e,t,i,n),El(e)}function Tn(e,t){return xl(e,null,null,t),El(e)}function zu(e,t,i){e.lanes|=i;var n=e.alternate;n!==null&&(n.lanes|=i);for(var s=!1,r=e.return;r!==null;)r.childLanes|=i,n=r.alternate,n!==null&&(n.childLanes|=i),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-ze(i),e=r.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=i|536870912),r):null}function El(e){if(50<Ya)throw Ya=0,no=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function Fd(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,i,n){return new Fd(e,t,i,n)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,t){var i=e.alternate;return i===null?(i=Zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ou(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bl(e,t,i,n,s,r){var g=0;if(n=e,typeof e=="function")Qs(e)&&(g=1);else if(typeof e=="string")g=kg(e,i,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _e:return e=Zt(31,i,t,s),e.elementType=_e,e.lanes=r,e;case z:return Sn(i.children,s,r,t);case R:g=8,s|=24;break;case M:return e=Zt(12,i,t,s|2),e.elementType=M,e.lanes=r,e;case Re:return e=Zt(13,i,t,s),e.elementType=Re,e.lanes=r,e;case be:return e=Zt(19,i,t,s),e.elementType=be,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:g=10;break e;case X:g=9;break e;case ye:g=11;break e;case oe:g=14;break e;case xe:g=16,n=null;break e}g=29,i=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=Zt(g,i,t,s),t.elementType=e,t.type=n,t.lanes=r,t}function Sn(e,t,i,n){return e=Zt(7,e,n,t),e.lanes=i,e}function Ws(e,t,i){return e=Zt(6,e,null,t),e.lanes=i,e}function Au(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function Ks(e,t,i){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mu=new WeakMap;function ti(e,t){if(typeof e=="object"&&e!==null){var i=Mu.get(e);return i!==void 0?i:(t={value:e,source:t,stack:E(t)},Mu.set(e,t),t)}return{value:e,source:t,stack:E(t)}}var qn=[],Vn=0,_l=null,Ca=0,ii=[],ni=0,Vi=null,mi=1,pi="";function _i(e,t){qn[Vn++]=Ca,qn[Vn++]=_l,_l=e,Ca=t}function Hu(e,t,i){ii[ni++]=mi,ii[ni++]=pi,ii[ni++]=Vi,Vi=e;var n=mi;e=pi;var s=32-ze(n)-1;n&=~(1<<s),i+=1;var r=32-ze(t)+s;if(30<r){var g=s-s%5;r=(n&(1<<g)-1).toString(32),n>>=g,s-=g,mi=1<<32-ze(t)+s|i<<s|n,pi=r+e}else mi=1<<r|i<<s|n,pi=e}function Js(e){e.return!==null&&(_i(e,1),Hu(e,1,0))}function $s(e){for(;e===_l;)_l=qn[--Vn],qn[Vn]=null,Ca=qn[--Vn],qn[Vn]=null;for(;e===Vi;)Vi=ii[--ni],ii[ni]=null,pi=ii[--ni],ii[ni]=null,mi=ii[--ni],ii[ni]=null}function Nu(e,t){ii[ni++]=mi,ii[ni++]=pi,ii[ni++]=Vi,mi=t.id,pi=t.overflow,Vi=e}var zt=null,st=null,Ze=!1,Zi=null,ai=!1,er=Error(l(519));function ki(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ra(ti(t,e)),er}function Bu(e){var t=e.stateNode,i=e.type,n=e.memoizedProps;switch(t[ae]=e,t[le]=n,i){case"dialog":Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":case"embed":Fe("load",t);break;case"video":case"audio":for(i=0;i<Qa.length;i++)Fe(Qa[i],t);break;case"source":Fe("error",t);break;case"img":case"image":case"link":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"input":Fe("invalid",t),Io(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Fe("invalid",t);break;case"textarea":Fe("invalid",t),Wo(t,n.value,n.defaultValue,n.children)}i=n.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||n.suppressHydrationWarning===!0||Jh(t.textContent,i)?(n.popover!=null&&(Fe("beforetoggle",t),Fe("toggle",t)),n.onScroll!=null&&Fe("scroll",t),n.onScrollEnd!=null&&Fe("scrollend",t),n.onClick!=null&&(t.onclick=xi),t=!0):t=!1,t||ki(e,!0)}function Lu(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:zt=zt.return}}function Zn(e){if(e!==zt)return!1;if(!Ze)return Lu(e),Ze=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||To(e.type,e.memoizedProps)),i=!i),i&&st&&ki(e),Lu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));st=of(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));st=of(e)}else t===27?(t=st,sn(e.type)?(e=bo,bo=null,st=e):st=t):st=zt?si(e.stateNode.nextSibling):null;return!0}function wn(){st=zt=null,Ze=!1}function tr(){var e=Zi;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Zi=null),e}function Ra(e){Zi===null?Zi=[e]:Zi.push(e)}var ir=O(null),xn=null,Ci=null;function Xi(e,t,i){Q(ir,t._currentValue),t._currentValue=i}function Ri(e){e._currentValue=ir.current,Y(ir)}function nr(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function ar(e,t,i,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var g=s.child;r=r.firstContext;e:for(;r!==null;){var w=r;r=s;for(var D=0;D<t.length;D++)if(w.context===t[D]){r.lanes|=i,w=r.alternate,w!==null&&(w.lanes|=i),nr(r.return,i,e),n||(g=null);break e}r=w.next}}else if(s.tag===18){if(g=s.return,g===null)throw Error(l(341));g.lanes|=i,r=g.alternate,r!==null&&(r.lanes|=i),nr(g,i,e),g=null}else g=s.child;if(g!==null)g.return=s;else for(g=s;g!==null;){if(g===e){g=null;break}if(s=g.sibling,s!==null){s.return=g.return,g=s;break}g=g.return}s=g}}function kn(e,t,i,n){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var g=s.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var w=s.type;Vt(s.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(s===Ae.current){if(g=s.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(el):e=[el])}s=s.return}e!==null&&ar(t,e,i,n),t.flags|=262144}function Cl(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function En(e){xn=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Pu(xn,e)}function Rl(e,t){return xn===null&&En(e),Pu(e,t)}function Pu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Ci===null){if(e===null)throw Error(l(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return i}var Gd=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},qd=ne.unstable_scheduleCallback,Vd=ne.unstable_NormalPriority,St={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lr(){return{controller:new Gd,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&qd(Vd,function(){e.controller.abort()})}var za=null,sr=0,Xn=0,Yn=null;function Zd(e,t){if(za===null){var i=za=[];sr=0,Xn=uo(),Yn={status:"pending",value:void 0,then:function(n){i.push(n)}}}return sr++,t.then(Uu,Uu),t}function Uu(){if(--sr===0&&za!==null){Yn!==null&&(Yn.status="fulfilled");var e=za;za=null,Xn=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kd(e,t){var i=[],n={status:"pending",value:null,reason:null,then:function(s){i.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<i.length;s++)(0,i[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<i.length;s++)(0,i[s])(void 0)}),n}var ju=G.S;G.S=function(e,t){xh=Ce(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zd(e,t),ju!==null&&ju(e,t)};var bn=O(null);function rr(){var e=bn.current;return e!==null?e:at.pooledCache}function Dl(e,t){t===null?Q(bn,bn.current):Q(bn,t.pool)}function Fu(){var e=rr();return e===null?null:{parent:St._currentValue,pool:e}}var In=Error(l(460)),or=Error(l(474)),zl=Error(l(542)),Ol={then:function(){}};function Gu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qu(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(xi,xi),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zu(e),e;default:if(typeof t.status=="string")t.then(xi,xi);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zu(e),e}throw Cn=t,In}}function _n(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Cn=i,In):i}}var Cn=null;function Vu(){if(Cn===null)throw Error(l(459));var e=Cn;return Cn=null,e}function Zu(e){if(e===In||e===zl)throw Error(l(483))}var Qn=null,Oa=0;function Al(e){var t=Oa;return Oa+=1,Qn===null&&(Qn=[]),qu(Qn,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ml(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ku(e){function t(H,A){if(e){var L=H.deletions;L===null?(H.deletions=[A],H.flags|=16):L.push(A)}}function i(H,A){if(!e)return null;for(;A!==null;)t(H,A),A=A.sibling;return null}function n(H){for(var A=new Map;H!==null;)H.key!==null?A.set(H.key,H):A.set(H.index,H),H=H.sibling;return A}function s(H,A){return H=bi(H,A),H.index=0,H.sibling=null,H}function r(H,A,L){return H.index=L,e?(L=H.alternate,L!==null?(L=L.index,L<A?(H.flags|=67108866,A):L):(H.flags|=67108866,A)):(H.flags|=1048576,A)}function g(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function w(H,A,L,I){return A===null||A.tag!==6?(A=Ws(L,H.mode,I),A.return=H,A):(A=s(A,L),A.return=H,A)}function D(H,A,L,I){var Se=L.type;return Se===z?Z(H,A,L.props.children,I,L.key):A!==null&&(A.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===xe&&_n(Se)===A.type)?(A=s(A,L.props),Aa(A,L),A.return=H,A):(A=bl(L.type,L.key,L.props,null,H.mode,I),Aa(A,L),A.return=H,A)}function P(H,A,L,I){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=Ks(L,H.mode,I),A.return=H,A):(A=s(A,L.children||[]),A.return=H,A)}function Z(H,A,L,I,Se){return A===null||A.tag!==7?(A=Sn(L,H.mode,I,Se),A.return=H,A):(A=s(A,L),A.return=H,A)}function W(H,A,L){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Ws(""+A,H.mode,L),A.return=H,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return L=bl(A.type,A.key,A.props,null,H.mode,L),Aa(L,A),L.return=H,L;case _:return A=Ks(A,H.mode,L),A.return=H,A;case xe:return A=_n(A),W(H,A,L)}if(yt(A)||Pe(A))return A=Sn(A,H.mode,L,null),A.return=H,A;if(typeof A.then=="function")return W(H,Al(A),L);if(A.$$typeof===N)return W(H,Rl(H,A),L);Ml(H,A)}return null}function j(H,A,L,I){var Se=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return Se!==null?null:w(H,A,""+L,I);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===Se?D(H,A,L,I):null;case _:return L.key===Se?P(H,A,L,I):null;case xe:return L=_n(L),j(H,A,L,I)}if(yt(L)||Pe(L))return Se!==null?null:Z(H,A,L,I,null);if(typeof L.then=="function")return j(H,A,Al(L),I);if(L.$$typeof===N)return j(H,A,Rl(H,L),I);Ml(H,L)}return null}function V(H,A,L,I,Se){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return H=H.get(L)||null,w(A,H,""+I,Se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return H=H.get(I.key===null?L:I.key)||null,D(A,H,I,Se);case _:return H=H.get(I.key===null?L:I.key)||null,P(A,H,I,Se);case xe:return I=_n(I),V(H,A,L,I,Se)}if(yt(I)||Pe(I))return H=H.get(L)||null,Z(A,H,I,Se,null);if(typeof I.then=="function")return V(H,A,L,Al(I),Se);if(I.$$typeof===N)return V(H,A,L,Rl(A,I),Se);Ml(A,I)}return null}function ce(H,A,L,I){for(var Se=null,Ye=null,fe=A,Ne=A=0,Ve=null;fe!==null&&Ne<L.length;Ne++){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var Ie=j(H,fe,L[Ne],I);if(Ie===null){fe===null&&(fe=Ve);break}e&&fe&&Ie.alternate===null&&t(H,fe),A=r(Ie,A,Ne),Ye===null?Se=Ie:Ye.sibling=Ie,Ye=Ie,fe=Ve}if(Ne===L.length)return i(H,fe),Ze&&_i(H,Ne),Se;if(fe===null){for(;Ne<L.length;Ne++)fe=W(H,L[Ne],I),fe!==null&&(A=r(fe,A,Ne),Ye===null?Se=fe:Ye.sibling=fe,Ye=fe);return Ze&&_i(H,Ne),Se}for(fe=n(fe);Ne<L.length;Ne++)Ve=V(fe,H,Ne,L[Ne],I),Ve!==null&&(e&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),A=r(Ve,A,Ne),Ye===null?Se=Ve:Ye.sibling=Ve,Ye=Ve);return e&&fe.forEach(function(hn){return t(H,hn)}),Ze&&_i(H,Ne),Se}function Ee(H,A,L,I){if(L==null)throw Error(l(151));for(var Se=null,Ye=null,fe=A,Ne=A=0,Ve=null,Ie=L.next();fe!==null&&!Ie.done;Ne++,Ie=L.next()){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var hn=j(H,fe,Ie.value,I);if(hn===null){fe===null&&(fe=Ve);break}e&&fe&&hn.alternate===null&&t(H,fe),A=r(hn,A,Ne),Ye===null?Se=hn:Ye.sibling=hn,Ye=hn,fe=Ve}if(Ie.done)return i(H,fe),Ze&&_i(H,Ne),Se;if(fe===null){for(;!Ie.done;Ne++,Ie=L.next())Ie=W(H,Ie.value,I),Ie!==null&&(A=r(Ie,A,Ne),Ye===null?Se=Ie:Ye.sibling=Ie,Ye=Ie);return Ze&&_i(H,Ne),Se}for(fe=n(fe);!Ie.done;Ne++,Ie=L.next())Ie=V(fe,H,Ne,Ie.value,I),Ie!==null&&(e&&Ie.alternate!==null&&fe.delete(Ie.key===null?Ne:Ie.key),A=r(Ie,A,Ne),Ye===null?Se=Ie:Ye.sibling=Ie,Ye=Ie);return e&&fe.forEach(function(im){return t(H,im)}),Ze&&_i(H,Ne),Se}function it(H,A,L,I){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var Se=L.key;A!==null;){if(A.key===Se){if(Se=L.type,Se===z){if(A.tag===7){i(H,A.sibling),I=s(A,L.props.children),I.return=H,H=I;break e}}else if(A.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===xe&&_n(Se)===A.type){i(H,A.sibling),I=s(A,L.props),Aa(I,L),I.return=H,H=I;break e}i(H,A);break}else t(H,A);A=A.sibling}L.type===z?(I=Sn(L.props.children,H.mode,I,L.key),I.return=H,H=I):(I=bl(L.type,L.key,L.props,null,H.mode,I),Aa(I,L),I.return=H,H=I)}return g(H);case _:e:{for(Se=L.key;A!==null;){if(A.key===Se)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){i(H,A.sibling),I=s(A,L.children||[]),I.return=H,H=I;break e}else{i(H,A);break}else t(H,A);A=A.sibling}I=Ks(L,H.mode,I),I.return=H,H=I}return g(H);case xe:return L=_n(L),it(H,A,L,I)}if(yt(L))return ce(H,A,L,I);if(Pe(L)){if(Se=Pe(L),typeof Se!="function")throw Error(l(150));return L=Se.call(L),Ee(H,A,L,I)}if(typeof L.then=="function")return it(H,A,Al(L),I);if(L.$$typeof===N)return it(H,A,Rl(H,L),I);Ml(H,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,A!==null&&A.tag===6?(i(H,A.sibling),I=s(A,L),I.return=H,H=I):(i(H,A),I=Ws(L,H.mode,I),I.return=H,H=I),g(H)):i(H,A)}return function(H,A,L,I){try{Oa=0;var Se=it(H,A,L,I);return Qn=null,Se}catch(fe){if(fe===In||fe===zl)throw fe;var Ye=Zt(29,fe,null,H.mode);return Ye.lanes=I,Ye.return=H,Ye}finally{}}}var Rn=ku(!0),Xu=ku(!1),Yi=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Qe&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=El(e),zu(e,null,i),t}return xl(e,n,t,i),El(e)}function Ma(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,_s(e,i)}}function hr(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};r===null?s=r=g:r=r.next=g,i=i.next}while(i!==null);r===null?s=r=t:r=r.next=t}else s=r=t;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var fr=!1;function Ha(){if(fr){var e=Yn;if(e!==null)throw e}}function Na(e,t,i,n){fr=!1;var s=e.updateQueue;Yi=!1;var r=s.firstBaseUpdate,g=s.lastBaseUpdate,w=s.shared.pending;if(w!==null){s.shared.pending=null;var D=w,P=D.next;D.next=null,g===null?r=P:g.next=P,g=D;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==g&&(w===null?Z.firstBaseUpdate=P:w.next=P,Z.lastBaseUpdate=D))}if(r!==null){var W=s.baseState;g=0,Z=P=D=null,w=r;do{var j=w.lane&-536870913,V=j!==w.lane;if(V?(qe&j)===j:(n&j)===j){j!==0&&j===Xn&&(fr=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=e,Ee=w;j=t;var it=i;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){W=ce.call(it,W,j);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,j=typeof ce=="function"?ce.call(it,W,j):ce,j==null)break e;W=v({},W,j);break e;case 2:Yi=!0}}j=w.callback,j!==null&&(e.flags|=64,V&&(e.flags|=8192),V=s.callbacks,V===null?s.callbacks=[j]:V.push(j))}else V={lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(P=Z=V,D=W):Z=Z.next=V,g|=j;if(w=w.next,w===null){if(w=s.shared.pending,w===null)break;V=w,w=V.next,V.next=null,s.lastBaseUpdate=V,s.shared.pending=null}}while(!0);Z===null&&(D=W),s.baseState=D,s.firstBaseUpdate=P,s.lastBaseUpdate=Z,r===null&&(s.shared.lanes=0),en|=g,e.lanes=g,e.memoizedState=W}}function Yu(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Iu(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Yu(i[e],t)}var Wn=O(null),Hl=O(0);function Qu(e,t){e=Li,Q(Hl,e),Q(Wn,t),Li=e|t.baseLanes}function dr(){Q(Hl,Li),Q(Wn,Wn.current)}function gr(){Li=Hl.current,Y(Wn),Y(Hl)}var kt=O(null),li=null;function Wi(e){var t=e.alternate;Q(pt,pt.current&1),Q(kt,e),li===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(li=e)}function mr(e){Q(pt,pt.current),Q(kt,e),li===null&&(li=e)}function Wu(e){e.tag===22?(Q(pt,pt.current),Q(kt,e),li===null&&(li=e)):Ki()}function Ki(){Q(pt,pt.current),Q(kt,kt.current)}function Xt(e){Y(kt),li===e&&(li=null),Y(pt)}var pt=O(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||xo(i)||Eo(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Di=0,Me=null,et=null,wt=null,Bl=!1,Kn=!1,Dn=!1,Ll=0,Ba=0,Jn=null,Xd=0;function dt(){throw Error(l(321))}function pr(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Vt(e[i],t[i]))return!1;return!0}function vr(e,t,i,n,s,r){return Di=r,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?Hc:Mr,Dn=!1,r=i(n,s),Dn=!1,Kn&&(r=Ju(t,i,n,s)),Ku(e),r}function Ku(e){G.H=Ua;var t=et!==null&&et.next!==null;if(Di=0,wt=et=Me=null,Bl=!1,Ba=0,Jn=null,t)throw Error(l(300));e===null||xt||(e=e.dependencies,e!==null&&Cl(e)&&(xt=!0))}function Ju(e,t,i,n){Me=e;var s=0;do{if(Kn&&(Jn=null),Ba=0,Kn=!1,25<=s)throw Error(l(301));if(s+=1,wt=et=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}G.H=Nc,r=t(i,n)}while(Kn);return r}function Yd(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?La(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Me.flags|=1024),t}function yr(){var e=Ll!==0;return Ll=0,e}function Tr(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Sr(e){if(Bl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bl=!1}Di=0,wt=et=Me=null,Kn=!1,Ba=Ll=0,Jn=null}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Me.memoizedState=wt=e:wt=wt.next=e,wt}function vt(){if(et===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=wt===null?Me.memoizedState:wt.next;if(t!==null)wt=t,et=e;else{if(e===null)throw Me.alternate===null?Error(l(467)):Error(l(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},wt===null?Me.memoizedState=wt=e:wt=wt.next=e}return wt}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(e){var t=Ba;return Ba+=1,Jn===null&&(Jn=[]),e=qu(Jn,e,t),t=Me,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?Hc:Mr),e}function Ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return La(e);if(e.$$typeof===N)return Ot(e)}throw Error(l(438,String(e)))}function wr(e){var t=null,i=Me.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var n=Me.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Pl(),Me.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),n=0;n<e;n++)i[n]=lt;return t.index++,i}function zi(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=vt();return xr(t,et,e)}function xr(e,t,i){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=i;var s=e.baseQueue,r=n.pending;if(r!==null){if(s!==null){var g=s.next;s.next=r.next,r.next=g}t.baseQueue=s=r,n.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var w=g=null,D=null,P=t,Z=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(qe&W)===W:(Di&W)===W){var j=P.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===Xn&&(Z=!0);else if((Di&j)===j){P=P.next,j===Xn&&(Z=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(w=D=W,g=r):D=D.next=W,Me.lanes|=j,en|=j;W=P.action,Dn&&i(r,W),r=P.hasEagerState?P.eagerState:i(r,W)}else j={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(w=D=j,g=r):D=D.next=j,Me.lanes|=W,en|=W;P=P.next}while(P!==null&&P!==t);if(D===null?g=r:D.next=w,!Vt(r,e.memoizedState)&&(xt=!0,Z&&(i=Yn,i!==null)))throw i;e.memoizedState=r,e.baseState=g,e.baseQueue=D,n.lastRenderedState=r}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Er(e){var t=vt(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,r=t.memoizedState;if(s!==null){i.pending=null;var g=s=s.next;do r=e(r,g.action),g=g.next;while(g!==s);Vt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),i.lastRenderedState=r}return[r,n]}function $u(e,t,i){var n=Me,s=vt(),r=Ze;if(r){if(i===void 0)throw Error(l(407));i=i()}else i=t();var g=!Vt((et||s).memoizedState,i);if(g&&(s.memoizedState=i,xt=!0),s=s.queue,Cr(ic.bind(null,n,s,e),[e]),s.getSnapshot!==t||g||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,$n(9,{destroy:void 0},tc.bind(null,n,s,i,t),null),at===null)throw Error(l(349));r||(Di&127)!==0||ec(n,t,i)}return i}function ec(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Me.updateQueue,t===null?(t=Pl(),Me.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function tc(e,t,i,n){t.value=i,t.getSnapshot=n,nc(t)&&ac(e)}function ic(e,t,i){return i(function(){nc(t)&&ac(e)})}function nc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Vt(e,i)}catch{return!0}}function ac(e){var t=Tn(e,2);t!==null&&Gt(t,e,2)}function br(e){var t=Bt();if(typeof e=="function"){var i=e;if(e=i(),Dn){he(!0);try{i()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t}function lc(e,t,i,n){return e.baseState=i,xr(e,et,typeof n=="function"?n:zi)}function Id(e,t,i,n,s){if(ql(e))throw Error(l(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){r.listeners.push(g)}};G.T!==null?i(!0):r.isTransition=!1,n(r),i=t.pending,i===null?(r.next=t.pending=r,sc(t,r)):(r.next=i.next,t.pending=i.next=r)}}function sc(e,t){var i=t.action,n=t.payload,s=e.state;if(t.isTransition){var r=G.T,g={};G.T=g;try{var w=i(s,n),D=G.S;D!==null&&D(g,w),rc(e,t,w)}catch(P){_r(e,t,P)}finally{r!==null&&g.types!==null&&(r.types=g.types),G.T=r}}else try{r=i(s,n),rc(e,t,r)}catch(P){_r(e,t,P)}}function rc(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(n){oc(e,t,n)},function(n){return _r(e,t,n)}):oc(e,t,i)}function oc(e,t,i){t.status="fulfilled",t.value=i,uc(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,sc(e,i)))}function _r(e,t,i){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=i,uc(t),t=t.next;while(t!==n)}e.action=null}function uc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cc(e,t){return t}function hc(e,t){if(Ze){var i=at.formState;if(i!==null){e:{var n=Me;if(Ze){if(st){t:{for(var s=st,r=ai;s.nodeType!==8;){if(!r){s=null;break t}if(s=si(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){st=si(s.nextSibling),n=s.data==="F!";break e}}ki(n)}n=!1}n&&(t=i[0])}}return i=Bt(),i.memoizedState=i.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},i.queue=n,i=Oc.bind(null,Me,n),n.dispatch=i,n=br(!1),r=Ar.bind(null,Me,!1,n.queue),n=Bt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,i=Id.bind(null,Me,s,r,i),s.dispatch=i,n.memoizedState=e,[t,i,!1]}function fc(e){var t=vt();return dc(t,et,e)}function dc(e,t,i){if(t=xr(e,t,cc)[0],e=jl(zi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=La(t)}catch(g){throw g===In?zl:g}else n=t;t=vt();var s=t.queue,r=s.dispatch;return i!==t.memoizedState&&(Me.flags|=2048,$n(9,{destroy:void 0},Qd.bind(null,s,i),null)),[n,r,e]}function Qd(e,t){e.action=t}function gc(e){var t=vt(),i=et;if(i!==null)return dc(t,i,e);vt(),t=t.memoizedState,i=vt();var n=i.queue.dispatch;return i.memoizedState=e,[t,n,!1]}function $n(e,t,i,n){return e={tag:e,create:i,deps:n,inst:t,next:null},t=Me.updateQueue,t===null&&(t=Pl(),Me.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function mc(){return vt().memoizedState}function Fl(e,t,i,n){var s=Bt();Me.flags|=e,s.memoizedState=$n(1|t,{destroy:void 0},i,n===void 0?null:n)}function Gl(e,t,i,n){var s=vt();n=n===void 0?null:n;var r=s.memoizedState.inst;et!==null&&n!==null&&pr(n,et.memoizedState.deps)?s.memoizedState=$n(t,r,i,n):(Me.flags|=e,s.memoizedState=$n(1|t,r,i,n))}function pc(e,t){Fl(8390656,8,e,t)}function Cr(e,t){Gl(2048,8,e,t)}function Wd(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=Pl(),Me.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function vc(e){var t=vt().memoizedState;return Wd({ref:t,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function yc(e,t){return Gl(4,2,e,t)}function Tc(e,t){return Gl(4,4,e,t)}function Sc(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wc(e,t,i){i=i!=null?i.concat([e]):null,Gl(4,4,Sc.bind(null,t,e),i)}function Rr(){}function xc(e,t){var i=vt();t=t===void 0?null:t;var n=i.memoizedState;return t!==null&&pr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Ec(e,t){var i=vt();t=t===void 0?null:t;var n=i.memoizedState;if(t!==null&&pr(t,n[1]))return n[0];if(n=e(),Dn){he(!0);try{e()}finally{he(!1)}}return i.memoizedState=[n,t],n}function Dr(e,t,i){return i===void 0||(Di&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=bh(),Me.lanes|=e,en|=e,i)}function bc(e,t,i,n){return Vt(i,t)?i:Wn.current!==null?(e=Dr(e,i,n),Vt(e,t)||(xt=!0),e):(Di&42)===0||(Di&1073741824)!==0&&(qe&261930)===0?(xt=!0,e.memoizedState=i):(e=bh(),Me.lanes|=e,en|=e,t)}function _c(e,t,i,n,s){var r=te.p;te.p=r!==0&&8>r?r:8;var g=G.T,w={};G.T=w,Ar(e,!1,t,i);try{var D=s(),P=G.S;if(P!==null&&P(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=kd(D,n);Pa(e,t,Z,Qt(e))}else Pa(e,t,n,Qt(e))}catch(W){Pa(e,t,{then:function(){},status:"rejected",reason:W},Qt())}finally{te.p=r,g!==null&&w.types!==null&&(g.types=w.types),G.T=g}}function Kd(){}function zr(e,t,i,n){if(e.tag!==5)throw Error(l(476));var s=Cc(e).queue;_c(e,s,t,de,i===null?Kd:function(){return Rc(e),i(n)})}function Cc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:de},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rc(e){var t=Cc(e);t.next===null&&(t=e.alternate.memoizedState),Pa(e,t.next.queue,{},Qt())}function Or(){return Ot(el)}function Dc(){return vt().memoizedState}function zc(){return vt().memoizedState}function Jd(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Qt();e=Ii(i);var n=Qi(t,e,i);n!==null&&(Gt(n,t,i),Ma(n,t,i)),t={cache:lr()},e.payload=t;return}t=t.return}}function $d(e,t,i){var n=Qt();i={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ql(e)?Ac(t,i):(i=Is(e,t,i,n),i!==null&&(Gt(i,e,n),Mc(i,t,n)))}function Oc(e,t,i){var n=Qt();Pa(e,t,i,n)}function Pa(e,t,i,n){var s={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ql(e))Ac(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var g=t.lastRenderedState,w=r(g,i);if(s.hasEagerState=!0,s.eagerState=w,Vt(w,g))return xl(e,t,s,0),at===null&&wl(),!1}catch{}finally{}if(i=Is(e,t,s,n),i!==null)return Gt(i,e,n),Mc(i,t,n),!0}return!1}function Ar(e,t,i,n){if(n={lane:2,revertLane:uo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(t)throw Error(l(479))}else t=Is(e,i,n,2),t!==null&&Gt(t,e,2)}function ql(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Ac(e,t){Kn=Bl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Mc(e,t,i){if((i&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,_s(e,i)}}var Ua={readContext:Ot,use:Ul,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ua.useEffectEvent=dt;var Hc={readContext:Ot,use:Ul,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:pc,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Fl(4194308,4,Sc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var i=Bt();t=t===void 0?null:t;var n=e();if(Dn){he(!0);try{e()}finally{he(!1)}}return i.memoizedState=[n,t],n},useReducer:function(e,t,i){var n=Bt();if(i!==void 0){var s=i(t);if(Dn){he(!0);try{i(t)}finally{he(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=$d.bind(null,Me,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:function(e){e=br(e);var t=e.queue,i=Oc.bind(null,Me,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Rr,useDeferredValue:function(e,t){var i=Bt();return Dr(i,e,t)},useTransition:function(){var e=br(!1);return e=_c.bind(null,Me,e.queue,!0,!1),Bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var n=Me,s=Bt();if(Ze){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),at===null)throw Error(l(349));(qe&127)!==0||ec(n,t,i)}s.memoizedState=i;var r={value:i,getSnapshot:t};return s.queue=r,pc(ic.bind(null,n,r,e),[e]),n.flags|=2048,$n(9,{destroy:void 0},tc.bind(null,n,r,i,t),null),i},useId:function(){var e=Bt(),t=at.identifierPrefix;if(Ze){var i=pi,n=mi;i=(n&~(1<<32-ze(n)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ll++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Xd++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Or,useFormState:hc,useActionState:hc,useOptimistic:function(e){var t=Bt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ar.bind(null,Me,!0,i),i.dispatch=t,[e,t]},useMemoCache:wr,useCacheRefresh:function(){return Bt().memoizedState=Jd.bind(null,Me)},useEffectEvent:function(e){var t=Bt(),i={impl:e};return t.memoizedState=i,function(){if((Qe&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},Mr={readContext:Ot,use:Ul,useCallback:xc,useContext:Ot,useEffect:Cr,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:Tc,useMemo:Ec,useReducer:jl,useRef:mc,useState:function(){return jl(zi)},useDebugValue:Rr,useDeferredValue:function(e,t){var i=vt();return bc(i,et.memoizedState,e,t)},useTransition:function(){var e=jl(zi)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:La(e),t]},useSyncExternalStore:$u,useId:Dc,useHostTransitionStatus:Or,useFormState:fc,useActionState:fc,useOptimistic:function(e,t){var i=vt();return lc(i,et,e,t)},useMemoCache:wr,useCacheRefresh:zc};Mr.useEffectEvent=vc;var Nc={readContext:Ot,use:Ul,useCallback:xc,useContext:Ot,useEffect:Cr,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:Tc,useMemo:Ec,useReducer:Er,useRef:mc,useState:function(){return Er(zi)},useDebugValue:Rr,useDeferredValue:function(e,t){var i=vt();return et===null?Dr(i,e,t):bc(i,et.memoizedState,e,t)},useTransition:function(){var e=Er(zi)[0],t=vt().memoizedState;return[typeof e=="boolean"?e:La(e),t]},useSyncExternalStore:$u,useId:Dc,useHostTransitionStatus:Or,useFormState:gc,useActionState:gc,useOptimistic:function(e,t){var i=vt();return et!==null?lc(i,et,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:wr,useCacheRefresh:zc};Nc.useEffectEvent=vc;function Hr(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Nr={enqueueSetState:function(e,t,i){e=e._reactInternals;var n=Qt(),s=Ii(n);s.payload=t,i!=null&&(s.callback=i),t=Qi(e,s,n),t!==null&&(Gt(t,e,n),Ma(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=Qt(),s=Ii(n);s.tag=1,s.payload=t,i!=null&&(s.callback=i),t=Qi(e,s,n),t!==null&&(Gt(t,e,n),Ma(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Qt(),n=Ii(i);n.tag=2,t!=null&&(n.callback=t),t=Qi(e,n,i),t!==null&&(Gt(t,e,i),Ma(t,e,i))}};function Bc(e,t,i,n,s,r,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,g):t.prototype&&t.prototype.isPureReactComponent?!ba(i,n)||!ba(s,r):!0}function Lc(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Nr.enqueueReplaceState(t,t.state,null)}function zn(e,t){var i=t;if("ref"in t){i={};for(var n in t)n!=="ref"&&(i[n]=t[n])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var s in e)i[s]===void 0&&(i[s]=e[s])}return i}function Pc(e){Sl(e)}function Uc(e){console.error(e)}function jc(e){Sl(e)}function Vl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Fc(e,t,i){try{var n=e.onCaughtError;n(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Br(e,t,i){return i=Ii(i),i.tag=3,i.payload={element:null},i.callback=function(){Vl(e,t)},i}function Gc(e){return e=Ii(e),e.tag=3,e}function qc(e,t,i,n){var s=i.type.getDerivedStateFromError;if(typeof s=="function"){var r=n.value;e.payload=function(){return s(r)},e.callback=function(){Fc(t,i,n)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fc(t,i,n),typeof s!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})})}function eg(e,t,i,n,s){if(i.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=i.alternate,t!==null&&kn(t,i,s,!0),i=kt.current,i!==null){switch(i.tag){case 31:case 13:return li===null?ts():i.alternate===null&&gt===0&&(gt=3),i.flags&=-257,i.flags|=65536,i.lanes=s,n===Ol?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([n]):t.add(n),so(e,n,s)),!1;case 22:return i.flags|=65536,n===Ol?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([n]):i.add(n)),so(e,n,s)),!1}throw Error(l(435,i.tag))}return so(e,n,s),ts(),!1}if(Ze)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==er&&(e=Error(l(422),{cause:n}),Ra(ti(e,i)))):(n!==er&&(t=Error(l(423),{cause:n}),Ra(ti(t,i))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=ti(n,i),s=Br(e.stateNode,n,s),hr(e,s),gt!==4&&(gt=2)),!1;var r=Error(l(520),{cause:n});if(r=ti(r,i),Xa===null?Xa=[r]:Xa.push(r),gt!==4&&(gt=2),t===null)return!0;n=ti(n,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=s&-s,i.lanes|=e,e=Br(i.stateNode,n,e),hr(i,e),!1;case 1:if(t=i.type,r=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))))return i.flags|=65536,s&=-s,i.lanes|=s,s=Gc(s),qc(s,e,i,n),hr(i,s),!1}i=i.return}while(i!==null);return!1}var Lr=Error(l(461)),xt=!1;function At(e,t,i,n){t.child=e===null?Xu(t,null,i,n):Rn(t,e.child,i,n)}function Vc(e,t,i,n,s){i=i.render;var r=t.ref;if("ref"in n){var g={};for(var w in n)w!=="ref"&&(g[w]=n[w])}else g=n;return En(t),n=vr(e,t,i,g,r,s),w=yr(),e!==null&&!xt?(Tr(e,t,s),Oi(e,t,s)):(Ze&&w&&Js(t),t.flags|=1,At(e,t,n,s),t.child)}function Zc(e,t,i,n,s){if(e===null){var r=i.type;return typeof r=="function"&&!Qs(r)&&r.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=r,kc(e,t,r,n,s)):(e=bl(i.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Zr(e,s)){var g=r.memoizedProps;if(i=i.compare,i=i!==null?i:ba,i(g,n)&&e.ref===t.ref)return Oi(e,t,s)}return t.flags|=1,e=bi(r,n),e.ref=t.ref,e.return=t,t.child=e}function kc(e,t,i,n,s){if(e!==null){var r=e.memoizedProps;if(ba(r,n)&&e.ref===t.ref)if(xt=!1,t.pendingProps=n=r,Zr(e,s))(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,Oi(e,t,s)}return Pr(e,t,i,n,s)}function Xc(e,t,i,n){var s=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|i:i,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~r}else n=0,t.child=null;return Yc(e,t,r,i,n)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(t,r!==null?r.cachePool:null),r!==null?Qu(t,r):dr(),Wu(t);else return n=t.lanes=536870912,Yc(e,t,r!==null?r.baseLanes|i:i,i,n)}else r!==null?(Dl(t,r.cachePool),Qu(t,r),Ki(),t.memoizedState=null):(e!==null&&Dl(t,null),dr(),Ki());return At(e,t,s,i),t.child}function ja(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yc(e,t,i,n,s){var r=rr();return r=r===null?null:{parent:St._currentValue,pool:r},t.memoizedState={baseLanes:i,cachePool:r},e!==null&&Dl(t,null),dr(),Wu(t),e!==null&&kn(e,t,n,!0),t.childLanes=s,null}function Zl(e,t){return t=Xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ic(e,t,i){return Rn(t,e.child,null,i),e=Zl(t,t.pendingProps),e.flags|=2,Xt(t),t.memoizedState=null,e}function tg(e,t,i){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(n.mode==="hidden")return e=Zl(t,n),t.lanes=536870912,ja(null,e);if(mr(t),(e=st)?(e=rf(e,ai),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},i=Au(e),i.return=t,t.child=i,zt=t,st=null)):e=null,e===null)throw ki(t);return t.lanes=536870912,null}return Zl(t,n)}var r=e.memoizedState;if(r!==null){var g=r.dehydrated;if(mr(t),s)if(t.flags&256)t.flags&=-257,t=Ic(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(xt||kn(e,t,i,!1),s=(i&e.childLanes)!==0,xt||s){if(n=at,n!==null&&(g=ul(n,i),g!==0&&g!==r.retryLane))throw r.retryLane=g,Tn(e,g),Gt(n,e,g),Lr;ts(),t=Ic(e,t,i)}else e=r.treeContext,st=si(g.nextSibling),zt=t,Ze=!0,Zi=null,ai=!1,e!==null&&Nu(t,e),t=Zl(t,n),t.flags|=4096;return t}return e=bi(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Pr(e,t,i,n,s){return En(t),i=vr(e,t,i,n,void 0,s),n=yr(),e!==null&&!xt?(Tr(e,t,s),Oi(e,t,s)):(Ze&&n&&Js(t),t.flags|=1,At(e,t,i,s),t.child)}function Qc(e,t,i,n,s,r){return En(t),t.updateQueue=null,i=Ju(t,n,i,s),Ku(e),n=yr(),e!==null&&!xt?(Tr(e,t,r),Oi(e,t,r)):(Ze&&n&&Js(t),t.flags|=1,At(e,t,i,r),t.child)}function Wc(e,t,i,n,s){if(En(t),t.stateNode===null){var r=Gn,g=i.contextType;typeof g=="object"&&g!==null&&(r=Ot(g)),r=new i(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Nr,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},ur(t),g=i.contextType,r.context=typeof g=="object"&&g!==null?Ot(g):Gn,r.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Hr(t,i,g,n),r.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(g=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),g!==r.state&&Nr.enqueueReplaceState(r,r.state,null),Na(t,n,r,s),Ha(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var w=t.memoizedProps,D=zn(i,w);r.props=D;var P=r.context,Z=i.contextType;g=Gn,typeof Z=="object"&&Z!==null&&(g=Ot(Z));var W=i.getDerivedStateFromProps;Z=typeof W=="function"||typeof r.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,Z||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(w||P!==g)&&Lc(t,r,n,g),Yi=!1;var j=t.memoizedState;r.state=j,Na(t,n,r,s),Ha(),P=t.memoizedState,w||j!==P||Yi?(typeof W=="function"&&(Hr(t,i,W,n),P=t.memoizedState),(D=Yi||Bc(t,i,D,n,j,P,g))?(Z||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=P),r.props=n,r.state=P,r.context=g,n=D):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,cr(e,t),g=t.memoizedProps,Z=zn(i,g),r.props=Z,W=t.pendingProps,j=r.context,P=i.contextType,D=Gn,typeof P=="object"&&P!==null&&(D=Ot(P)),w=i.getDerivedStateFromProps,(P=typeof w=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(g!==W||j!==D)&&Lc(t,r,n,D),Yi=!1,j=t.memoizedState,r.state=j,Na(t,n,r,s),Ha();var V=t.memoizedState;g!==W||j!==V||Yi||e!==null&&e.dependencies!==null&&Cl(e.dependencies)?(typeof w=="function"&&(Hr(t,i,w,n),V=t.memoizedState),(Z=Yi||Bc(t,i,Z,n,j,V,D)||e!==null&&e.dependencies!==null&&Cl(e.dependencies))?(P||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,V,D),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,V,D)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=V),r.props=n,r.state=V,r.context=D,n=Z):(typeof r.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,kl(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,i=n&&typeof i.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=Rn(t,e.child,null,s),t.child=Rn(t,null,i,s)):At(e,t,i,s),t.memoizedState=r.state,e=t.child):e=Oi(e,t,s),e}function Kc(e,t,i,n){return wn(),t.flags|=256,At(e,t,i,n),t.child}var Ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jr(e){return{baseLanes:e,cachePool:Fu()}}function Fr(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=It),e}function Jc(e,t,i){var n=t.pendingProps,s=!1,r=(t.flags&128)!==0,g;if((g=r)||(g=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),g&&(s=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(s?Wi(t):Ki(),(e=st)?(e=rf(e,ai),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},i=Au(e),i.return=t,t.child=i,zt=t,st=null)):e=null,e===null)throw ki(t);return Eo(e)?t.lanes=32:t.lanes=536870912,null}var w=n.children;return n=n.fallback,s?(Ki(),s=t.mode,w=Xl({mode:"hidden",children:w},s),n=Sn(n,s,i,null),w.return=t,n.return=t,w.sibling=n,t.child=w,n=t.child,n.memoizedState=jr(i),n.childLanes=Fr(e,g,i),t.memoizedState=Ur,ja(null,n)):(Wi(t),Gr(t,w))}var D=e.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(r)t.flags&256?(Wi(t),t.flags&=-257,t=qr(e,t,i)):t.memoizedState!==null?(Ki(),t.child=e.child,t.flags|=128,t=null):(Ki(),w=n.fallback,s=t.mode,n=Xl({mode:"visible",children:n.children},s),w=Sn(w,s,i,null),w.flags|=2,n.return=t,w.return=t,n.sibling=w,t.child=n,Rn(t,e.child,null,i),n=t.child,n.memoizedState=jr(i),n.childLanes=Fr(e,g,i),t.memoizedState=Ur,t=ja(null,n));else if(Wi(t),Eo(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var P=g.dgst;g=P,n=Error(l(419)),n.stack="",n.digest=g,Ra({value:n,source:null,stack:null}),t=qr(e,t,i)}else if(xt||kn(e,t,i,!1),g=(i&e.childLanes)!==0,xt||g){if(g=at,g!==null&&(n=ul(g,i),n!==0&&n!==D.retryLane))throw D.retryLane=n,Tn(e,n),Gt(g,e,n),Lr;xo(w)||ts(),t=qr(e,t,i)}else xo(w)?(t.flags|=192,t.child=e.child,t=null):(e=D.treeContext,st=si(w.nextSibling),zt=t,Ze=!0,Zi=null,ai=!1,e!==null&&Nu(t,e),t=Gr(t,n.children),t.flags|=4096);return t}return s?(Ki(),w=n.fallback,s=t.mode,D=e.child,P=D.sibling,n=bi(D,{mode:"hidden",children:n.children}),n.subtreeFlags=D.subtreeFlags&65011712,P!==null?w=bi(P,w):(w=Sn(w,s,i,null),w.flags|=2),w.return=t,n.return=t,n.sibling=w,t.child=n,ja(null,n),n=t.child,w=e.child.memoizedState,w===null?w=jr(i):(s=w.cachePool,s!==null?(D=St._currentValue,s=s.parent!==D?{parent:D,pool:D}:s):s=Fu(),w={baseLanes:w.baseLanes|i,cachePool:s}),n.memoizedState=w,n.childLanes=Fr(e,g,i),t.memoizedState=Ur,ja(e.child,n)):(Wi(t),i=e.child,e=i.sibling,i=bi(i,{mode:"visible",children:n.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function Gr(e,t){return t=Xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xl(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function qr(e,t,i){return Rn(t,e.child,null,i),e=Gr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $c(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nr(e.return,t,i)}function Vr(e,t,i,n,s,r){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s,treeForkCount:r}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=n,g.tail=i,g.tailMode=s,g.treeForkCount=r)}function eh(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;n=n.children;var g=pt.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,Q(pt,g),At(e,t,n,i),n=Ze?Ca:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,i,t);else if(e.tag===19)$c(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&Nl(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Vr(t,!1,s,i,r,n);break;case"backwards":case"unstable_legacy-backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Vr(t,!0,i,null,r,n);break;case"together":Vr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Oi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(kn(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=bi(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=bi(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Zr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cl(e)))}function ig(e,t,i){switch(t.tag){case 3:Be(t,t.stateNode.containerInfo),Xi(t,St,e.memoizedState.cache),wn();break;case 27:case 5:bt(t);break;case 4:Be(t,t.stateNode.containerInfo);break;case 10:Xi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,mr(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Wi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Jc(e,t,i):(Wi(t),e=Oi(e,t,i),e!==null?e.sibling:null);Wi(t);break;case 19:var s=(e.flags&128)!==0;if(n=(i&t.childLanes)!==0,n||(kn(e,t,i,!1),n=(i&t.childLanes)!==0),s){if(n)return eh(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(pt,pt.current),n)break;return null;case 22:return t.lanes=0,Xc(e,t,i,t.pendingProps);case 24:Xi(t,St,e.memoizedState.cache)}return Oi(e,t,i)}function th(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)xt=!0;else{if(!Zr(e,i)&&(t.flags&128)===0)return xt=!1,ig(e,t,i);xt=(e.flags&131072)!==0}else xt=!1,Ze&&(t.flags&1048576)!==0&&Hu(t,Ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=_n(t.elementType),t.type=e,typeof e=="function")Qs(e)?(n=zn(e,n),t.tag=1,t=Wc(null,t,e,n,i)):(t.tag=0,t=Pr(null,t,e,n,i));else{if(e!=null){var s=e.$$typeof;if(s===ye){t.tag=11,t=Vc(null,t,e,n,i);break e}else if(s===oe){t.tag=14,t=Zc(null,t,e,n,i);break e}}throw t=ht(e)||e,Error(l(306,t,""))}}return t;case 0:return Pr(e,t,t.type,t.pendingProps,i);case 1:return n=t.type,s=zn(n,t.pendingProps),Wc(e,t,n,s,i);case 3:e:{if(Be(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var r=t.memoizedState;s=r.element,cr(e,t),Na(t,n,null,i);var g=t.memoizedState;if(n=g.cache,Xi(t,St,n),n!==r.cache&&ar(t,[St],i,!0),Ha(),n=g.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Kc(e,t,n,i);break e}else if(n!==s){s=ti(Error(l(424)),t),Ra(s),t=Kc(e,t,n,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=si(e.firstChild),zt=t,Ze=!0,Zi=null,ai=!0,i=Xu(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wn(),n===s){t=Oi(e,t,i);break e}At(e,t,n,i)}t=t.child}return t;case 26:return kl(e,t),e===null?(i=df(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ze||(i=t.type,e=t.pendingProps,n=os(De.current).createElement(i),n[ae]=t,n[le]=e,Mt(n,i,e),Tt(n),t.stateNode=n):t.memoizedState=df(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bt(t),e===null&&Ze&&(n=t.stateNode=cf(t.type,t.pendingProps,De.current),zt=t,ai=!0,s=st,sn(t.type)?(bo=s,st=si(n.firstChild)):st=s),At(e,t,t.pendingProps.children,i),kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((s=n=st)&&(n=Mg(n,t.type,t.pendingProps,ai),n!==null?(t.stateNode=n,zt=t,st=si(n.firstChild),ai=!1,s=!0):s=!1),s||ki(t)),bt(t),s=t.type,r=t.pendingProps,g=e!==null?e.memoizedProps:null,n=r.children,To(s,r)?n=null:g!==null&&To(s,g)&&(t.flags|=32),t.memoizedState!==null&&(s=vr(e,t,Yd,null,null,i),el._currentValue=s),kl(e,t),At(e,t,n,i),t.child;case 6:return e===null&&Ze&&((e=i=st)&&(i=Hg(i,t.pendingProps,ai),i!==null?(t.stateNode=i,zt=t,st=null,e=!0):e=!1),e||ki(t)),null;case 13:return Jc(e,t,i);case 4:return Be(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rn(t,null,n,i):At(e,t,n,i),t.child;case 11:return Vc(e,t,t.type,t.pendingProps,i);case 7:return At(e,t,t.pendingProps,i),t.child;case 8:return At(e,t,t.pendingProps.children,i),t.child;case 12:return At(e,t,t.pendingProps.children,i),t.child;case 10:return n=t.pendingProps,Xi(t,t.type,n.value),At(e,t,n.children,i),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,En(t),s=Ot(s),n=n(s),t.flags|=1,At(e,t,n,i),t.child;case 14:return Zc(e,t,t.type,t.pendingProps,i);case 15:return kc(e,t,t.type,t.pendingProps,i);case 19:return eh(e,t,i);case 31:return tg(e,t,i);case 22:return Xc(e,t,i,t.pendingProps);case 24:return En(t),n=Ot(St),e===null?(s=rr(),s===null&&(s=at,r=lr(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=i),s=r),t.memoizedState={parent:n,cache:s},ur(t),Xi(t,St,s)):((e.lanes&i)!==0&&(cr(e,t),Na(t,null,null,i),Ha()),s=e.memoizedState,r=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Xi(t,St,n)):(n=r.cache,Xi(t,St,n),n!==s.cache&&ar(t,[St],i,!0))),At(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ai(e){e.flags|=4}function kr(e,t,i,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Dh())e.flags|=8192;else throw Cn=Ol,or}else e.flags&=-16777217}function ih(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yf(t))if(Dh())e.flags|=8192;else throw Cn=Ol,or}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fa():536870912,e.lanes|=t,na|=t)}function Fa(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function ng(e,t,i){var n=t.pendingProps;switch($s(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return i=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ri(St),We(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zn(t)?Ai(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tr())),rt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Ai(t),r!==null?(rt(t),ih(t,r)):(rt(t),kr(t,s,null,n,i))):r?r!==e.memoizedState?(Ai(t),rt(t),ih(t,r)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Ai(t),rt(t),kr(t,s,e,n,i)),null;case 27:if(Rt(t),i=De.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ai(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return rt(t),null}e=re.current,Zn(t)?Bu(t):(e=cf(s,n,i),t.stateNode=e,Ai(t))}return rt(t),null;case 5:if(Rt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ai(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return rt(t),null}if(r=re.current,Zn(t))Bu(t);else{var g=os(De.current);switch(r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?g.createElement("select",{is:n.is}):g.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?g.createElement(s,{is:n.is}):g.createElement(s)}}r[ae]=t,r[le]=n;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=r;e:switch(Mt(r,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ai(t)}}return rt(t),kr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ai(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=De.current,Zn(t)){if(e=t.stateNode,i=t.memoizedProps,n=null,s=zt,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[ae]=t,e=!!(e.nodeValue===i||n!==null&&n.suppressHydrationWarning===!0||Jh(e.nodeValue,i)),e||ki(t,!0)}else e=os(e).createTextNode(n),e[ae]=t,t.stateNode=e}return rt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(n=Zn(t),i!==null){if(e===null){if(!n)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ae]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else i=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Xt(t),t):(Xt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return rt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Zn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(l(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));s[ae]=t}else wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),s=!1}else s=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Xt(t),t):(Xt(t),null)}return Xt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=n!==null,e=e!==null&&e.memoizedState!==null,i&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Yl(t,t.updateQueue),rt(t),null);case 4:return We(),e===null&&go(t.stateNode.containerInfo),rt(t),null;case 10:return Ri(t.type),rt(t),null;case 19:if(Y(pt),n=t.memoizedState,n===null)return rt(t),null;if(s=(t.flags&128)!==0,r=n.rendering,r===null)if(s)Fa(n,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Nl(e),r!==null){for(t.flags|=128,Fa(n,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ou(i,e),i=i.sibling;return Q(pt,pt.current&1|2),Ze&&_i(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Ce()>Jl&&(t.flags|=128,s=!0,Fa(n,!1),t.lanes=4194304)}else{if(!s)if(e=Nl(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Fa(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!Ze)return rt(t),null}else 2*Ce()-n.renderingStartTime>Jl&&i!==536870912&&(t.flags|=128,s=!0,Fa(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Ce(),e.sibling=null,i=pt.current,Q(pt,s?i&1|2:i&1),Ze&&_i(t,n.treeForkCount),e):(rt(t),null);case 22:case 23:return Xt(t),gr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(i&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),i=t.updateQueue,i!==null&&Yl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==i&&(t.flags|=2048),e!==null&&Y(bn),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ri(St),rt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function ag(e,t){switch($s(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(St),We(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rt(t),null;case 31:if(t.memoizedState!==null){if(Xt(t),t.alternate===null)throw Error(l(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(pt),null;case 4:return We(),null;case 10:return Ri(t.type),null;case 22:case 23:return Xt(t),gr(),e!==null&&Y(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ri(St),null;case 25:return null;default:return null}}function nh(e,t){switch($s(t),t.tag){case 3:Ri(St),We();break;case 26:case 27:case 5:Rt(t);break;case 4:We();break;case 31:t.memoizedState!==null&&Xt(t);break;case 13:Xt(t);break;case 19:Y(pt);break;case 10:Ri(t.type);break;case 22:case 23:Xt(t),gr(),e!==null&&Y(bn);break;case 24:Ri(St)}}function Ga(e,t){try{var i=t.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var s=n.next;i=s;do{if((i.tag&e)===e){n=void 0;var r=i.create,g=i.inst;n=r(),g.destroy=n}i=i.next}while(i!==s)}}catch(w){$e(t,t.return,w)}}function Ji(e,t,i){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){var g=n.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,s=t;var D=i,P=w;try{P()}catch(Z){$e(s,D,Z)}}}n=n.next}while(n!==r)}}catch(Z){$e(t,t.return,Z)}}function ah(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Iu(t,i)}catch(n){$e(e,e.return,n)}}}function lh(e,t,i){i.props=zn(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(n){$e(e,t,n)}}function qa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof i=="function"?e.refCleanup=i(n):i.current=n}}catch(s){$e(e,t,s)}}function vi(e,t){var i=e.ref,n=e.refCleanup;if(i!==null)if(typeof n=="function")try{n()}catch(s){$e(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(s){$e(e,t,s)}else i.current=null}function sh(e){var t=e.type,i=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break e;case"img":i.src?n.src=i.src:i.srcSet&&(n.srcset=i.srcSet)}}catch(s){$e(e,e.return,s)}}function Xr(e,t,i){try{var n=e.stateNode;Cg(n,e.type,i,t),n[le]=t}catch(s){$e(e,e.return,s)}}function rh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sn(e.type)||e.tag===4}function Yr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=xi));else if(n!==4&&(n===27&&sn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ir(e,t,i),e=e.sibling;e!==null;)Ir(e,t,i),e=e.sibling}function Il(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(n===27&&sn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Il(e,t,i),e=e.sibling;e!==null;)Il(e,t,i),e=e.sibling}function oh(e){var t=e.stateNode,i=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Mt(t,n,i),t[ae]=e,t[le]=i}catch(r){$e(e,e.return,r)}}var Mi=!1,Et=!1,Qr=!1,uh=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function lg(e,t){if(e=e.containerInfo,vo=ms,e=wu(e),qs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var g=0,w=-1,D=-1,P=0,Z=0,W=e,j=null;t:for(;;){for(var V;W!==i||s!==0&&W.nodeType!==3||(w=g+s),W!==r||n!==0&&W.nodeType!==3||(D=g+n),W.nodeType===3&&(g+=W.nodeValue.length),(V=W.firstChild)!==null;)j=W,W=V;for(;;){if(W===e)break t;if(j===i&&++P===s&&(w=g),j===r&&++Z===n&&(D=g),(V=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=V}i=w===-1||D===-1?null:{start:w,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(yo={focusedElem:e,selectionRange:i},ms=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)s=e[i],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,i=t,s=r.memoizedProps,r=r.memoizedState,n=i.stateNode;try{var ce=zn(i.type,s);e=n.getSnapshotBeforeUpdate(ce,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){$e(i,i.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)wo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function ch(e,t,i){var n=i.flags;switch(i.tag){case 0:case 11:case 15:Ni(e,i),n&4&&Ga(5,i);break;case 1:if(Ni(e,i),n&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){$e(i,i.return,g)}else{var s=zn(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(i,i.return,g)}}n&64&&ah(i),n&512&&qa(i,i.return);break;case 3:if(Ni(e,i),n&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Iu(e,t)}catch(g){$e(i,i.return,g)}}break;case 27:t===null&&n&4&&oh(i);case 26:case 5:Ni(e,i),t===null&&n&4&&sh(i),n&512&&qa(i,i.return);break;case 12:Ni(e,i);break;case 31:Ni(e,i),n&4&&dh(e,i);break;case 13:Ni(e,i),n&4&&gh(e,i),n&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=gg.bind(null,i),Ng(e,i))));break;case 22:if(n=i.memoizedState!==null||Mi,!n){t=t!==null&&t.memoizedState!==null||Et,s=Mi;var r=Et;Mi=n,(Et=t)&&!r?Bi(e,i,(i.subtreeFlags&8772)!==0):Ni(e,i),Mi=s,Et=r}break;case 30:break;default:Ni(e,i)}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Pt=!1;function Hi(e,t,i){for(i=i.child;i!==null;)fh(e,t,i),i=i.sibling}function fh(e,t,i){if(J&&typeof J.onCommitFiberUnmount=="function")try{J.onCommitFiberUnmount(q,i)}catch{}switch(i.tag){case 26:Et||vi(i,t),Hi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Et||vi(i,t);var n=ut,s=Pt;sn(i.type)&&(ut=i.stateNode,Pt=!1),Hi(e,t,i),Ka(i.stateNode),ut=n,Pt=s;break;case 5:Et||vi(i,t);case 6:if(n=ut,s=Pt,ut=null,Hi(e,t,i),ut=n,Pt=s,ut!==null)if(Pt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(i.stateNode)}catch(r){$e(i,t,r)}else try{ut.removeChild(i.stateNode)}catch(r){$e(i,t,r)}break;case 18:ut!==null&&(Pt?(e=ut,lf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ha(e)):lf(ut,i.stateNode));break;case 4:n=ut,s=Pt,ut=i.stateNode.containerInfo,Pt=!0,Hi(e,t,i),ut=n,Pt=s;break;case 0:case 11:case 14:case 15:Ji(2,i,t),Et||Ji(4,i,t),Hi(e,t,i);break;case 1:Et||(vi(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"&&lh(i,t,n)),Hi(e,t,i);break;case 21:Hi(e,t,i);break;case 22:Et=(n=Et)||i.memoizedState!==null,Hi(e,t,i),Et=n;break;default:Hi(e,t,i)}}function dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(i){$e(t,t.return,i)}}}function gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(i){$e(t,t.return,i)}}function sg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uh),t;default:throw Error(l(435,e.tag))}}function Ql(e,t){var i=sg(e);t.forEach(function(n){if(!i.has(n)){i.add(n);var s=mg.bind(null,e,n);n.then(s,s)}})}function Ut(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n],r=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(sn(w.type)){ut=w.stateNode,Pt=!1;break e}break;case 5:ut=w.stateNode,Pt=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,Pt=!0;break e}w=w.return}if(ut===null)throw Error(l(160));fh(r,g,s),ut=null,Pt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}var fi=null;function mh(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),jt(e),n&4&&(Ji(3,e,e.return),Ga(3,e),Ji(5,e,e.return));break;case 1:Ut(t,e),jt(e),n&512&&(Et||i===null||vi(i,i.return)),n&64&&Mi&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?n:i.concat(n))));break;case 26:var s=fi;if(Ut(t,e),jt(e),n&512&&(Et||i===null||vi(i,i.return)),n&4){var r=i!==null?i.memoizedState:null;if(n=e.memoizedState,i===null)if(n===null)if(e.stateNode===null){e:{n=e.type,i=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":r=s.getElementsByTagName("title")[0],(!r||r[nt]||r[ae]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(n),s.head.insertBefore(r,s.querySelector("head > title"))),Mt(r,n,i),r[ae]=e,Tt(r),n=r;break e;case"link":var g=pf("link","href",s).get(n+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(r=g[w],r.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&r.getAttribute("rel")===(i.rel==null?null:i.rel)&&r.getAttribute("title")===(i.title==null?null:i.title)&&r.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}r=s.createElement(n),Mt(r,n,i),s.head.appendChild(r);break;case"meta":if(g=pf("meta","content",s).get(n+(i.content||""))){for(w=0;w<g.length;w++)if(r=g[w],r.getAttribute("content")===(i.content==null?null:""+i.content)&&r.getAttribute("name")===(i.name==null?null:i.name)&&r.getAttribute("property")===(i.property==null?null:i.property)&&r.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&r.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}r=s.createElement(n),Mt(r,n,i),s.head.appendChild(r);break;default:throw Error(l(468,n))}r[ae]=e,Tt(r),n=r}e.stateNode=n}else vf(s,e.type,e.stateNode);else e.stateNode=mf(s,n,e.memoizedProps);else r!==n?(r===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):r.count--,n===null?vf(s,e.type,e.stateNode):mf(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Xr(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ut(t,e),jt(e),n&512&&(Et||i===null||vi(i,i.return)),i!==null&&n&4&&Xr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ut(t,e),jt(e),n&512&&(Et||i===null||vi(i,i.return)),e.flags&32){s=e.stateNode;try{Nn(s,"")}catch(ce){$e(e,e.return,ce)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Xr(e,s,i!==null?i.memoizedProps:s)),n&1024&&(Qr=!0);break;case 6:if(Ut(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,i=e.stateNode;try{i.nodeValue=n}catch(ce){$e(e,e.return,ce)}}break;case 3:if(hs=null,s=fi,fi=us(t.containerInfo),Ut(t,e),fi=s,jt(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(ce){$e(e,e.return,ce)}Qr&&(Qr=!1,ph(e));break;case 4:n=fi,fi=us(e.stateNode.containerInfo),Ut(t,e),jt(e),fi=n;break;case 12:Ut(t,e),jt(e);break;case 31:Ut(t,e),jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ql(e,n)));break;case 13:Ut(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Kl=Ce()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ql(e,n)));break;case 22:s=e.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,P=Mi,Z=Et;if(Mi=P||s,Et=Z||D,Ut(t,e),Et=Z,Mi=P,jt(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(i===null||D||Mi||Et||On(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){D=i=t;try{if(r=D.stateNode,s)g=r.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=D.stateNode;var W=D.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){$e(D,D.return,ce)}}}else if(t.tag===6){if(i===null){D=t;try{D.stateNode.nodeValue=s?"":D.memoizedProps}catch(ce){$e(D,D.return,ce)}}}else if(t.tag===18){if(i===null){D=t;try{var V=D.stateNode;s?sf(V,!0):sf(D.stateNode,!1)}catch(ce){$e(D,D.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(i=n.retryQueue,i!==null&&(n.retryQueue=null,Ql(e,i))));break;case 19:Ut(t,e),jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Ql(e,n)));break;case 30:break;case 21:break;default:Ut(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var i,n=e.return;n!==null;){if(rh(n)){i=n;break}n=n.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var s=i.stateNode,r=Yr(e);Il(e,r,s);break;case 5:var g=i.stateNode;i.flags&32&&(Nn(g,""),i.flags&=-33);var w=Yr(e);Il(e,w,g);break;case 3:case 4:var D=i.stateNode.containerInfo,P=Yr(e);Ir(e,P,D);break;default:throw Error(l(161))}}catch(Z){$e(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ph(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ni(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ch(e,t.alternate,t),t=t.sibling}function On(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ji(4,t,t.return),On(t);break;case 1:vi(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&lh(t,t.return,i),On(t);break;case 27:Ka(t.stateNode);case 26:case 5:vi(t,t.return),On(t);break;case 22:t.memoizedState===null&&On(t);break;case 30:On(t);break;default:On(t)}e=e.sibling}}function Bi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,r=t,g=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(s,r,i),Ga(4,r);break;case 1:if(Bi(s,r,i),n=r,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(P){$e(n,n.return,P)}if(n=r,s=n.updateQueue,s!==null){var w=n.stateNode;try{var D=s.shared.hiddenCallbacks;if(D!==null)for(s.shared.hiddenCallbacks=null,s=0;s<D.length;s++)Yu(D[s],w)}catch(P){$e(n,n.return,P)}}i&&g&64&&ah(r),qa(r,r.return);break;case 27:oh(r);case 26:case 5:Bi(s,r,i),i&&n===null&&g&4&&sh(r),qa(r,r.return);break;case 12:Bi(s,r,i);break;case 31:Bi(s,r,i),i&&g&4&&dh(s,r);break;case 13:Bi(s,r,i),i&&g&4&&gh(s,r);break;case 22:r.memoizedState===null&&Bi(s,r,i),qa(r,r.return);break;case 30:break;default:Bi(s,r,i)}t=t.sibling}}function Wr(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Da(i))}function Kr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e))}function di(e,t,i,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vh(e,t,i,n),t=t.sibling}function vh(e,t,i,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:di(e,t,i,n),s&2048&&Ga(9,t);break;case 1:di(e,t,i,n);break;case 3:di(e,t,i,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e)));break;case 12:if(s&2048){di(e,t,i,n),e=t.stateNode;try{var r=t.memoizedProps,g=r.id,w=r.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){$e(t,t.return,D)}}else di(e,t,i,n);break;case 31:di(e,t,i,n);break;case 13:di(e,t,i,n);break;case 23:break;case 22:r=t.stateNode,g=t.alternate,t.memoizedState!==null?r._visibility&2?di(e,t,i,n):Va(e,t):r._visibility&2?di(e,t,i,n):(r._visibility|=2,ea(e,t,i,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Wr(g,t);break;case 24:di(e,t,i,n),s&2048&&Kr(t.alternate,t);break;default:di(e,t,i,n)}}function ea(e,t,i,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,g=t,w=i,D=n,P=g.flags;switch(g.tag){case 0:case 11:case 15:ea(r,g,w,D,s),Ga(8,g);break;case 23:break;case 22:var Z=g.stateNode;g.memoizedState!==null?Z._visibility&2?ea(r,g,w,D,s):Va(r,g):(Z._visibility|=2,ea(r,g,w,D,s)),s&&P&2048&&Wr(g.alternate,g);break;case 24:ea(r,g,w,D,s),s&&P&2048&&Kr(g.alternate,g);break;default:ea(r,g,w,D,s)}t=t.sibling}}function Va(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,n=t,s=n.flags;switch(n.tag){case 22:Va(i,n),s&2048&&Wr(n.alternate,n);break;case 24:Va(i,n),s&2048&&Kr(n.alternate,n);break;default:Va(i,n)}t=t.sibling}}var Za=8192;function ta(e,t,i){if(e.subtreeFlags&Za)for(e=e.child;e!==null;)yh(e,t,i),e=e.sibling}function yh(e,t,i){switch(e.tag){case 26:ta(e,t,i),e.flags&Za&&e.memoizedState!==null&&Xg(i,fi,e.memoizedState,e.memoizedProps);break;case 5:ta(e,t,i);break;case 3:case 4:var n=fi;fi=us(e.stateNode.containerInfo),ta(e,t,i),fi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Za,Za=16777216,ta(e,t,i),Za=n):ta(e,t,i));break;default:ta(e,t,i)}}function Th(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ka(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Ct=n,wh(n,e)}Th(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sh(e),e=e.sibling}function Sh(e){switch(e.tag){case 0:case 11:case 15:ka(e),e.flags&2048&&Ji(9,e,e.return);break;case 3:ka(e);break;case 12:ka(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wl(e)):ka(e);break;default:ka(e)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Ct=n,wh(n,e)}Th(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ji(8,t,t.return),Wl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(t));break;default:Wl(t)}e=e.sibling}}function wh(e,t){for(;Ct!==null;){var i=Ct;switch(i.tag){case 0:case 11:case 15:Ji(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var n=i.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Da(i.memoizedState.cache)}if(n=i.child,n!==null)n.return=i,Ct=n;else e:for(i=e;Ct!==null;){n=Ct;var s=n.sibling,r=n.return;if(hh(n),n===i){Ct=null;break e}if(s!==null){s.return=r,Ct=s;break e}Ct=r}}}var rg={getCacheForType:function(e){var t=Ot(St),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ot(St).controller.signal}},og=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,je=null,qe=0,Je=0,Yt=null,$i=!1,ia=!1,Jr=!1,Li=0,gt=0,en=0,An=0,$r=0,It=0,na=0,Xa=null,Ft=null,eo=!1,Kl=0,xh=0,Jl=1/0,$l=null,tn=null,_t=0,nn=null,aa=null,Pi=0,to=0,io=null,Eh=null,Ya=0,no=null;function Qt(){return(Qe&2)!==0&&qe!==0?qe&-qe:G.T!==null?uo():pa()}function bh(){if(It===0)if((qe&536870912)===0||Ze){var e=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),It=e}else It=536870912;return e=kt.current,e!==null&&(e.flags|=32),It}function Gt(e,t,i){(e===at&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(la(e,0),an(e,qe,It,!1)),dn(e,i),((Qe&2)===0||e!==at)&&(e===at&&((Qe&2)===0&&(An|=i),gt===4&&an(e,qe,It,!1)),yi(e))}function _h(e,t,i){if((Qe&6)!==0)throw Error(l(327));var n=!i&&(t&127)===0&&(t&e.expiredLanes)===0||fn(e,t),s=n?hg(e,t):lo(e,t,!0),r=n;do{if(s===0){ia&&!n&&an(e,t,0,!1);break}else{if(i=e.current.alternate,r&&!ug(i)){s=lo(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;s=Xa;var D=w.current.memoizedState.isDehydrated;if(D&&(la(w,g).flags|=256),g=lo(w,g,!1),g!==2){if(Jr&&!D){w.errorRecoveryDisabledLanes|=r,An|=r,s=4;break e}r=Ft,Ft=s,r!==null&&(Ft===null?Ft=r:Ft.push.apply(Ft,r))}s=g}if(r=!1,s!==2)continue}}if(s===1){la(e,0),an(e,t,0,!0);break}e:{switch(n=e,r=s,r){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:an(n,t,It,!$i);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(s=Kl+300-Ce(),10<s)){if(an(n,t,It,!$i),ji(n,0,!0)!==0)break e;Pi=t,n.timeoutHandle=nf(Ch.bind(null,n,i,Ft,$l,eo,t,It,An,na,$i,r,"Throttled",-0,0),s);break e}Ch(n,i,Ft,$l,eo,t,It,An,na,$i,r,null,-0,0)}}break}while(!0);yi(e)}function Ch(e,t,i,n,s,r,g,w,D,P,Z,W,j,V){if(e.timeoutHandle=-1,W=t.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},yh(t,r,W);var ce=(r&62914560)===r?Kl-Ce():(r&4194048)===r?xh-Ce():0;if(ce=Yg(W,ce),ce!==null){Pi=r,e.cancelPendingCommit=ce(Nh.bind(null,e,t,r,i,n,s,g,w,D,Z,W,null,j,V)),an(e,r,g,!P);return}}Nh(e,t,r,i,n,s,g,w,D)}function ug(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!Vt(r(),s))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t,i,n){t&=~$r,t&=~An,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var r=31-ze(s),g=1<<r;n[r]=-1,s&=~g}i!==0&&ol(e,i,t)}function es(){return(Qe&6)===0?(Ia(0),!1):!0}function ao(){if(je!==null){if(Je===0)var e=je.return;else e=je,Ci=xn=null,Sr(e),Qn=null,Oa=0,e=je;for(;e!==null;)nh(e.alternate,e),e=e.return;je=null}}function la(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,zg(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Pi=0,ao(),at=e,je=i=bi(e.current,null),qe=t,Je=0,Yt=null,$i=!1,ia=fn(e,t),Jr=!1,na=It=$r=An=en=gt=0,Ft=Xa=null,eo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-ze(n),r=1<<s;t|=e[s],n&=~r}return Li=t,wl(),i}function Rh(e,t){Me=null,G.H=Ua,t===In||t===zl?(t=Vu(),Je=3):t===or?(t=Vu(),Je=4):Je=t===Lr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,je===null&&(gt=1,Vl(e,ti(t,e.current)))}function Dh(){var e=kt.current;return e===null?!0:(qe&4194048)===qe?li===null:(qe&62914560)===qe||(qe&536870912)!==0?e===li:!1}function zh(){var e=G.H;return G.H=Ua,e===null?Ua:e}function Oh(){var e=G.A;return G.A=rg,e}function ts(){gt=4,$i||(qe&4194048)!==qe&&kt.current!==null||(ia=!0),(en&134217727)===0&&(An&134217727)===0||at===null||an(at,qe,It,!1)}function lo(e,t,i){var n=Qe;Qe|=2;var s=zh(),r=Oh();(at!==e||qe!==t)&&($l=null,la(e,t)),t=!1;var g=gt;e:do try{if(Je!==0&&je!==null){var w=je,D=Yt;switch(Je){case 8:ao(),g=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var P=Je;if(Je=0,Yt=null,sa(e,w,D,P),i&&ia){g=0;break e}break;default:P=Je,Je=0,Yt=null,sa(e,w,D,P)}}cg(),g=gt;break}catch(Z){Rh(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Ci=xn=null,Qe=n,G.H=s,G.A=r,je===null&&(at=null,qe=0,wl()),g}function cg(){for(;je!==null;)Ah(je)}function hg(e,t){var i=Qe;Qe|=2;var n=zh(),s=Oh();at!==e||qe!==t?($l=null,Jl=Ce()+500,la(e,t)):ia=fn(e,t);e:do try{if(Je!==0&&je!==null){t=je;var r=Yt;t:switch(Je){case 1:Je=0,Yt=null,sa(e,t,r,1);break;case 2:case 9:if(Gu(r)){Je=0,Yt=null,Mh(t);break}t=function(){Je!==2&&Je!==9||at!==e||(Je=7),yi(e)},r.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Gu(r)?(Je=0,Yt=null,Mh(t)):(Je=0,Yt=null,sa(e,t,r,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var w=je;if(g?yf(g):w.stateNode.complete){Je=0,Yt=null;var D=w.sibling;if(D!==null)je=D;else{var P=w.return;P!==null?(je=P,is(P)):je=null}break t}}Je=0,Yt=null,sa(e,t,r,5);break;case 6:Je=0,Yt=null,sa(e,t,r,6);break;case 8:ao(),gt=6;break e;default:throw Error(l(462))}}fg();break}catch(Z){Rh(e,Z)}while(!0);return Ci=xn=null,G.H=n,G.A=s,Qe=i,je!==null?0:(at=null,qe=0,wl(),gt)}function fg(){for(;je!==null&&!me();)Ah(je)}function Ah(e){var t=th(e.alternate,e,Li);e.memoizedProps=e.pendingProps,t===null?is(e):je=t}function Mh(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Qc(i,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=Qc(i,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Sr(t);default:nh(i,t),t=je=Ou(t,Li),t=th(i,t,Li)}e.memoizedProps=e.pendingProps,t===null?is(e):je=t}function sa(e,t,i,n){Ci=xn=null,Sr(t),Qn=null,Oa=0;var s=t.return;try{if(eg(e,s,t,i,qe)){gt=1,Vl(e,ti(i,e.current)),je=null;return}}catch(r){if(s!==null)throw je=s,r;gt=1,Vl(e,ti(i,e.current)),je=null;return}t.flags&32768?(Ze||n===1?e=!0:ia||(qe&536870912)!==0?e=!1:($i=e=!0,(n===2||n===9||n===3||n===6)&&(n=kt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Hh(t,e)):is(t)}function is(e){var t=e;do{if((t.flags&32768)!==0){Hh(t,$i);return}e=t.return;var i=ng(t.alternate,t,Li);if(i!==null){je=i;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);gt===0&&(gt=5)}function Hh(e,t){do{var i=ag(e.alternate,e);if(i!==null){i.flags&=32767,je=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=i}while(e!==null);gt=6,je=null}function Nh(e,t,i,n,s,r,g,w,D){e.cancelPendingCommit=null;do ns();while(_t!==0);if((Qe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(r=t.lanes|t.childLanes,r|=Ys,bs(e,i,r,g,w,D),e===at&&(je=at=null,qe=0),aa=t,nn=e,Pi=i,to=r,io=s,Eh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pg(ke,function(){return jh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=G.T,G.T=null,s=te.p,te.p=2,g=Qe,Qe|=4;try{lg(e,t,i)}finally{Qe=g,te.p=s,G.T=n}}_t=1,Bh(),Lh(),Ph()}}function Bh(){if(_t===1){_t=0;var e=nn,t=aa,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var n=te.p;te.p=2;var s=Qe;Qe|=4;try{mh(t,e);var r=yo,g=wu(e.containerInfo),w=r.focusedElem,D=r.selectionRange;if(g!==w&&w&&w.ownerDocument&&Su(w.ownerDocument.documentElement,w)){if(D!==null&&qs(w)){var P=D.start,Z=D.end;if(Z===void 0&&(Z=P),"selectionStart"in w)w.selectionStart=P,w.selectionEnd=Math.min(Z,w.value.length);else{var W=w.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var V=j.getSelection(),ce=w.textContent.length,Ee=Math.min(D.start,ce),it=D.end===void 0?Ee:Math.min(D.end,ce);!V.extend&&Ee>it&&(g=it,it=Ee,Ee=g);var H=Tu(w,Ee),A=Tu(w,it);if(H&&A&&(V.rangeCount!==1||V.anchorNode!==H.node||V.anchorOffset!==H.offset||V.focusNode!==A.node||V.focusOffset!==A.offset)){var L=W.createRange();L.setStart(H.node,H.offset),V.removeAllRanges(),Ee>it?(V.addRange(L),V.extend(A.node,A.offset)):(L.setEnd(A.node,A.offset),V.addRange(L))}}}}for(W=[],V=w;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var I=W[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ms=!!vo,yo=vo=null}finally{Qe=s,te.p=n,G.T=i}}e.current=t,_t=2}}function Lh(){if(_t===2){_t=0;var e=nn,t=aa,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var n=te.p;te.p=2;var s=Qe;Qe|=4;try{ch(e,t.alternate,t)}finally{Qe=s,te.p=n,G.T=i}}_t=3}}function Ph(){if(_t===4||_t===3){_t=0,ie();var e=nn,t=aa,i=Pi,n=Eh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?_t=5:(_t=0,aa=nn=null,Uh(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(tn=null),ma(i),t=t.stateNode,J&&typeof J.onCommitFiberRoot=="function")try{J.onCommitFiberRoot(q,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=G.T,s=te.p,te.p=2,G.T=null;try{for(var r=e.onRecoverableError,g=0;g<n.length;g++){var w=n[g];r(w.value,{componentStack:w.stack})}}finally{G.T=t,te.p=s}}(Pi&3)!==0&&ns(),yi(e),s=e.pendingLanes,(i&261930)!==0&&(s&42)!==0?e===no?Ya++:(Ya=0,no=e):Ya=0,Ia(0)}}function Uh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Da(t)))}function ns(){return Bh(),Lh(),Ph(),jh()}function jh(){if(_t!==5)return!1;var e=nn,t=to;to=0;var i=ma(Pi),n=G.T,s=te.p;try{te.p=32>i?32:i,G.T=null,i=io,io=null;var r=nn,g=Pi;if(_t=0,aa=nn=null,Pi=0,(Qe&6)!==0)throw Error(l(331));var w=Qe;if(Qe|=4,Sh(r.current),vh(r,r.current,g,i),Qe=w,Ia(0,!1),J&&typeof J.onPostCommitFiberRoot=="function")try{J.onPostCommitFiberRoot(q,r)}catch{}return!0}finally{te.p=s,G.T=n,Uh(e,t)}}function Fh(e,t,i){t=ti(i,t),t=Br(e.stateNode,t,2),e=Qi(e,t,2),e!==null&&(dn(e,2),yi(e))}function $e(e,t,i){if(e.tag===3)Fh(e,e,i);else for(;t!==null;){if(t.tag===3){Fh(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tn===null||!tn.has(n))){e=ti(i,e),i=Gc(2),n=Qi(t,i,2),n!==null&&(qc(i,n,t,e),dn(n,2),yi(n));break}}t=t.return}}function so(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new og;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(i)||(Jr=!0,s.add(i),e=dg.bind(null,e,t,i),t.then(e,e))}function dg(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,at===e&&(qe&i)===i&&(gt===4||gt===3&&(qe&62914560)===qe&&300>Ce()-Kl?(Qe&2)===0&&la(e,0):$r|=i,na===qe&&(na=0)),yi(e)}function Gh(e,t){t===0&&(t=fa()),e=Tn(e,t),e!==null&&(dn(e,t),yi(e))}function gg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gh(e,i)}function mg(e,t){var i=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Gh(e,i)}function pg(e,t){return ee(e,t)}var as=null,ra=null,ro=!1,ls=!1,oo=!1,ln=0;function yi(e){e!==ra&&e.next===null&&(ra===null?as=ra=e:ra=ra.next=e),ls=!0,ro||(ro=!0,yg())}function Ia(e,t){if(!oo&&ls){oo=!0;do for(var i=!1,n=as;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var r=0;else{var g=n.suspendedLanes,w=n.pingedLanes;r=(1<<31-ze(42|e)+1)-1,r&=s&~(g&~w),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(i=!0,kh(n,r))}else r=qe,r=ji(n,n===at?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||fn(n,r)||(i=!0,kh(n,r));n=n.next}while(i);oo=!1}}function vg(){qh()}function qh(){ls=ro=!1;var e=0;ln!==0&&Dg()&&(e=ln);for(var t=Ce(),i=null,n=as;n!==null;){var s=n.next,r=Vh(n,t);r===0?(n.next=null,i===null?as=s:i.next=s,s===null&&(ra=i)):(i=n,(e!==0||(r&3)!==0)&&(ls=!0)),n=s}_t!==0&&_t!==5||Ia(e),ln!==0&&(ln=0)}function Vh(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var g=31-ze(r),w=1<<g,D=s[g];D===-1?((w&i)===0||(w&n)!==0)&&(s[g]=Es(w,t)):D<=t&&(e.expiredLanes|=w),r&=~w}if(t=at,i=qe,i=ji(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,i===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&K(n),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||fn(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(n!==null&&K(n),ma(i)){case 2:case 8:i=ge;break;case 32:i=ke;break;case 268435456:i=y;break;default:i=ke}return n=Zh.bind(null,e),i=ee(i,n),e.callbackPriority=t,e.callbackNode=i,t}return n!==null&&n!==null&&K(n),e.callbackPriority=2,e.callbackNode=null,2}function Zh(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ns()&&e.callbackNode!==i)return null;var n=qe;return n=ji(e,e===at?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(_h(e,n,t),Vh(e,Ce()),e.callbackNode!=null&&e.callbackNode===i?Zh.bind(null,e):null)}function kh(e,t){if(ns())return null;_h(e,t,!0)}function yg(){Og(function(){(Qe&6)!==0?ee(Ke,vg):qh()})}function uo(){if(ln===0){var e=Xn;e===0&&(e=qt,qt<<=1,(qt&261888)===0&&(qt=256)),ln=e}return ln}function Xh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function Yh(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Tg(e,t,i,n,s){if(t==="submit"&&i&&i.stateNode===s){var r=Xh((s[le]||null).action),g=n.submitter;g&&(t=(t=g[le]||null)?Xh(t.formAction):g.getAttribute("formAction"),t!==null&&(r=t,g=null));var w=new vl("action","action",null,n,s);e.push({event:w,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ln!==0){var D=g?Yh(s,g):new FormData(s);zr(i,{pending:!0,data:D,method:s.method,action:r},null,D)}}else typeof r=="function"&&(w.preventDefault(),D=g?Yh(s,g):new FormData(s),zr(i,{pending:!0,data:D,method:s.method,action:r},r,D))},currentTarget:s}]})}}for(var co=0;co<Xs.length;co++){var ho=Xs[co],Sg=ho.toLowerCase(),wg=ho[0].toUpperCase()+ho.slice(1);hi(Sg,"on"+wg)}hi(bu,"onAnimationEnd"),hi(_u,"onAnimationIteration"),hi(Cu,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Pd,"onTransitionRun"),hi(Ud,"onTransitionStart"),hi(jd,"onTransitionCancel"),hi(Ru,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qa));function Ih(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var g=n.length-1;0<=g;g--){var w=n[g],D=w.instance,P=w.currentTarget;if(w=w.listener,D!==r&&s.isPropagationStopped())break e;r=w,s.currentTarget=P;try{r(s)}catch(Z){Sl(Z)}s.currentTarget=null,r=D}else for(g=0;g<n.length;g++){if(w=n[g],D=w.instance,P=w.currentTarget,w=w.listener,D!==r&&s.isPropagationStopped())break e;r=w,s.currentTarget=P;try{r(s)}catch(Z){Sl(Z)}s.currentTarget=null,r=D}}}}function Fe(e,t){var i=t[ue];i===void 0&&(i=t[ue]=new Set);var n=e+"__bubble";i.has(n)||(Qh(t,e,2,!1),i.add(n))}function fo(e,t,i){var n=0;t&&(n|=4),Qh(i,e,n,t)}var ss="_reactListening"+Math.random().toString(36).slice(2);function go(e){if(!e[ss]){e[ss]=!0,qo.forEach(function(i){i!=="selectionchange"&&(xg.has(i)||fo(i,!1,e),fo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ss]||(t[ss]=!0,fo("selectionchange",!1,t))}}function Qh(e,t,i,n){switch(_f(t)){case 2:var s=Wg;break;case 8:s=Kg;break;default:s=zo}i=s.bind(null,t,i,e),s=void 0,!Hs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function mo(e,t,i,n,s){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var g=n.tag;if(g===3||g===4){var w=n.stateNode.containerInfo;if(w===s)break;if(g===4)for(g=n.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===s)return;g=g.return}for(;w!==null;){if(g=ci(w),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){n=r=g;continue e}w=w.parentNode}}n=n.return}eu(function(){var P=r,Z=As(i),W=[];e:{var j=Du.get(e);if(j!==void 0){var V=vl,ce=e;switch(e){case"keypress":if(ml(i)===0)break e;case"keydown":case"keyup":V=md;break;case"focusin":ce="focus",V=Ps;break;case"focusout":ce="blur",V=Ps;break;case"beforeblur":case"afterblur":V=Ps;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=yd;break;case bu:case _u:case Cu:V=sd;break;case Ru:V=Sd;break;case"scroll":case"scrollend":V=td;break;case"wheel":V=xd;break;case"copy":case"cut":case"paste":V=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=lu;break;case"toggle":case"beforetoggle":V=bd}var Ee=(t&4)!==0,it=!Ee&&(e==="scroll"||e==="scrollend"),H=Ee?j!==null?j+"Capture":null:j;Ee=[];for(var A=P,L;A!==null;){var I=A;if(L=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||L===null||H===null||(I=va(A,H),I!=null&&Ee.push(Wa(A,I,L))),it)break;A=A.return}0<Ee.length&&(j=new V(j,ce,null,i,Z),W.push({event:j,listeners:Ee}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",j&&i!==Os&&(ce=i.relatedTarget||i.fromElement)&&(ci(ce)||ce[se]))break e;if((V||j)&&(j=Z.window===Z?Z:(j=Z.ownerDocument)?j.defaultView||j.parentWindow:window,V?(ce=i.relatedTarget||i.toElement,V=P,ce=ce?ci(ce):null,ce!==null&&(it=f(ce),Ee=ce.tag,ce!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(V=null,ce=P),V!==ce)){if(Ee=nu,I="onMouseLeave",H="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=lu,I="onPointerLeave",H="onPointerEnter",A="pointer"),it=V==null?j:gn(V),L=ce==null?j:gn(ce),j=new Ee(I,A+"leave",V,i,Z),j.target=it,j.relatedTarget=L,I=null,ci(Z)===P&&(Ee=new Ee(H,A+"enter",ce,i,Z),Ee.target=L,Ee.relatedTarget=it,I=Ee),it=I,V&&ce)t:{for(Ee=Eg,H=V,A=ce,L=0,I=H;I;I=Ee(I))L++;I=0;for(var Se=A;Se;Se=Ee(Se))I++;for(;0<L-I;)H=Ee(H),L--;for(;0<I-L;)A=Ee(A),I--;for(;L--;){if(H===A||A!==null&&H===A.alternate){Ee=H;break t}H=Ee(H),A=Ee(A)}Ee=null}else Ee=null;V!==null&&Wh(W,j,V,Ee,!1),ce!==null&&it!==null&&Wh(W,it,ce,Ee,!0)}}e:{if(j=P?gn(P):window,V=j.nodeName&&j.nodeName.toLowerCase(),V==="select"||V==="input"&&j.type==="file")var Ye=du;else if(hu(j))if(gu)Ye=Nd;else{Ye=Md;var fe=Ad}else V=j.nodeName,!V||V.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&zs(P.elementType)&&(Ye=du):Ye=Hd;if(Ye&&(Ye=Ye(e,P))){fu(W,Ye,i,Z);break e}fe&&fe(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Ds(j,"number",j.value)}switch(fe=P?gn(P):window,e){case"focusin":(hu(fe)||fe.contentEditable==="true")&&(Un=fe,Vs=P,_a=null);break;case"focusout":_a=Vs=Un=null;break;case"mousedown":Zs=!0;break;case"contextmenu":case"mouseup":case"dragend":Zs=!1,xu(W,i,Z);break;case"selectionchange":if(Ld)break;case"keydown":case"keyup":xu(W,i,Z)}var Ne;if(js)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Pn?uu(e,i)&&(Ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ve="onCompositionStart");Ve&&(su&&i.locale!=="ko"&&(Pn||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Pn&&(Ne=tu()):(qi=Z,Ns="value"in qi?qi.value:qi.textContent,Pn=!0)),fe=rs(P,Ve),0<fe.length&&(Ve=new au(Ve,e,null,i,Z),W.push({event:Ve,listeners:fe}),Ne?Ve.data=Ne:(Ne=cu(i),Ne!==null&&(Ve.data=Ne)))),(Ne=Cd?Rd(e,i):Dd(e,i))&&(Ve=rs(P,"onBeforeInput"),0<Ve.length&&(fe=new au("onBeforeInput","beforeinput",null,i,Z),W.push({event:fe,listeners:Ve}),fe.data=Ne)),Tg(W,e,P,i,Z)}Ih(W,t)})}function Wa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function rs(e,t){for(var i=t+"Capture",n=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=va(e,i),s!=null&&n.unshift(Wa(e,s,r)),s=va(e,t),s!=null&&n.push(Wa(e,s,r))),e.tag===3)return n;e=e.return}return[]}function Eg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wh(e,t,i,n,s){for(var r=t._reactName,g=[];i!==null&&i!==n;){var w=i,D=w.alternate,P=w.stateNode;if(w=w.tag,D!==null&&D===n)break;w!==5&&w!==26&&w!==27||P===null||(D=P,s?(P=va(i,r),P!=null&&g.unshift(Wa(i,P,D))):s||(P=va(i,r),P!=null&&g.push(Wa(i,P,D)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var bg=/\r\n?/g,_g=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(bg,`
`).replace(_g,"")}function Jh(e,t){return t=Kh(t),Kh(e)===t}function tt(e,t,i,n,s,r){switch(i){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Nn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Nn(e,""+n);break;case"className":hl(e,"class",n);break;case"tabIndex":hl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(e,i,n);break;case"style":Jo(e,n,r);break;case"data":if(t!=="object"){hl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=dl(""+n),e.setAttribute(i,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(i==="formAction"?(t!=="input"&&tt(e,t,"name",s.name,s,null),tt(e,t,"formEncType",s.formEncType,s,null),tt(e,t,"formMethod",s.formMethod,s,null),tt(e,t,"formTarget",s.formTarget,s,null)):(tt(e,t,"encType",s.encType,s,null),tt(e,t,"method",s.method,s,null),tt(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=dl(""+n),e.setAttribute(i,n);break;case"onClick":n!=null&&(e.onclick=xi);break;case"onScroll":n!=null&&Fe("scroll",e);break;case"onScrollEnd":n!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(i=n.__html,i!=null){if(s.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}i=dl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""+n):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":n===!0?e.setAttribute(i,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,n):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(i,n):e.removeAttribute(i);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(i):e.setAttribute(i,n);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),cl(e,"popover",n);break;case"xlinkActuate":wi(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":wi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":wi(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":wi(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":wi(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":wi(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":wi(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":wi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":wi(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":cl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=$f.get(i)||i,cl(e,i,n))}}function po(e,t,i,n,s,r){switch(i){case"style":Jo(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(i=n.__html,i!=null){if(s.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof n=="string"?Nn(e,n):(typeof n=="number"||typeof n=="bigint")&&Nn(e,""+n);break;case"onScroll":n!=null&&Fe("scroll",e);break;case"onScrollEnd":n!=null&&Fe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(s=i.endsWith("Capture"),t=i.slice(2,s?i.length-7:void 0),r=e[le]||null,r=r!=null?r[i]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof n=="function")){typeof r!="function"&&r!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,n,s);break e}i in e?e[i]=n:n===!0?e.setAttribute(i,""):cl(e,i,n)}}}function Mt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var n=!1,s=!1,r;for(r in i)if(i.hasOwnProperty(r)){var g=i[r];if(g!=null)switch(r){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:tt(e,t,r,g,i,null)}}s&&tt(e,t,"srcSet",i.srcSet,i,null),n&&tt(e,t,"src",i.src,i,null);return;case"input":Fe("invalid",e);var w=r=g=s=null,D=null,P=null;for(n in i)if(i.hasOwnProperty(n)){var Z=i[n];if(Z!=null)switch(n){case"name":s=Z;break;case"type":g=Z;break;case"checked":D=Z;break;case"defaultChecked":P=Z;break;case"value":r=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,t));break;default:tt(e,t,n,Z,i,null)}}Io(e,r,w,D,P,g,s,!1);return;case"select":Fe("invalid",e),n=g=r=null;for(s in i)if(i.hasOwnProperty(s)&&(w=i[s],w!=null))switch(s){case"value":r=w;break;case"defaultValue":g=w;break;case"multiple":n=w;default:tt(e,t,s,w,i,null)}t=r,i=g,e.multiple=!!n,t!=null?Hn(e,!!n,t,!1):i!=null&&Hn(e,!!n,i,!0);return;case"textarea":Fe("invalid",e),r=s=n=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":n=w;break;case"defaultValue":s=w;break;case"children":r=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:tt(e,t,g,w,i,null)}Wo(e,n,s,r);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(n=i[D],n!=null))switch(D){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:tt(e,t,D,n,i,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(n=0;n<Qa.length;n++)Fe(Qa[n],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(n=i[P],n!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:tt(e,t,P,n,i,null)}return;default:if(zs(t)){for(Z in i)i.hasOwnProperty(Z)&&(n=i[Z],n!==void 0&&po(e,t,Z,n,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(n=i[w],n!=null&&tt(e,t,w,n,i,null))}function Cg(e,t,i,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,g=null,w=null,D=null,P=null,Z=null;for(V in i){var W=i[V];if(i.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":D=W;default:n.hasOwnProperty(V)||tt(e,t,V,null,n,W)}}for(var j in n){var V=n[j];if(W=i[j],n.hasOwnProperty(j)&&(V!=null||W!=null))switch(j){case"type":r=V;break;case"name":s=V;break;case"checked":P=V;break;case"defaultChecked":Z=V;break;case"value":g=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,t));break;default:V!==W&&tt(e,t,j,V,n,W)}}Rs(e,g,w,D,P,Z,r,s);return;case"select":V=g=w=j=null;for(r in i)if(D=i[r],i.hasOwnProperty(r)&&D!=null)switch(r){case"value":break;case"multiple":V=D;default:n.hasOwnProperty(r)||tt(e,t,r,null,n,D)}for(s in n)if(r=n[s],D=i[s],n.hasOwnProperty(s)&&(r!=null||D!=null))switch(s){case"value":j=r;break;case"defaultValue":w=r;break;case"multiple":g=r;default:r!==D&&tt(e,t,s,r,n,D)}t=w,i=g,n=V,j!=null?Hn(e,!!i,j,!1):!!n!=!!i&&(t!=null?Hn(e,!!i,t,!0):Hn(e,!!i,i?[]:"",!1));return;case"textarea":V=j=null;for(w in i)if(s=i[w],i.hasOwnProperty(w)&&s!=null&&!n.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(e,t,w,null,n,s)}for(g in n)if(s=n[g],r=i[g],n.hasOwnProperty(g)&&(s!=null||r!=null))switch(g){case"value":j=s;break;case"defaultValue":V=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(l(91));break;default:s!==r&&tt(e,t,g,s,n,r)}Qo(e,j,V);return;case"option":for(var ce in i)if(j=i[ce],i.hasOwnProperty(ce)&&j!=null&&!n.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:tt(e,t,ce,null,n,j)}for(D in n)if(j=n[D],V=i[D],n.hasOwnProperty(D)&&j!==V&&(j!=null||V!=null))switch(D){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:tt(e,t,D,j,n,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in i)j=i[Ee],i.hasOwnProperty(Ee)&&j!=null&&!n.hasOwnProperty(Ee)&&tt(e,t,Ee,null,n,j);for(P in n)if(j=n[P],V=i[P],n.hasOwnProperty(P)&&j!==V&&(j!=null||V!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:tt(e,t,P,j,n,V)}return;default:if(zs(t)){for(var it in i)j=i[it],i.hasOwnProperty(it)&&j!==void 0&&!n.hasOwnProperty(it)&&po(e,t,it,void 0,n,j);for(Z in n)j=n[Z],V=i[Z],!n.hasOwnProperty(Z)||j===V||j===void 0&&V===void 0||po(e,t,Z,j,n,V);return}}for(var H in i)j=i[H],i.hasOwnProperty(H)&&j!=null&&!n.hasOwnProperty(H)&&tt(e,t,H,null,n,j);for(W in n)j=n[W],V=i[W],!n.hasOwnProperty(W)||j===V||j==null&&V==null||tt(e,t,W,j,n,V)}function $h(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),n=0;n<i.length;n++){var s=i[n],r=s.transferSize,g=s.initiatorType,w=s.duration;if(r&&w&&$h(g)){for(g=0,w=s.responseEnd,n+=1;n<i.length;n++){var D=i[n],P=D.startTime;if(P>w)break;var Z=D.transferSize,W=D.initiatorType;Z&&$h(W)&&(D=D.responseEnd,g+=Z*(D<w?1:(w-P)/(D-P)))}if(--n,t+=8*(r+g)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vo=null,yo=null;function os(e){return e.nodeType===9?e:e.ownerDocument}function ef(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=null;function Dg(){var e=window.event;return e&&e.type==="popstate"?e===So?!1:(So=e,!0):(So=null,!1)}var nf=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(Ag)}:nf;function Ag(e){setTimeout(function(){throw e})}function sn(e){return e==="head"}function lf(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"||i==="/&"){if(n===0){e.removeChild(s),ha(t);return}n--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")n++;else if(i==="html")Ka(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ka(i);for(var r=i.firstChild;r;){var g=r.nextSibling,w=r.nodeName;r[nt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&r.rel.toLowerCase()==="stylesheet"||i.removeChild(r),r=g}}else i==="body"&&Ka(e.ownerDocument.body);i=s}while(i);ha(t)}function sf(e,t){var i=e;e=0;do{var n=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=n}while(i)}function wo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":wo(i),Kt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Mg(e,t,i,n){for(;e.nodeType===1;){var s=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[nt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=si(e.nextSibling),e===null)break}return null}function Hg(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=si(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=si(e.nextSibling),e===null))return null;return e}function xo(e){return e.data==="$?"||e.data==="$~"}function Eo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ng(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var n=function(){t(),i.removeEventListener("DOMContentLoaded",n)};i.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bo=null;function of(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return si(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function cf(e,t,i){switch(t=os(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ka(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kt(e)}var ri=new Map,hf=new Set;function us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=te.d;te.d={f:Bg,r:Lg,D:Pg,C:Ug,L:jg,m:Fg,X:qg,S:Gg,M:Vg};function Bg(){var e=Ui.f(),t=es();return e||t}function Lg(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?Rc(t):Ui.r(e)}var oa=typeof document>"u"?null:document;function ff(e,t,i){var n=oa;if(n&&typeof t=="string"&&t){var s=$t(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof i=="string"&&(s+='[crossorigin="'+i+'"]'),hf.has(s)||(hf.add(s),e={rel:e,crossOrigin:i,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Mt(t,"link",e),Tt(t),n.head.appendChild(t)))}}function Pg(e){Ui.D(e),ff("dns-prefetch",e,null)}function Ug(e,t){Ui.C(e,t),ff("preconnect",e,t)}function jg(e,t,i){Ui.L(e,t,i);var n=oa;if(n&&e&&t){var s='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&i&&i.imageSrcSet?(s+='[imagesrcset="'+$t(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(s+='[imagesizes="'+$t(i.imageSizes)+'"]')):s+='[href="'+$t(e)+'"]';var r=s;switch(t){case"style":r=ua(e);break;case"script":r=ca(e)}ri.has(r)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ri.set(r,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Ja(r))||t==="script"&&n.querySelector($a(r))||(t=n.createElement("link"),Mt(t,"link",e),Tt(t),n.head.appendChild(t)))}}function Fg(e,t){Ui.m(e,t);var i=oa;if(i&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+$t(n)+'"][href="'+$t(e)+'"]',r=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ca(e)}if(!ri.has(r)&&(e=v({rel:"modulepreload",href:e},t),ri.set(r,e),i.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector($a(r)))return}n=i.createElement("link"),Mt(n,"link",e),Tt(n),i.head.appendChild(n)}}}function Gg(e,t,i){Ui.S(e,t,i);var n=oa;if(n&&e){var s=Gi(n).hoistableStyles,r=ua(e);t=t||"default";var g=s.get(r);if(!g){var w={loading:0,preload:null};if(g=n.querySelector(Ja(r)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ri.get(r))&&_o(e,i);var D=g=n.createElement("link");Tt(D),Mt(D,"link",e),D._p=new Promise(function(P,Z){D.onload=P,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,cs(g,t,n)}g={type:"stylesheet",instance:g,count:1,state:w},s.set(r,g)}}}function qg(e,t){Ui.X(e,t);var i=oa;if(i&&e){var n=Gi(i).hoistableScripts,s=ca(e),r=n.get(s);r||(r=i.querySelector($a(s)),r||(e=v({src:e,async:!0},t),(t=ri.get(s))&&Co(e,t),r=i.createElement("script"),Tt(r),Mt(r,"link",e),i.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function Vg(e,t){Ui.M(e,t);var i=oa;if(i&&e){var n=Gi(i).hoistableScripts,s=ca(e),r=n.get(s);r||(r=i.querySelector($a(s)),r||(e=v({src:e,async:!0,type:"module"},t),(t=ri.get(s))&&Co(e,t),r=i.createElement("script"),Tt(r),Mt(r,"link",e),i.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}function df(e,t,i,n){var s=(s=De.current)?us(s):null;if(!s)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ua(i.href),i=Gi(s).hoistableStyles,n=i.get(t),n||(n={type:"style",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ua(i.href);var r=Gi(s).hoistableStyles,g=r.get(e);if(g||(s=s.ownerDocument||s,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,g),(r=s.querySelector(Ja(e)))&&!r._p&&(g.instance=r,g.state.loading=5),ri.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ri.set(e,i),r||Zg(s,e,i,g.state))),t&&n===null)throw Error(l(528,""));return g}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ca(i),i=Gi(s).hoistableScripts,n=i.get(t),n||(n={type:"script",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ua(e){return'href="'+$t(e)+'"'}function Ja(e){return'link[rel="stylesheet"]['+e+"]"}function gf(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Zg(e,t,i,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Mt(t,"link",i),Tt(t),e.head.appendChild(t))}function ca(e){return'[src="'+$t(e)+'"]'}function $a(e){return"script[async]"+e}function mf(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+$t(i.href)+'"]');if(n)return t.instance=n,Tt(n),n;var s=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Tt(n),Mt(n,"style",s),cs(n,i.precedence,e),t.instance=n;case"stylesheet":s=ua(i.href);var r=e.querySelector(Ja(s));if(r)return t.state.loading|=4,t.instance=r,Tt(r),r;n=gf(i),(s=ri.get(s))&&_o(n,s),r=(e.ownerDocument||e).createElement("link"),Tt(r);var g=r;return g._p=new Promise(function(w,D){g.onload=w,g.onerror=D}),Mt(r,"link",n),t.state.loading|=4,cs(r,i.precedence,e),t.instance=r;case"script":return r=ca(i.src),(s=e.querySelector($a(r)))?(t.instance=s,Tt(s),s):(n=i,(s=ri.get(r))&&(n=v({},i),Co(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Tt(s),Mt(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,cs(n,i.precedence,e));return t.instance}function cs(e,t,i){for(var n=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,r=s,g=0;g<n.length;g++){var w=n[g];if(w.dataset.precedence===t)r=w;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function _o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hs=null;function pf(e,t,i){if(hs===null){var n=new Map,s=hs=new Map;s.set(i,n)}else s=hs,n=s.get(i),n||(n=new Map,s.set(i,n));if(n.has(e))return n;for(n.set(e,null),i=i.getElementsByTagName(e),s=0;s<i.length;s++){var r=i[s];if(!(r[nt]||r[ae]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var g=r.getAttribute(t)||"";g=e+g;var w=n.get(g);w?w.push(r):n.set(g,[r])}}return n}function vf(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function kg(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function yf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xg(e,t,i,n){if(i.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var s=ua(n.href),r=t.querySelector(Ja(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fs.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=r,Tt(r);return}r=t.ownerDocument||t,n=gf(n),(s=ri.get(s))&&_o(n,s),r=r.createElement("link"),Tt(r);var g=r;g._p=new Promise(function(w,D){g.onload=w,g.onerror=D}),Mt(r,"link",n),i.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=fs.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ro=0;function Yg(e,t){return e.stylesheets&&e.count===0&&gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var n=setTimeout(function(){if(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Ro===0&&(Ro=62500*Rg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gs(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Ro?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function fs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ds=null;function gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ds=new Map,t.forEach(Ig,e),ds=null,fs.call(e))}function Ig(e,t){if(!(t.state.loading&4)){var i=ds.get(e);if(i)var n=i.get(null);else{i=new Map,ds.set(e,i);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var g=s[r];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),n=g)}n&&i.set(null,n)}s=t.instance,g=s.getAttribute("data-precedence"),r=i.get(g)||n,r===n&&i.set(null,s),i.set(g,s),this.count++,n=fs.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var el={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Qg(e,t,i,n,s,r,g,w,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Tf(e,t,i,n,s,r,g,w,D,P,Z,W){return e=new Qg(e,t,i,g,D,P,Z,W,w),t=1,r===!0&&(t|=24),r=Zt(3,null,null,t),e.current=r,r.stateNode=e,t=lr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:i,cache:t},ur(r),e}function Sf(e){return e?(e=Gn,e):Gn}function wf(e,t,i,n,s,r){s=Sf(s),n.context===null?n.context=s:n.pendingContext=s,n=Ii(t),n.payload={element:i},r=r===void 0?null:r,r!==null&&(n.callback=r),i=Qi(e,n,t),i!==null&&(Gt(i,e,t),Ma(i,e,t))}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Do(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function Ef(e){if(e.tag===13||e.tag===31){var t=Tn(e,67108864);t!==null&&Gt(t,e,67108864),Do(e,67108864)}}function bf(e){if(e.tag===13||e.tag===31){var t=Qt();t=ga(t);var i=Tn(e,t);i!==null&&Gt(i,e,t),Do(e,t)}}var ms=!0;function Wg(e,t,i,n){var s=G.T;G.T=null;var r=te.p;try{te.p=2,zo(e,t,i,n)}finally{te.p=r,G.T=s}}function Kg(e,t,i,n){var s=G.T;G.T=null;var r=te.p;try{te.p=8,zo(e,t,i,n)}finally{te.p=r,G.T=s}}function zo(e,t,i,n){if(ms){var s=Oo(n);if(s===null)mo(e,t,n,ps,i),Cf(e,n);else if($g(s,e,t,i,n))n.stopPropagation();else if(Cf(e,n),t&4&&-1<Jg.indexOf(e)){for(;s!==null;){var r=Fi(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var g=Wt(r.pendingLanes);if(g!==0){var w=r;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var D=1<<31-ze(g);w.entanglements[1]|=D,g&=~D}yi(r),(Qe&6)===0&&(Jl=Ce()+500,Ia(0))}}break;case 31:case 13:w=Tn(r,2),w!==null&&Gt(w,r,2),es(),Do(r,2)}if(r=Oo(n),r===null&&mo(e,t,n,ps,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else mo(e,t,n,null,i)}}function Oo(e){return e=As(e),Ao(e)}var ps=null;function Ao(e){if(ps=null,e=ci(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=p(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ps=e,null}function _f(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Ke:return 2;case ge:return 8;case ke:case T:return 32;case y:return 268435456;default:return 32}default:return 32}}var Mo=!1,rn=null,on=null,un=null,tl=new Map,il=new Map,cn=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cf(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function nl(e,t,i,n,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $g(e,t,i,n,s){switch(t){case"focusin":return rn=nl(rn,e,t,i,n,s),!0;case"dragenter":return on=nl(on,e,t,i,n,s),!0;case"mouseover":return un=nl(un,e,t,i,n,s),!0;case"pointerover":var r=s.pointerId;return tl.set(r,nl(tl.get(r)||null,e,t,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,il.set(r,nl(il.get(r)||null,e,t,i,n,s)),!0}return!1}function Rf(e){var t=ci(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=p(i),t!==null){e.blockedOn=t,U(e.priority,function(){bf(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,U(e.priority,function(){bf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Oo(e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);Os=n,i.target.dispatchEvent(n),Os=null}else return t=Fi(i),t!==null&&Ef(t),e.blockedOn=i,!1;t.shift()}return!0}function Df(e,t,i){vs(e)&&i.delete(t)}function em(){Mo=!1,rn!==null&&vs(rn)&&(rn=null),on!==null&&vs(on)&&(on=null),un!==null&&vs(un)&&(un=null),tl.forEach(Df),il.forEach(Df)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Mo||(Mo=!0,ne.unstable_scheduleCallback(ne.unstable_NormalPriority,em)))}var Ts=null;function zf(e){Ts!==e&&(Ts=e,ne.unstable_scheduleCallback(ne.unstable_NormalPriority,function(){Ts===e&&(Ts=null);for(var t=0;t<e.length;t+=3){var i=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Ao(n||i)===null)continue;break}var r=Fi(i);r!==null&&(e.splice(t,3),t-=3,zr(r,{pending:!0,data:s,method:i.method,action:n},n,s))}}))}function ha(e){function t(D){return ys(D,e)}rn!==null&&ys(rn,e),on!==null&&ys(on,e),un!==null&&ys(un,e),tl.forEach(t),il.forEach(t);for(var i=0;i<cn.length;i++){var n=cn[i];n.blockedOn===e&&(n.blockedOn=null)}for(;0<cn.length&&(i=cn[0],i.blockedOn===null);)Rf(i),i.blockedOn===null&&cn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(n=0;n<i.length;n+=3){var s=i[n],r=i[n+1],g=s[le]||null;if(typeof r=="function")g||zf(i);else if(g){var w=null;if(r&&r.hasAttribute("formAction")){if(s=r,g=r[le]||null)w=g.formAction;else if(Ao(s)!==null)continue}else w=g.action;typeof w=="function"?i[n+1]=w:(i.splice(n,3),n-=3),zf(i)}}}function Of(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(g){return s=g})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(i,20)}function i(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ho(e){this._internalRoot=e}Ss.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,n=Qt();wf(i,n,e,t,null,null)},Ss.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wf(e.current,2,null,e,null,null),es(),t[se]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=pa();e={blockedOn:null,target:e,priority:t};for(var i=0;i<cn.length&&t!==0&&t<cn[i].priority;i++);cn.splice(i,0,e),i===0&&Rf(e)}};var Af=$.version;if(Af!=="19.2.0")throw Error(l(527,Af,"19.2.0"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=c(t),e=e!==null?d(e):null,e=e===null?null:e.stateNode,e};var tm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{q=ws.inject(tm),J=ws}catch{}}return ll.createRoot=function(e,t){if(!o(e))throw Error(l(299));var i=!1,n="",s=Pc,r=Uc,g=jc;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Tf(e,1,!1,null,null,i,n,null,s,r,g,Of),e[se]=t.current,go(e),new Ho(t)},ll.hydrateRoot=function(e,t,i){if(!o(e))throw Error(l(299));var n=!1,s="",r=Pc,g=Uc,w=jc,D=null;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(r=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(D=i.formState)),t=Tf(e,1,!0,t,i??null,n,s,D,r,g,w,Of),t.context=Sf(null),i=t.current,n=Qt(),n=ga(n),s=Ii(n),s.callback=null,Qi(i,s,n),i=n,t.current.lanes=i,dn(t,i),yi(t),e[se]=t.current,go(e),new Ss(t)},ll.version="19.2.0",ll}var Gf;function fm(){if(Gf)return Lo.exports;Gf=1;function ne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ne)}catch($){console.error($)}}return ne(),Lo.exports=hm(),Lo.exports}var dm=fm();const gm=Fo(dm);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ne=>ne.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pm=ne=>ne.replace(/^([A-Z])|[\s-_]+(\w)/g,($,a,l)=>l?l.toUpperCase():a.toLowerCase()),qf=ne=>{const $=pm(ne);return $.charAt(0).toUpperCase()+$.slice(1)},Yf=(...ne)=>ne.filter(($,a,l)=>!!$&&$.trim()!==""&&l.indexOf($)===a).join(" ").trim(),vm=ne=>{for(const $ in ne)if($.startsWith("aria-")||$==="role"||$==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=we.forwardRef(({color:ne="currentColor",size:$=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:f,iconNode:p,...h},u)=>we.createElement("svg",{ref:u,...ym,width:$,height:$,stroke:ne,strokeWidth:l?Number(a)*24/Number($):a,className:Yf("lucide",o),...!f&&!vm(h)&&{"aria-hidden":"true"},...h},[...p.map(([c,d])=>we.createElement(c,d)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=(ne,$)=>{const a=we.forwardRef(({className:l,...o},f)=>we.createElement(Tm,{ref:f,iconNode:$,className:Yf(`lucide-${mm(qf(ne))}`,`lucide-${ne}`,l),...o}));return a.displayName=qf(ne),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Vf=rl("brain",Sm);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xm=rl("database",wm);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bm=rl("eye",Em);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zf=rl("layers",_m);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kf=rl("loader-circle",Cm);var xs={exports:{}},Rm=xs.exports,Xf;function Dm(){return Xf||(Xf=1,(function(ne){//! openseadragon 4.1.1
//! Built on 2024-04-01
//! Git commit: v4.1.1-0-f90d9814
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function $(a){return new $.Viewer(a)}(function(a){a.version={versionStr:"4.1.1",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("1",10)};var l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},o=Object.prototype.toString,f=Object.prototype.hasOwnProperty;a.isFunction=function(p){return a.type(p)==="function"},a.isArray=Array.isArray||function(p){return a.type(p)==="array"},a.isWindow=function(p){return p&&typeof p=="object"&&"setInterval"in p},a.type=function(p){return p==null?String(p):l[o.call(p)]||"object"},a.isPlainObject=function(p){if(!p||$.type(p)!=="object"||p.nodeType||a.isWindow(p)||p.constructor&&!f.call(p,"constructor")&&!f.call(p.constructor.prototype,"isPrototypeOf"))return!1;var h;for(var u in p)h=u;return h===void 0||f.call(p,h)},a.isEmptyObject=function(p){for(var h in p)return!1;return!0},a.freezeObject=function(p){return Object.freeze?a.freezeObject=Object.freeze:a.freezeObject=function(h){return h},a.freezeObject(p)},a.supportsCanvas=(function(){var p=document.createElement("canvas");return!!(a.isFunction(p.getContext)&&p.getContext("2d"))})(),a.isCanvasTainted=function(p){var h=!1;try{p.getContext("2d").getImageData(0,0,1,1)}catch{h=!0}return h},a.supportsAddEventListener=(function(){return!!(document.documentElement.addEventListener&&document.addEventListener)})(),a.supportsRemoveEventListener=(function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)})(),a.supportsEventListenerOptions=(function(){var p=0;if(a.supportsAddEventListener)try{var h={get capture(){return p++,!1},get once(){return p++,!1},get passive(){return p++,!1}};window.addEventListener("test",null,h),window.removeEventListener("test",null,h)}catch{p=0}return p>=3})(),a.getCurrentPixelDensityRatio=function(){if(a.supportsCanvas){var p=document.createElement("canvas").getContext("2d"),h=window.devicePixelRatio||1,u=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return Math.max(h,1)/u}else return 1},a.pixelDensityRatio=a.getCurrentPixelDensityRatio()})($),(function(a){a.extend=function(){var u,c,d,v,S,C,_=arguments[0]||{},z=arguments.length,R=!1,M=1;for(typeof _=="boolean"&&(R=_,_=arguments[1]||{},M=2),typeof _!="object"&&!$.isFunction(_)&&(_={}),z===M&&(_=this,--M);M<z;M++)if(u=arguments[M],u!==null||u!==void 0)for(c in u){var X=Object.getOwnPropertyDescriptor(u,c);if(X!==void 0){if(X.get||X.set){Object.defineProperty(_,c,X);continue}v=X.value}else{a.console.warn('Could not copy inherited property "'+c+'".');continue}_!==v&&(R&&v&&($.isPlainObject(v)||(S=$.isArray(v)))?(d=_[c],S?(S=!1,C=d&&$.isArray(d)?d:[]):C=d&&$.isPlainObject(d)?d:{},_[c]=$.extend(R,C,v)):v!==void 0&&(_[c]=v))}return _};var l=function(){if(typeof navigator!="object")return!1;var u=navigator.userAgent;return typeof u!="string"?!1:u.indexOf("iPhone")!==-1||u.indexOf("iPad")!==-1||u.indexOf("iPod")!==-1};a.extend(a,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:l(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(u,c){return function(){var d=arguments;return d===void 0&&(d=[]),c.apply(u,d)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(u){return a._viewers.get(this.getElement(u))},getElement:function(u){return typeof u=="string"&&(u=document.getElementById(u)),u},getElementPosition:function(u){var c=new a.Point,d,v;for(u=a.getElement(u),d=a.getElementStyle(u).position==="fixed",v=h(u,d);v;)c.x+=u.offsetLeft,c.y+=u.offsetTop,d&&(c=c.plus(a.getPageScroll())),u=v,d=a.getElementStyle(u).position==="fixed",v=h(u,d);return c},getElementOffset:function(u){u=a.getElement(u);var c=u&&u.ownerDocument,d,v,S={top:0,left:0};return c?(d=c.documentElement,typeof u.getBoundingClientRect<"u"&&(S=u.getBoundingClientRect()),v=c===c.window?c:c.nodeType===9?c.defaultView||c.parentWindow:!1,new a.Point(S.left+(v.pageXOffset||d.scrollLeft)-(d.clientLeft||0),S.top+(v.pageYOffset||d.scrollTop)-(d.clientTop||0))):new a.Point},getElementSize:function(u){return u=a.getElement(u),new a.Point(u.clientWidth,u.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(u){return u=a.getElement(u),u.currentStyle}:function(u){return u=a.getElement(u),window.getComputedStyle(u,"")},getCssPropertyWithVendorPrefix:function(u){var c={};return a.getCssPropertyWithVendorPrefix=function(d){if(c[d]!==void 0)return c[d];var v=document.createElement("div").style,S=null;if(v[d]!==void 0)S=d;else for(var C=["Webkit","Moz","MS","O","webkit","moz","ms","o"],_=a.capitalizeFirstLetter(d),z=0;z<C.length;z++){var R=C[z]+_;if(v[R]!==void 0){S=R;break}}return c[d]=S,S},a.getCssPropertyWithVendorPrefix(u)},capitalizeFirstLetter:function(u){return u.charAt(0).toUpperCase()+u.slice(1)},positiveModulo:function(u,c){var d=u%c;return d<0&&(d+=c),d},pointInElement:function(u,c){u=a.getElement(u);var d=a.getElementOffset(u),v=a.getElementSize(u);return c.x>=d.x&&c.x<d.x+v.x&&c.y<d.y+v.y&&c.y>=d.y},getMousePosition:function(u){if(typeof u.pageX=="number")a.getMousePosition=function(c){var d=new a.Point;return d.x=c.pageX,d.y=c.pageY,d};else if(typeof u.clientX=="number")a.getMousePosition=function(c){var d=new a.Point;return d.x=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d.y=c.clientY+document.body.scrollTop+document.documentElement.scrollTop,d};else throw new Error("Unknown event mouse position, no known technique.");return a.getMousePosition(u)},getPageScroll:function(){var u=document.documentElement||{},c=document.body||{};if(typeof window.pageXOffset=="number")a.getPageScroll=function(){return new a.Point(window.pageXOffset,window.pageYOffset)};else if(c.scrollLeft||c.scrollTop)a.getPageScroll=function(){return new a.Point(document.body.scrollLeft,document.body.scrollTop)};else if(u.scrollLeft||u.scrollTop)a.getPageScroll=function(){return new a.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new a.Point(0,0);return a.getPageScroll()},setPageScroll:function(u){if(typeof window.scrollTo<"u")a.setPageScroll=function(v){window.scrollTo(v.x,v.y)};else{var c=a.getPageScroll();if(c.x===u.x&&c.y===u.y)return;document.body.scrollLeft=u.x,document.body.scrollTop=u.y;var d=a.getPageScroll();if(d.x!==c.x&&d.y!==c.y){a.setPageScroll=function(v){document.body.scrollLeft=v.x,document.body.scrollTop=v.y};return}if(document.documentElement.scrollLeft=u.x,document.documentElement.scrollTop=u.y,d=a.getPageScroll(),d.x!==c.x&&d.y!==c.y){a.setPageScroll=function(v){document.documentElement.scrollLeft=v.x,document.documentElement.scrollTop=v.y};return}a.setPageScroll=function(v){}}a.setPageScroll(u)},getWindowSize:function(){var u=document.documentElement||{},c=document.body||{};if(typeof window.innerWidth=="number")a.getWindowSize=function(){return new a.Point(window.innerWidth,window.innerHeight)};else if(u.clientWidth||u.clientHeight)a.getWindowSize=function(){return new a.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(c.clientWidth||c.clientHeight)a.getWindowSize=function(){return new a.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return a.getWindowSize()},makeCenteredNode:function(u){u=a.getElement(u);var c=[a.makeNeutralElement("div"),a.makeNeutralElement("div"),a.makeNeutralElement("div")];return a.extend(c[0].style,{display:"table",height:"100%",width:"100%"}),a.extend(c[1].style,{display:"table-row"}),a.extend(c[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),c[0].appendChild(c[1]),c[1].appendChild(c[2]),c[2].appendChild(u),c[0]},makeNeutralElement:function(u){var c=document.createElement(u),d=c.style;return d.background="transparent none",d.border="none",d.margin="0px",d.padding="0px",d.position="static",c},now:function(){return Date.now?a.now=Date.now:a.now=function(){return new Date().getTime()},a.now()},makeTransparentImage:function(u){var c=a.makeNeutralElement("img");return c.src=u,c},setElementOpacity:function(u,c,d){var v,S;u=a.getElement(u),d&&!a.Browser.alpha&&(c=Math.round(c)),a.Browser.opacity?u.style.opacity=c<1?c:"":c<1?(v=Math.round(100*c),S="alpha(opacity="+v+")",u.style.filter=S):u.style.filter=""},setElementTouchActionNone:function(u){u=a.getElement(u),typeof u.style.touchAction<"u"?u.style.touchAction="none":typeof u.style.msTouchAction<"u"&&(u.style.msTouchAction="none")},setElementPointerEvents:function(u,c){u=a.getElement(u),typeof u.style<"u"&&typeof u.style.pointerEvents<"u"&&(u.style.pointerEvents=c)},setElementPointerEventsNone:function(u){a.setElementPointerEvents(u,"none")},addClass:function(u,c){u=a.getElement(u),u.className?(" "+u.className+" ").indexOf(" "+c+" ")===-1&&(u.className+=" "+c):u.className=c},indexOf:function(u,c,d){return Array.prototype.indexOf?this.indexOf=function(v,S,C){return v.indexOf(S,C)}:this.indexOf=function(v,S,C){var _,z=C||0,R;if(!v)throw new TypeError;if(R=v.length,R===0||z>=R)return-1;for(z<0&&(z=R-Math.abs(z)),_=z;_<R;_++)if(v[_]===S)return _;return-1},this.indexOf(u,c,d)},removeClass:function(u,c){var d,v=[],S;for(u=a.getElement(u),d=u.className.split(/\s+/),S=0;S<d.length;S++)d[S]&&d[S]!==c&&v.push(d[S]);u.className=v.join(" ")},normalizeEventListenerOptions:function(u){var c;return typeof u<"u"?typeof u=="boolean"?c=a.supportsEventListenerOptions?{capture:u}:u:c=a.supportsEventListenerOptions?u:typeof u.capture<"u"?u.capture:!1:c=a.supportsEventListenerOptions?{capture:!1}:!1,c},addEvent:(function(){if(a.supportsAddEventListener)return function(u,c,d,v){v=a.normalizeEventListenerOptions(v),u=a.getElement(u),u.addEventListener(c,d,v)};if(document.documentElement.attachEvent&&document.attachEvent)return function(u,c,d){u=a.getElement(u),u.attachEvent("on"+c,d)};throw new Error("No known event model.")})(),removeEvent:(function(){if(a.supportsRemoveEventListener)return function(u,c,d,v){v=a.normalizeEventListenerOptions(v),u=a.getElement(u),u.removeEventListener(c,d,v)};if(document.documentElement.detachEvent&&document.detachEvent)return function(u,c,d){u=a.getElement(u),u.detachEvent("on"+c,d)};throw new Error("No known event model.")})(),cancelEvent:function(u){u.preventDefault()},eventIsCanceled:function(u){return u.defaultPrevented},stopEvent:function(u){u.stopPropagation()},createCallback:function(u,c){var d=[],v;for(v=2;v<arguments.length;v++)d.push(arguments[v]);return function(){var S=d.concat([]),C;for(C=0;C<arguments.length;C++)S.push(arguments[C]);return c.apply(u,S)}},getUrlParameter:function(u){var c=p[u];return c||null},getUrlProtocol:function(u){var c=u.match(/^([a-z]+:)\/\//i);return c===null?window.location.protocol:c[1].toLowerCase()},createAjaxRequest:function(u){var c;try{c=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{c=!1}if(c)window.XMLHttpRequest?a.createAjaxRequest=function(d){return d?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:a.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)a.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return a.createAjaxRequest(u)},makeAjaxRequest:function(u,c,d){var v,S,C,_;a.isPlainObject(u)&&(c=u.success,d=u.error,v=u.withCredentials,S=u.headers,C=u.responseType||null,_=u.postData||null,u=u.url);var z=a.getUrlProtocol(u),R=a.createAjaxRequest(z==="file:");if(!a.isFunction(c))throw new Error("makeAjaxRequest requires a success callback");R.onreadystatechange=function(){R.readyState===4&&(R.onreadystatechange=function(){},R.status>=200&&R.status<300||R.status===0&&z!=="http:"&&z!=="https:"?c(R):a.isFunction(d)?d(R):a.console.error("AJAX request returned %d: %s",R.status,u))};var M=_?"POST":"GET";try{if(R.open(M,u,!0),C&&(R.responseType=C),S)for(var X in S)Object.prototype.hasOwnProperty.call(S,X)&&S[X]&&R.setRequestHeader(X,S[X]);v&&(R.withCredentials=!0),R.send(_)}catch(N){a.console.error("%s while making AJAX request: %s",N.name,N.message),R.onreadystatechange=function(){},a.isFunction(d)&&d(R,N)}return R},jsonp:function(u){var c,d=u.url,v=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=u.callbackName||"openseadragon"+a.now(),C=window[S],_="$1"+S+"$2",z=u.param||"callback",R=u.callback;d=d.replace(/(=)\?(&|$)|\?\?/i,_),d+=(/\?/.test(d)?"&":"?")+z+"="+S,window[S]=function(M){if(C)window[S]=C;else try{delete window[S]}catch{}R&&a.isFunction(R)&&R(M)},c=document.createElement("script"),(u.async!==void 0||u.async!==!1)&&(c.async="async"),u.scriptCharset&&(c.charset=u.scriptCharset),c.src=d,c.onload=c.onreadystatechange=function(M,X){(X||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,v&&c.parentNode&&v.removeChild(c),c=void 0)},v.insertBefore(c,v.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(u){if(window.DOMParser)a.parseXml=function(c){var d=null,v;return v=new DOMParser,d=v.parseFromString(c,"text/xml"),d};else if(window.ActiveXObject)a.parseXml=function(c){var d=null;return d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(c),d};else throw new Error("Browser doesn't support XML DOM.");return a.parseXml(u)},parseJSON:function(u){return a.parseJSON=window.JSON.parse,a.parseJSON(u)},imageFormatSupported:function(u){return u=u||"",!!f[u.toLowerCase()]},setImageFormatsSupported:function(u){a.extend(f,u)}});var o=function(u){};a.console=window.console||{log:o,debug:o,info:o,warn:o,error:o,assert:o},a.Browser={vendor:a.BROWSERS.UNKNOWN,version:0,alpha:!0};var f={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},p={};(function(){var u=navigator.appVersion,c=navigator.userAgent,d;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(a.Browser.vendor=a.BROWSERS.IE,a.Browser.version=parseFloat(c.substring(c.indexOf("MSIE")+5,c.indexOf(";",c.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(c.indexOf("Edge")>=0?(a.Browser.vendor=a.BROWSERS.EDGE,a.Browser.version=parseFloat(c.substring(c.indexOf("Edge")+5))):c.indexOf("Edg")>=0?(a.Browser.vendor=a.BROWSERS.CHROMEEDGE,a.Browser.version=parseFloat(c.substring(c.indexOf("Edg")+4))):c.indexOf("Firefox")>=0?(a.Browser.vendor=a.BROWSERS.FIREFOX,a.Browser.version=parseFloat(c.substring(c.indexOf("Firefox")+8))):c.indexOf("Safari")>=0?(a.Browser.vendor=c.indexOf("Chrome")>=0?a.BROWSERS.CHROME:a.BROWSERS.SAFARI,a.Browser.version=parseFloat(c.substring(c.substring(0,c.indexOf("Safari")).lastIndexOf("/")+1,c.indexOf("Safari")))):(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),d.exec(c)!==null&&(a.Browser.vendor=a.BROWSERS.IE,a.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":a.Browser.vendor=a.BROWSERS.OPERA,a.Browser.version=parseFloat(u);break}var v=window.location.search.substring(1),S=v.split("&"),C,_,z;for(z=0;z<S.length;z++)if(C=S[z],_=C.indexOf("="),_>0){var R=C.substring(0,_),M=C.substring(_+1);try{p[R]=decodeURIComponent(M)}catch{a.console.error("Ignoring malformed URL parameter: %s=%s",R,M)}}a.Browser.alpha=!(a.Browser.vendor===a.BROWSERS.CHROME&&a.Browser.version<2),a.Browser.opacity=!0,a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<11&&a.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),(function(u){var c=u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame||u.msRequestAnimationFrame,d=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame||u.msCancelAnimationFrame;if(c&&d)a.requestAnimationFrame=function(){return c.apply(u,arguments)},a.cancelAnimationFrame=function(){return d.apply(u,arguments)};else{var v=[],S=[],C=0,_;a.requestAnimationFrame=function(z){return v.push([++C,z]),_||(_=setInterval(function(){if(v.length){var R=a.now(),M=S;for(S=v,v=M;S.length;)S.shift()[1](R)}else clearInterval(_),_=void 0},1e3/50)),C},a.cancelAnimationFrame=function(z){var R,M;for(R=0,M=v.length;R<M;R+=1)if(v[R][0]===z){v.splice(R,1);return}for(R=0,M=S.length;R<M;R+=1)if(S[R][0]===z){S.splice(R,1);return}}}})(window);function h(u,c){return c&&u!==document.body?document.body:u.offsetParent}})($),(function(a,l){ne.exports?ne.exports=l():a.OpenSeadragon=l()})(Rm,function(){return $}),(function(a){var l={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.fullscreenElement},l.requestFullScreen=function(o){return o.requestFullscreen()},l.exitFullScreen=function(){document.exitFullscreen()},l.fullScreenEventName="fullscreenchange",l.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.msFullscreenElement},l.requestFullScreen=function(o){return o.msRequestFullscreen()},l.exitFullScreen=function(){document.msExitFullscreen()},l.fullScreenEventName="MSFullscreenChange",l.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.webkitFullscreenElement},l.requestFullScreen=function(o){return o.webkitRequestFullscreen()},l.exitFullScreen=function(){document.webkitExitFullscreen()},l.fullScreenEventName="webkitfullscreenchange",l.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},l.requestFullScreen=function(o){return o.webkitRequestFullScreen()},l.exitFullScreen=function(){document.webkitCancelFullScreen()},l.fullScreenEventName="webkitfullscreenchange",l.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(l.supportsFullScreen=!0,l.getFullScreenElement=function(){return document.mozFullScreenElement},l.requestFullScreen=function(o){return o.mozRequestFullScreen()},l.exitFullScreen=function(){document.mozCancelFullScreen()},l.fullScreenEventName="mozfullscreenchange",l.fullScreenErrorEventName="mozfullscreenerror"),l.isFullScreen=function(){return l.getFullScreenElement()!==null},l.cancelFullScreen=function(){a.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),l.exitFullScreen()},a.extend(a,l)})($),(function(a){a.EventSource=function(){this.events={}},a.EventSource.prototype={addOnceHandler:function(l,o,f,p,h){var u=this;p=p||1;var c=0,d=function(v){return c++,c===p&&u.removeHandler(l,d),o(v)};this.addHandler(l,d,f,h)},addHandler:function(l,o,f,p){var h=this.events[l];if(h||(this.events[l]=h=[]),o&&a.isFunction(o)){var u=h.length,c={handler:o,userData:f||null,priority:p||0};for(h[u]=c;u>0&&h[u-1].priority<h[u].priority;)h[u]=h[u-1],h[u-1]=c,u--}},removeHandler:function(l,o){var f=this.events[l],p=[],h;if(f&&a.isArray(f)){for(h=0;h<f.length;h++)f[h].handler!==o&&p.push(f[h]);this.events[l]=p}},numberOfHandlers:function(l){var o=this.events[l];return o?o.length:0},removeAllHandlers:function(l){if(l)this.events[l]=[];else for(var o in this.events)this.events[o]=[]},getHandler:function(l){var o=this.events[l];return!o||!o.length?null:(o=o.length===1?[o[0]]:Array.apply(null,o),function(f,p){var h,u=o.length;for(h=0;h<u;h++)o[h]&&(p.eventSource=f,p.userData=o[h].userData,o[h].handler(p))})},raiseEvent:function(l,o){var f=this.getHandler(l);if(f)return f(this,o||{})}}})($),(function(a){var l={};a.MouseTracker=function(T){var y=arguments;a.isPlainObject(T)||(T={element:y[0],clickTimeThreshold:y[1],clickDistThreshold:y[2]}),this.hash=Math.random(),this.element=a.getElement(T.element),this.clickTimeThreshold=T.clickTimeThreshold||a.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=T.clickDistThreshold||a.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=T.dblClickTimeThreshold||a.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=T.dblClickDistThreshold||a.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=T.userData||null,this.stopDelay=T.stopDelay||50,this.preProcessEventHandler=T.preProcessEventHandler||null,this.contextMenuHandler=T.contextMenuHandler||null,this.enterHandler=T.enterHandler||null,this.leaveHandler=T.leaveHandler||null,this.exitHandler=T.exitHandler||null,this.overHandler=T.overHandler||null,this.outHandler=T.outHandler||null,this.pressHandler=T.pressHandler||null,this.nonPrimaryPressHandler=T.nonPrimaryPressHandler||null,this.releaseHandler=T.releaseHandler||null,this.nonPrimaryReleaseHandler=T.nonPrimaryReleaseHandler||null,this.moveHandler=T.moveHandler||null,this.scrollHandler=T.scrollHandler||null,this.clickHandler=T.clickHandler||null,this.dblClickHandler=T.dblClickHandler||null,this.dragHandler=T.dragHandler||null,this.dragEndHandler=T.dragEndHandler||null,this.pinchHandler=T.pinchHandler||null,this.stopHandler=T.stopHandler||null,this.keyDownHandler=T.keyDownHandler||null,this.keyUpHandler=T.keyUpHandler||null,this.keyHandler=T.keyHandler||null,this.focusHandler=T.focusHandler||null,this.blurHandler=T.blurHandler||null;var x=this;l[this.hash]={click:function(b){N(x,b)},dblclick:function(b){ye(x,b)},keydown:function(b){Re(x,b)},keyup:function(b){be(x,b)},keypress:function(b){oe(x,b)},focus:function(b){xe(x,b)},blur:function(b){_e(x,b)},contextmenu:function(b){lt(x,b)},wheel:function(b){Xe(x,b)},mousewheel:function(b){Pe(x,b)},DOMMouseScroll:function(b){Pe(x,b)},MozMousePixelScroll:function(b){Pe(x,b)},losecapture:function(b){ht(x,b)},mouseenter:function(b){Q(x,b)},mouseleave:function(b){re(x,b)},mouseover:function(b){ve(x,b)},mouseout:function(b){De(x,b)},mousedown:function(b){Ae(x,b)},mouseup:function(b){Be(x,b)},mousemove:function(b){Rt(x,b)},touchstart:function(b){yt(x,b)},touchend:function(b){G(x,b)},touchmove:function(b){te(x,b)},touchcancel:function(b){de(x,b)},gesturestart:function(b){He(x,b)},gesturechange:function(b){pe(x,b)},gotpointercapture:function(b){O(x,b)},lostpointercapture:function(b){Y(x,b)},pointerenter:function(b){Q(x,b)},pointerleave:function(b){re(x,b)},pointerover:function(b){ve(x,b)},pointerout:function(b){De(x,b)},pointerdown:function(b){Ae(x,b)},pointerup:function(b){Be(x,b)},pointermove:function(b){Rt(x,b)},pointercancel:function(b){Ht(x,b)},pointerupcaptured:function(b){We(x,b)},pointermovecaptured:function(b){oi(x,b)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,a.MouseTracker.havePointerEvents&&a.setElementPointerEvents(this.element,"auto"),this.exitHandler&&a.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),T.startDisabled||this.setTracking(!0)},a.MouseTracker.prototype={destroy:function(){u(this),this.element=null,l[this.hash]=null,delete l[this.hash]},isTracking:function(){return l[this.hash].tracking},setTracking:function(T){return T?h(this):u(this),this},getActivePointersListByType:function(T){var y=l[this.hash],x,b=y.activePointersLists.length,q;for(x=0;x<b;x++)if(y.activePointersLists[x].type===T)return y.activePointersLists[x];return q=new a.MouseTracker.GesturePointList(T),y.activePointersLists.push(q),q},getActivePointerCount:function(){var T=l[this.hash],y,x=T.activePointersLists.length,b=0;for(y=0;y<x;y++)b+=T.activePointersLists[y].getLength();return b},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var o=(function(){try{return window.self!==window.top}catch{return!0}})();function f(T){try{return T.addEventListener&&T.removeEventListener}catch{return!1}}a.MouseTracker.gesturePointVelocityTracker=(function(){var T=[],y=0,x=0,b=function(ze,Te){return ze.hash.toString()+Te.type+Te.id.toString()},q=function(){var ze,Te=T.length,Dt,ft,qt=a.now(),Si,gi,Wt;for(Si=qt-x,x=qt,ze=0;ze<Te;ze++)Dt=T[ze],ft=Dt.gPoint,ft.direction=Math.atan2(ft.currentPos.y-Dt.lastPos.y,ft.currentPos.x-Dt.lastPos.x),gi=Dt.lastPos.distanceTo(ft.currentPos),Dt.lastPos=ft.currentPos,Wt=1e3*gi/(Si+1),ft.speed=.75*Wt+.25*ft.speed},J=function(ze,Te){var Dt=b(ze,Te);T.push({guid:Dt,gPoint:Te,lastPos:Te.currentPos}),T.length===1&&(x=a.now(),y=window.setInterval(q,50))},he=function(ze,Te){var Dt=b(ze,Te),ft,qt=T.length;for(ft=0;ft<qt;ft++)if(T[ft].guid===Dt){T.splice(ft,1),qt--,qt===0&&window.clearInterval(y);break}};return{addPoint:J,removePoint:he}})(),a.MouseTracker.captureElement=document,a.MouseTracker.wheelEventName=a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",a.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",a.MouseTracker.wheelEventName],a.MouseTracker.wheelEventName==="DOMMouseScroll"&&a.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(a.MouseTracker.havePointerEvents=!0,a.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),a.MouseTracker.havePointerCapture=(function(){var T=document.createElement("div");return a.isFunction(T.setPointerCapture)&&a.isFunction(T.releasePointerCapture)})(),a.MouseTracker.havePointerCapture&&a.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(a.MouseTracker.havePointerEvents=!1,a.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),a.MouseTracker.mousePointerId="legacy-mouse",a.MouseTracker.havePointerCapture=(function(){var T=document.createElement("div");return a.isFunction(T.setCapture)&&a.isFunction(T.releaseCapture)})(),a.MouseTracker.havePointerCapture&&a.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&a.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&a.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),a.MouseTracker.GesturePointList=function(T){this._gPoints=[],this.type=T,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},a.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(T){return this._gPoints.push(T)},removeById:function(T){var y,x=this._gPoints.length;for(y=0;y<x;y++)if(this._gPoints[y].id===T){this._gPoints.splice(y,1);break}return this._gPoints.length},getByIndex:function(T){return T<this._gPoints.length?this._gPoints[T]:null},getById:function(T){var y,x=this._gPoints.length;for(y=0;y<x;y++)if(this._gPoints[y].id===T)return this._gPoints[y];return null},getPrimary:function(T){var y,x=this._gPoints.length;for(y=0;y<x;y++)if(this._gPoints[y].isPrimary)return this._gPoints[y];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(a.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function p(T){var y=l[T.hash],x,b,q,J,he,ze=y.activePointersLists.length;for(x=0;x<ze;x++)if(q=y.activePointersLists[x],q.getLength()>0){for(he=[],J=q.asArray(),b=0;b<J.length;b++)he.push(J[b]);for(b=0;b<he.length;b++)ot(T,q,he[b])}for(x=0;x<ze;x++)y.activePointersLists.pop();y.sentDragEvent=!1}function h(T){var y=l[T.hash],x,b;if(!y.tracking){for(b=0;b<a.MouseTracker.subscribeEvents.length;b++)x=a.MouseTracker.subscribeEvents[b],a.addEvent(T.element,x,y[x],x===a.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);p(T),y.tracking=!0}}function u(T){var y=l[T.hash],x,b;if(y.tracking){for(b=0;b<a.MouseTracker.subscribeEvents.length;b++)x=a.MouseTracker.subscribeEvents[b],a.removeEvent(T.element,x,y[x],!1);p(T),y.tracking=!1}}function c(T,y){var x=l[T.hash];if(y==="pointerevent")return{upName:"pointerup",upHandler:x.pointerupcaptured,moveName:"pointermove",moveHandler:x.pointermovecaptured};if(y==="mouse")return{upName:"pointerup",upHandler:x.pointerupcaptured,moveName:"pointermove",moveHandler:x.pointermovecaptured};if(y==="touch")return{upName:"touchend",upHandler:x.touchendcaptured,moveName:"touchmove",moveHandler:x.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function d(T,y){var x;if(a.MouseTracker.havePointerCapture)if(a.MouseTracker.havePointerEvents)try{T.element.setPointerCapture(y.id)}catch{a.console.warn("setPointerCapture() called on invalid pointer ID");return}else T.element.setCapture(!0);else x=c(T,a.MouseTracker.havePointerEvents?"pointerevent":y.type),o&&f(window.top)&&a.addEvent(window.top,x.upName,x.upHandler,!0),a.addEvent(a.MouseTracker.captureElement,x.upName,x.upHandler,!0),a.addEvent(a.MouseTracker.captureElement,x.moveName,x.moveHandler,!0);B(T,y,!0)}function v(T,y){var x,b,q;if(a.MouseTracker.havePointerCapture)if(a.MouseTracker.havePointerEvents){if(b=T.getActivePointersListByType(y.type),q=b.getById(y.id),!q||!q.captured)return;try{T.element.releasePointerCapture(y.id)}catch{}}else T.element.releaseCapture();else x=c(T,a.MouseTracker.havePointerEvents?"pointerevent":y.type),o&&f(window.top)&&a.removeEvent(window.top,x.upName,x.upHandler,!0),a.removeEvent(a.MouseTracker.captureElement,x.moveName,x.moveHandler,!0),a.removeEvent(a.MouseTracker.captureElement,x.upName,x.upHandler,!0);B(T,y,!1)}function S(T){return a.MouseTracker.havePointerEvents?T.pointerId:a.MouseTracker.mousePointerId}function C(T){return a.MouseTracker.havePointerEvents?T.pointerType||(a.Browser.vendor===a.BROWSERS.IE?"mouse":""):"mouse"}function _(T){return a.MouseTracker.havePointerEvents?T.isPrimary:!0}function z(T){return a.getMousePosition(T)}function R(T,y){return M(z(T),y)}function M(T,y){var x=a.getElementOffset(y);return T.minus(x)}function X(T,y){return new a.Point((T.x+y.x)/2,(T.y+y.y)/2)}function N(T,y){var x={originalEvent:y,eventType:"click",pointerType:"mouse",isEmulated:!1};E(T,x),x.preventDefault&&!x.defaultPrevented&&a.cancelEvent(y),x.stopPropagation&&a.stopEvent(y)}function ye(T,y){var x={originalEvent:y,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};E(T,x),x.preventDefault&&!x.defaultPrevented&&a.cancelEvent(y),x.stopPropagation&&a.stopEvent(y)}function Re(T,y){var x=null,b={originalEvent:y,eventType:"keydown",pointerType:"",isEmulated:!1};E(T,b),T.keyDownHandler&&!b.preventGesture&&!b.defaultPrevented&&(x={eventSource:T,keyCode:y.keyCode?y.keyCode:y.charCode,ctrl:y.ctrlKey,shift:y.shiftKey,alt:y.altKey,meta:y.metaKey,originalEvent:y,preventDefault:b.preventDefault||b.defaultPrevented,userData:T.userData},T.keyDownHandler(x)),(x&&x.preventDefault||b.preventDefault&&!b.defaultPrevented)&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function be(T,y){var x=null,b={originalEvent:y,eventType:"keyup",pointerType:"",isEmulated:!1};E(T,b),T.keyUpHandler&&!b.preventGesture&&!b.defaultPrevented&&(x={eventSource:T,keyCode:y.keyCode?y.keyCode:y.charCode,ctrl:y.ctrlKey,shift:y.shiftKey,alt:y.altKey,meta:y.metaKey,originalEvent:y,preventDefault:b.preventDefault||b.defaultPrevented,userData:T.userData},T.keyUpHandler(x)),(x&&x.preventDefault||b.preventDefault&&!b.defaultPrevented)&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function oe(T,y){var x=null,b={originalEvent:y,eventType:"keypress",pointerType:"",isEmulated:!1};E(T,b),T.keyHandler&&!b.preventGesture&&!b.defaultPrevented&&(x={eventSource:T,keyCode:y.keyCode?y.keyCode:y.charCode,ctrl:y.ctrlKey,shift:y.shiftKey,alt:y.altKey,meta:y.metaKey,originalEvent:y,preventDefault:b.preventDefault||b.defaultPrevented,userData:T.userData},T.keyHandler(x)),(x&&x.preventDefault||b.preventDefault&&!b.defaultPrevented)&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function xe(T,y){var x={originalEvent:y,eventType:"focus",pointerType:"",isEmulated:!1};E(T,x),T.focusHandler&&!x.preventGesture&&T.focusHandler({eventSource:T,originalEvent:y,userData:T.userData})}function _e(T,y){var x={originalEvent:y,eventType:"blur",pointerType:"",isEmulated:!1};E(T,x),T.blurHandler&&!x.preventGesture&&T.blurHandler({eventSource:T,originalEvent:y,userData:T.userData})}function lt(T,y){var x=null,b={originalEvent:y,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};E(T,b),T.contextMenuHandler&&!b.preventGesture&&!b.defaultPrevented&&(x={eventSource:T,position:M(z(y),T.element),originalEvent:b.originalEvent,preventDefault:b.preventDefault||b.defaultPrevented,userData:T.userData},T.contextMenuHandler(x)),(x&&x.preventDefault||b.preventDefault&&!b.defaultPrevented)&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function Xe(T,y){mt(T,y,y)}function Pe(T,y){var x={target:y.target||y.srcElement,type:"wheel",shiftKey:y.shiftKey||!1,clientX:y.clientX,clientY:y.clientY,pageX:y.pageX?y.pageX:y.clientX,pageY:y.pageY?y.pageY:y.clientY,deltaMode:y.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};a.MouseTracker.wheelEventName==="mousewheel"?x.deltaY=-y.wheelDelta/a.DEFAULT_SETTINGS.pixelsPerWheelLine:x.deltaY=y.detail,mt(T,x,y)}function mt(T,y,x){var b=0,q,J=null;b=y.deltaY<0?1:-1,q={originalEvent:y,eventType:"wheel",pointerType:"mouse",isEmulated:y!==x},E(T,q),T.scrollHandler&&!q.preventGesture&&!q.defaultPrevented&&(J={eventSource:T,pointerType:"mouse",position:R(y,T.element),scroll:b,shift:y.shiftKey,isTouchEvent:!1,originalEvent:x,preventDefault:q.preventDefault||q.defaultPrevented,userData:T.userData},T.scrollHandler(J)),q.stopPropagation&&a.stopEvent(x),(J&&J.preventDefault||q.preventDefault&&!q.defaultPrevented)&&a.cancelEvent(x)}function ht(T,y){var x={id:a.MouseTracker.mousePointerId,type:"mouse"},b={originalEvent:y,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};E(T,b),y.target===T.element&&B(T,x,!1),b.stopPropagation&&a.stopEvent(y)}function yt(T,y){var x,b,q=y.changedTouches.length,J,he=T.getActivePointersListByType("touch");x=a.now(),he.getLength()>y.touches.length-q&&a.console.warn("Tracked touch contact count doesn't match event.touches.length");var ze={originalEvent:y,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(E(T,ze),b=0;b<q;b++)J={id:y.changedTouches[b].identifier,type:"touch",isPrimary:he.getLength()===0,currentPos:z(y.changedTouches[b]),currentTime:x},ee(T,ze,J),Ce(T,ze,J,0),B(T,J,!0);ze.preventDefault&&!ze.defaultPrevented&&a.cancelEvent(y),ze.stopPropagation&&a.stopEvent(y)}function G(T,y){var x,b,q=y.changedTouches.length,J;x=a.now();var he={originalEvent:y,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(E(T,he),b=0;b<q;b++)J={id:y.changedTouches[b].identifier,type:"touch",currentPos:z(y.changedTouches[b]),currentTime:x},Le(T,he,J,0),B(T,J,!1),K(T,he,J);he.preventDefault&&!he.defaultPrevented&&a.cancelEvent(y),he.stopPropagation&&a.stopEvent(y)}function te(T,y){var x,b,q=y.changedTouches.length,J;x=a.now();var he={originalEvent:y,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(E(T,he),b=0;b<q;b++)J={id:y.changedTouches[b].identifier,type:"touch",currentPos:z(y.changedTouches[b]),currentTime:x},Ke(T,he,J);he.preventDefault&&!he.defaultPrevented&&a.cancelEvent(y),he.stopPropagation&&a.stopEvent(y)}function de(T,y){var x=y.changedTouches.length,b,q,J={originalEvent:y,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(E(T,J),b=0;b<x;b++)q={id:y.changedTouches[b].identifier,type:"touch"},ge(T,J,q);J.stopPropagation&&a.stopEvent(y)}function He(T,y){return a.eventIsCanceled(y)||y.preventDefault(),!1}function pe(T,y){return a.eventIsCanceled(y)||y.preventDefault(),!1}function O(T,y){var x={originalEvent:y,eventType:"gotpointercapture",pointerType:C(y),isEmulated:!1};E(T,x),y.target===T.element&&B(T,{id:y.pointerId,type:C(y)},!0),x.stopPropagation&&a.stopEvent(y)}function Y(T,y){var x={originalEvent:y,eventType:"lostpointercapture",pointerType:C(y),isEmulated:!1};E(T,x),y.target===T.element&&B(T,{id:y.pointerId,type:C(y)},!1),x.stopPropagation&&a.stopEvent(y)}function Q(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b={originalEvent:y,eventType:"pointerenter",pointerType:x.type,isEmulated:!1};E(T,b),ee(T,b,x)}function re(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b={originalEvent:y,eventType:"pointerleave",pointerType:x.type,isEmulated:!1};E(T,b),K(T,b,x)}function ve(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b={originalEvent:y,eventType:"pointerover",pointerType:x.type,isEmulated:!1};E(T,b),me(T,b,x),b.preventDefault&&!b.defaultPrevented&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function De(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b={originalEvent:y,eventType:"pointerout",pointerType:x.type,isEmulated:!1};E(T,b),ie(T,b,x),b.preventDefault&&!b.defaultPrevented&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function Ae(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b=a.MouseTracker.havePointerEvents&&x.type==="touch"&&a.Browser.vendor!==a.BROWSERS.IE,q={originalEvent:y,eventType:"pointerdown",pointerType:x.type,isEmulated:!1};E(T,q),Ce(T,q,x,y.button),q.preventDefault&&!q.defaultPrevented&&a.cancelEvent(y),q.stopPropagation&&a.stopEvent(y),q.shouldCapture&&(b?B(T,x,!0):d(T,x))}function Be(T,y){bt(T,y)}function We(T,y){var x=T.getActivePointersListByType(C(y));x.getById(y.pointerId)&&bt(T,y),a.stopEvent(y)}function bt(T,y){var x;x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()};var b={originalEvent:y,eventType:"pointerup",pointerType:x.type,isEmulated:!1};E(T,b),Le(T,b,x,y.button),b.preventDefault&&!b.defaultPrevented&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y),b.shouldReleaseCapture&&(y.target===T.element?v(T,x):B(T,x,!1))}function Rt(T,y){Ti(T,y)}function oi(T,y){var x=T.getActivePointersListByType(C(y));x.getById(y.pointerId)&&Ti(T,y),a.stopEvent(y)}function Ti(T,y){var x={id:S(y),type:C(y),isPrimary:_(y),currentPos:z(y),currentTime:a.now()},b={originalEvent:y,eventType:"pointermove",pointerType:x.type,isEmulated:!1};E(T,b),Ke(T,b,x),b.preventDefault&&!b.defaultPrevented&&a.cancelEvent(y),b.stopPropagation&&a.stopEvent(y)}function Ht(T,y){var x={id:y.pointerId,type:C(y)},b={originalEvent:y,eventType:"pointercancel",pointerType:x.type,isEmulated:!1};E(T,b),ge(T,b,x),b.stopPropagation&&a.stopEvent(y)}function ui(T,y){return y.speed=0,y.direction=0,y.contactPos=y.currentPos,y.contactTime=y.currentTime,y.lastPos=y.currentPos,y.lastTime=y.currentTime,T.add(y)}function ot(T,y,x){var b,q=y.getById(x.id);return q?(q.captured&&(a.console.warn("stopTrackingPointer() called on captured pointer"),v(T,q)),y.removeContact(),b=y.removeById(x.id)):b=y.getLength(),b}function m(T,y){switch(y.eventType){case"pointermove":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!1,y.preventGesture=!T.hasGestureHandlers,y.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!1,y.preventGesture=!1,y.stopPropagation=!1;break;case"pointerdown":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!1,y.preventGesture=!T.hasGestureHandlers,y.stopPropagation=!1;break;case"pointerup":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!1,y.preventGesture=!T.hasGestureHandlers,y.stopPropagation=!1;break;case"wheel":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!1,y.preventGesture=!T.hasScrollHandler,y.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":y.isStoppable=!0,y.isCancelable=!1,y.preventDefault=!1,y.preventGesture=!1,y.stopPropagation=!1;break;case"click":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!!T.clickHandler,y.preventGesture=!1,y.stopPropagation=!1;break;case"dblclick":y.isStoppable=!0,y.isCancelable=!0,y.preventDefault=!!T.dblClickHandler,y.preventGesture=!1,y.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:y.isStoppable=!1,y.isCancelable=!1,y.preventDefault=!1,y.preventGesture=!1,y.stopPropagation=!1;break}}function E(T,y){y.eventSource=T,y.eventPhase=y.originalEvent&&typeof y.originalEvent.eventPhase<"u"?y.originalEvent.eventPhase:0,y.defaultPrevented=a.eventIsCanceled(y.originalEvent),y.shouldCapture=!1,y.shouldReleaseCapture=!1,y.userData=T.userData,m(T,y),T.preProcessEventHandler&&T.preProcessEventHandler(y)}function B(T,y,x){var b=T.getActivePointersListByType(y.type),q=b.getById(y.id);q?x&&!q.captured?(q.captured=!0,b.captureCount++):!x&&q.captured&&(q.captured=!1,b.captureCount--,b.captureCount<0&&(b.captureCount=0,a.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):a.console.warn("updatePointerCaptured() called on untracked pointer")}function ee(T,y,x){var b=T.getActivePointersListByType(x.type),q;q=b.getById(x.id),q?(q.insideElement=!0,q.lastPos=q.currentPos,q.lastTime=q.currentTime,q.currentPos=x.currentPos,q.currentTime=x.currentTime,x=q):(x.captured=!1,x.insideElementPressed=!1,x.insideElement=!0,ui(b,x)),T.enterHandler&&T.enterHandler({eventSource:T,pointerType:x.type,position:M(x.currentPos,T.element),buttons:b.buttons,pointers:T.getActivePointerCount(),insideElementPressed:x.insideElementPressed,buttonDownAny:b.buttons!==0,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData})}function K(T,y,x){var b=T.getActivePointersListByType(x.type),q,J;q=b.getById(x.id),q?(q.captured?(q.insideElement=!1,q.lastPos=q.currentPos,q.lastTime=q.currentTime,q.currentPos=x.currentPos,q.currentTime=x.currentTime):ot(T,b,q),x=q):(x.captured=!1,x.insideElementPressed=!1),(T.leaveHandler||T.exitHandler)&&(J={eventSource:T,pointerType:x.type,position:x.currentPos&&M(x.currentPos,T.element),buttons:b.buttons,pointers:T.getActivePointerCount(),insideElementPressed:x.insideElementPressed,buttonDownAny:b.buttons!==0,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData},T.leaveHandler&&T.leaveHandler(J),T.exitHandler&&T.exitHandler(J))}function me(T,y,x){var b,q;b=T.getActivePointersListByType(x.type),q=b.getById(x.id),q?x=q:(x.captured=!1,x.insideElementPressed=!1),T.overHandler&&T.overHandler({eventSource:T,pointerType:x.type,position:M(x.currentPos,T.element),buttons:b.buttons,pointers:T.getActivePointerCount(),insideElementPressed:x.insideElementPressed,buttonDownAny:b.buttons!==0,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData})}function ie(T,y,x){var b,q;b=T.getActivePointersListByType(x.type),q=b.getById(x.id),q?x=q:(x.captured=!1,x.insideElementPressed=!1),T.outHandler&&T.outHandler({eventSource:T,pointerType:x.type,position:x.currentPos&&M(x.currentPos,T.element),buttons:b.buttons,pointers:T.getActivePointerCount(),insideElementPressed:x.insideElementPressed,buttonDownAny:b.buttons!==0,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData})}function Ce(T,y,x,b){var q=l[T.hash],J=T.getActivePointersListByType(x.type),he;if(typeof y.originalEvent.buttons<"u"?J.buttons=y.originalEvent.buttons:b===0?J.buttons|=1:b===1?J.buttons|=4:b===2?J.buttons|=2:b===3?J.buttons|=8:b===4?J.buttons|=16:b===5&&(J.buttons|=32),b!==0){y.shouldCapture=!1,y.shouldReleaseCapture=!1,T.nonPrimaryPressHandler&&!y.preventGesture&&!y.defaultPrevented&&(y.preventDefault=!0,T.nonPrimaryPressHandler({eventSource:T,pointerType:x.type,position:M(x.currentPos,T.element),button:b,buttons:J.buttons,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData}));return}he=J.getById(x.id),he?(he.insideElementPressed=!0,he.insideElement=!0,he.originalTarget=y.originalEvent.target,he.contactPos=x.currentPos,he.contactTime=x.currentTime,he.lastPos=he.currentPos,he.lastTime=he.currentTime,he.currentPos=x.currentPos,he.currentTime=x.currentTime,x=he):(x.captured=!1,x.insideElementPressed=!0,x.insideElement=!0,x.originalTarget=y.originalEvent.target,ui(J,x)),J.addContact(),!y.preventGesture&&!y.defaultPrevented?(y.shouldCapture=!0,y.shouldReleaseCapture=!1,y.preventDefault=!0,(T.dragHandler||T.dragEndHandler||T.pinchHandler)&&a.MouseTracker.gesturePointVelocityTracker.addPoint(T,x),J.contacts===1?T.pressHandler&&!y.preventGesture&&T.pressHandler({eventSource:T,pointerType:x.type,position:M(x.contactPos,T.element),buttons:J.buttons,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData}):J.contacts===2&&T.pinchHandler&&x.type==="touch"&&(q.pinchGPoints=J.asArray(),q.lastPinchDist=q.currentPinchDist=q.pinchGPoints[0].currentPos.distanceTo(q.pinchGPoints[1].currentPos),q.lastPinchCenter=q.currentPinchCenter=X(q.pinchGPoints[0].currentPos,q.pinchGPoints[1].currentPos))):(y.shouldCapture=!1,y.shouldReleaseCapture=!1)}function Le(T,y,x,b){var q=l[T.hash],J=T.getActivePointersListByType(x.type),he,ze,Te,Dt=!1,ft;if(typeof y.originalEvent.buttons<"u"?J.buttons=y.originalEvent.buttons:b===0?J.buttons^=-2:b===1?J.buttons^=-5:b===2?J.buttons^=-3:b===3?J.buttons^=-9:b===4?J.buttons^=-17:b===5&&(J.buttons^=-33),y.shouldCapture=!1,b!==0){y.shouldReleaseCapture=!1,T.nonPrimaryReleaseHandler&&!y.preventGesture&&!y.defaultPrevented&&(y.preventDefault=!0,T.nonPrimaryReleaseHandler({eventSource:T,pointerType:x.type,position:M(x.currentPos,T.element),button:b,buttons:J.buttons,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData}));return}Te=J.getById(x.id),Te?(J.removeContact(),Te.captured&&(Dt=!0),Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=x.currentPos,Te.currentTime=x.currentTime,Te.insideElement||ot(T,J,Te),he=Te.currentPos,ze=Te.currentTime):(x.captured=!1,x.insideElementPressed=!1,x.insideElement=!0,ui(J,x),Te=x),!y.preventGesture&&!y.defaultPrevented&&(Dt?(y.shouldReleaseCapture=!0,y.preventDefault=!0,(T.dragHandler||T.dragEndHandler||T.pinchHandler)&&a.MouseTracker.gesturePointVelocityTracker.removePoint(T,Te),J.contacts===0?(T.releaseHandler&&he&&T.releaseHandler({eventSource:T,pointerType:Te.type,position:M(he,T.element),buttons:J.buttons,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElement,isTouchEvent:Te.type==="touch",originalEvent:y.originalEvent,userData:T.userData}),T.dragEndHandler&&q.sentDragEvent&&T.dragEndHandler({eventSource:T,pointerType:Te.type,position:M(Te.currentPos,T.element),speed:Te.speed,direction:Te.direction,shift:y.originalEvent.shiftKey,isTouchEvent:Te.type==="touch",originalEvent:y.originalEvent,userData:T.userData}),q.sentDragEvent=!1,(T.clickHandler||T.dblClickHandler)&&Te.insideElement&&(ft=ze-Te.contactTime<=T.clickTimeThreshold&&Te.contactPos.distanceTo(he)<=T.clickDistThreshold,T.clickHandler&&T.clickHandler({eventSource:T,pointerType:Te.type,position:M(Te.currentPos,T.element),quick:ft,shift:y.originalEvent.shiftKey,isTouchEvent:Te.type==="touch",originalEvent:y.originalEvent,originalTarget:Te.originalTarget,userData:T.userData}),T.dblClickHandler&&ft&&(J.clicks++,J.clicks===1?(q.lastClickPos=he,q.dblClickTimeOut=setTimeout(function(){J.clicks=0},T.dblClickTimeThreshold)):J.clicks===2&&(clearTimeout(q.dblClickTimeOut),J.clicks=0,q.lastClickPos.distanceTo(he)<=T.dblClickDistThreshold&&T.dblClickHandler({eventSource:T,pointerType:Te.type,position:M(Te.currentPos,T.element),shift:y.originalEvent.shiftKey,isTouchEvent:Te.type==="touch",originalEvent:y.originalEvent,userData:T.userData}),q.lastClickPos=null)))):J.contacts===2&&T.pinchHandler&&Te.type==="touch"&&(q.pinchGPoints=J.asArray(),q.lastPinchDist=q.currentPinchDist=q.pinchGPoints[0].currentPos.distanceTo(q.pinchGPoints[1].currentPos),q.lastPinchCenter=q.currentPinchCenter=X(q.pinchGPoints[0].currentPos,q.pinchGPoints[1].currentPos))):(y.shouldReleaseCapture=!1,T.releaseHandler&&he&&(T.releaseHandler({eventSource:T,pointerType:Te.type,position:M(he,T.element),buttons:J.buttons,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElement,isTouchEvent:Te.type==="touch",originalEvent:y.originalEvent,userData:T.userData}),y.preventDefault=!0)))}function Ke(T,y,x){var b=l[T.hash],q=T.getActivePointersListByType(x.type),J,he,ze;if(typeof y.originalEvent.buttons<"u"&&(q.buttons=y.originalEvent.buttons),J=q.getById(x.id),J)J.lastPos=J.currentPos,J.lastTime=J.currentTime,J.currentPos=x.currentPos,J.currentTime=x.currentTime;else return;y.shouldCapture=!1,y.shouldReleaseCapture=!1,T.stopHandler&&x.type==="mouse"&&(clearTimeout(T.stopTimeOut),T.stopTimeOut=setTimeout(function(){ke(T,y.originalEvent,x.type)},T.stopDelay)),q.contacts===0?T.moveHandler&&T.moveHandler({eventSource:T,pointerType:x.type,position:M(x.currentPos,T.element),buttons:q.buttons,isTouchEvent:x.type==="touch",originalEvent:y.originalEvent,userData:T.userData}):q.contacts===1?(T.moveHandler&&(J=q.asArray()[0],T.moveHandler({eventSource:T,pointerType:J.type,position:M(J.currentPos,T.element),buttons:q.buttons,isTouchEvent:J.type==="touch",originalEvent:y.originalEvent,userData:T.userData})),T.dragHandler&&!y.preventGesture&&!y.defaultPrevented&&(J=q.asArray()[0],ze=J.currentPos.minus(J.lastPos),T.dragHandler({eventSource:T,pointerType:J.type,position:M(J.currentPos,T.element),buttons:q.buttons,delta:ze,speed:J.speed,direction:J.direction,shift:y.originalEvent.shiftKey,isTouchEvent:J.type==="touch",originalEvent:y.originalEvent,userData:T.userData}),y.preventDefault=!0,b.sentDragEvent=!0)):q.contacts===2&&(T.moveHandler&&(he=q.asArray(),T.moveHandler({eventSource:T,pointerType:he[0].type,position:M(X(he[0].currentPos,he[1].currentPos),T.element),buttons:q.buttons,isTouchEvent:he[0].type==="touch",originalEvent:y.originalEvent,userData:T.userData})),T.pinchHandler&&x.type==="touch"&&!y.preventGesture&&!y.defaultPrevented&&(ze=b.pinchGPoints[0].currentPos.distanceTo(b.pinchGPoints[1].currentPos),ze!==b.currentPinchDist&&(b.lastPinchDist=b.currentPinchDist,b.currentPinchDist=ze,b.lastPinchCenter=b.currentPinchCenter,b.currentPinchCenter=X(b.pinchGPoints[0].currentPos,b.pinchGPoints[1].currentPos),T.pinchHandler({eventSource:T,pointerType:"touch",gesturePoints:b.pinchGPoints,lastCenter:M(b.lastPinchCenter,T.element),center:M(b.currentPinchCenter,T.element),lastDistance:b.lastPinchDist,distance:b.currentPinchDist,shift:y.originalEvent.shiftKey,originalEvent:y.originalEvent,userData:T.userData}),y.preventDefault=!0)))}function ge(T,y,x){var b=T.getActivePointersListByType(x.type),q;q=b.getById(x.id),q&&ot(T,b,q)}function ke(T,y,x){T.stopHandler&&T.stopHandler({eventSource:T,pointerType:x,position:R(y,T.element),buttons:T.getActivePointersListByType(x).buttons,isTouchEvent:x==="touch",originalEvent:y,userData:T.userData})}})($),(function(a){a.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},a.Control=function(l,o,f){var p=l.parentNode;typeof o=="number"&&(a.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),o={anchor:o}),o.attachToViewer=typeof o.attachToViewer>"u"?!0:o.attachToViewer,this.autoFade=typeof o.autoFade>"u"?!0:o.autoFade,this.element=l,this.anchor=o.anchor,this.container=f,this.anchor===a.ControlAnchor.ABSOLUTE?(this.wrapper=a.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof o.top=="number"?o.top+"px":o.top,this.wrapper.style.left=typeof o.left=="number"?o.left+"px":o.left,this.wrapper.style.height=typeof o.height=="number"?o.height+"px":o.height,this.wrapper.style.width=typeof o.width=="number"?o.width+"px":o.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=a.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===a.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),o.attachToViewer?this.anchor===a.ControlAnchor.TOP_RIGHT||this.anchor===a.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):p.appendChild(this.wrapper)},a.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==a.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(l){this.wrapper.style.display=l?this.anchor===a.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(l){this.element[a.SIGNAL]&&a.Browser.vendor===a.BROWSERS.IE?a.setElementOpacity(this.element,l,!0):a.setElementOpacity(this.wrapper,l,!0)}}})($),(function(a){a.ControlDock=function(o){var f=["topleft","topright","bottomright","bottomleft"],p,h;for(a.extend(!0,this,{id:"controldock-"+a.now()+"-"+Math.floor(Math.random()*1e6),container:a.makeNeutralElement("div"),controls:[]},o),this.container.onsubmit=function(){return!1},this.element&&(this.element=a.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),h=0;h<f.length;h++)p=f[h],this.controls[p]=a.makeNeutralElement("div"),this.controls[p].style.position="absolute",p.match("left")&&(this.controls[p].style.left="0px"),p.match("right")&&(this.controls[p].style.right="0px"),p.match("top")&&(this.controls[p].style.top="0px"),p.match("bottom")&&(this.controls[p].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},a.ControlDock.prototype={addControl:function(o,f){o=a.getElement(o);var p=null;if(!(l(this,o)>=0)){switch(f.anchor){case a.ControlAnchor.TOP_RIGHT:p=this.controls.topright,o.style.position="relative",o.style.paddingRight="0px",o.style.paddingTop="0px";break;case a.ControlAnchor.BOTTOM_RIGHT:p=this.controls.bottomright,o.style.position="relative",o.style.paddingRight="0px",o.style.paddingBottom="0px";break;case a.ControlAnchor.BOTTOM_LEFT:p=this.controls.bottomleft,o.style.position="relative",o.style.paddingLeft="0px",o.style.paddingBottom="0px";break;case a.ControlAnchor.TOP_LEFT:p=this.controls.topleft,o.style.position="relative",o.style.paddingLeft="0px",o.style.paddingTop="0px";break;case a.ControlAnchor.ABSOLUTE:p=this.container,o.style.margin="0px",o.style.padding="0px";break;default:case a.ControlAnchor.NONE:p=this.container,o.style.margin="0px",o.style.padding="0px";break}this.controls.push(new a.Control(o,f,p)),o.style.display="inline-block"}},removeControl:function(o){o=a.getElement(o);var f=l(this,o);return f>=0&&(this.controls[f].destroy(),this.controls.splice(f,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var o;for(o=this.controls.length-1;o>=0;o--)if(this.controls[o].isVisible())return!0;return!1},setControlsEnabled:function(o){var f;for(f=this.controls.length-1;f>=0;f--)this.controls[f].setVisible(o);return this}};function l(o,f){var p=o.controls,h;for(h=p.length-1;h>=0;h--)if(p[h].element===f)return h;return-1}})($),(function(a){a.Placement=a.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})})($),(function(a){var l={},o=1;a.Viewer=function(m){var E=arguments,B=this,ee;if(a.isPlainObject(m)||(m={id:E[0],xmlPath:E.length>1?E[1]:void 0,prefixUrl:E.length>2?E[2]:void 0,controls:E.length>3?E[3]:void 0,overlays:E.length>4?E[4]:void 0}),m.config&&(a.extend(!0,m,m.config),delete m.config),a.extend(!0,this,{id:m.id,hash:m.hash||o++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},a.DEFAULT_SETTINGS,m),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof l[this.hash]<"u"&&a.console.warn("Hash "+this.hash+" has already been used."),l[this.hash]={fsBoundsDelta:new a.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=a.now(),a.EventSource.call(this),this.addHandler("open-failed",function(K){var me=a.getString("Errors.OpenFailed",K.eventSource,K.message);B._showMessage(me)}),a.ControlDock.call(this,m),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=a.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(function(K){K.width="100%",K.height="100%",K.overflow="hidden",K.position="absolute",K.top="0px",K.left="0px"})(this.canvas.style),a.setElementTouchActionNone(this.canvas),m.tabIndex!==""&&(this.canvas.tabIndex=m.tabIndex===void 0?0:m.tabIndex),this.container.className="openseadragon-container",(function(K){K.width="100%",K.height="100%",K.position="relative",K.overflow="hidden",K.left="0px",K.top="0px",K.textAlign="left"})(this.container.style),a.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new a.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:a.delegate(this,R),keyDownHandler:a.delegate(this,M),keyHandler:a.delegate(this,X),clickHandler:a.delegate(this,N),dblClickHandler:a.delegate(this,ye),dragHandler:a.delegate(this,Re),dragEndHandler:a.delegate(this,be),enterHandler:a.delegate(this,oe),leaveHandler:a.delegate(this,xe),pressHandler:a.delegate(this,_e),releaseHandler:a.delegate(this,lt),nonPrimaryPressHandler:a.delegate(this,Xe),nonPrimaryReleaseHandler:a.delegate(this,Pe),scrollHandler:a.delegate(this,G),pinchHandler:a.delegate(this,mt),focusHandler:a.delegate(this,ht),blurHandler:a.delegate(this,yt)}),this.outerTracker=new a.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:a.delegate(this,te),leaveHandler:a.delegate(this,de)}),this.toolbar&&(this.toolbar=new a.ControlDock({element:this.toolbar})),this.bindStandardControls(),l[this.hash].prevContainerSize=f(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){l[B.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new a.World({viewer:this}),this.world.addHandler("add-item",function(K){B.source=B.world.getItemAt(0).source,l[B.hash].forceRedraw=!0,B._updateRequestId||(B._updateRequestId=c(B,He))}),this.world.addHandler("remove-item",function(K){B.world.getItemCount()?B.source=B.world.getItemAt(0).source:B.source=null,l[B.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(K){B.viewport&&B.viewport._setContentBounds(B.world.getHomeBounds(),B.world.getContentFactor())}),this.world.addHandler("item-index-change",function(K){B.source=B.world.getItemAt(0).source}),this.viewport=new a.Viewport({containerSize:l[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new a.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:m.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new a.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new a.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=a.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(ee=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(ee,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(ee=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(ee,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new a.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),ee=0;ee<this.customControls.length;ee++)this.addControl(this.customControls[ee].id,{anchor:this.customControls[ee].anchor});a.requestAnimationFrame(function(){v(B)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),a._viewers.set(this.element,this)},a.extend(a.Viewer.prototype,a.EventSource.prototype,a.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(m){return a.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(m)},openTileSource:function(m){return a.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(m)},get buttons(){return a.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(m,E){var B=this;if(this.close(),!m)return this;if(this.sequenceMode&&a.isArray(m))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof E<"u"&&!isNaN(E)&&(this.initialPage=E),this.tileSources=m,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(a.isArray(m)||(m=[m]),!m.length)return this;this._opening=!0;for(var ee=m.length,K=0,me=0,ie,Ce=function(){if(K+me===ee)if(K){(B._firstOpen||!B.preserveViewport)&&(B.viewport.goHome(!0),B.viewport.update()),B._firstOpen=!1;var ge=m[0];if(ge.tileSource&&(ge=ge.tileSource),B.overlays&&!B.preserveOverlays)for(var ke=0;ke<B.overlays.length;ke++)B.currentOverlays[ke]=h(B,B.overlays[ke]);B._drawOverlays(),B._opening=!1,B.raiseEvent("open",{source:ge})}else B._opening=!1,B.raiseEvent("open-failed",ie)},Le=function(ge){(!a.isPlainObject(ge)||!ge.tileSource)&&(ge={tileSource:ge}),ge.index!==void 0&&(a.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ge.index),ge.collectionImmediately===void 0&&(ge.collectionImmediately=!0);var ke=ge.success;ge.success=function(y){if(K++,ge.tileSource.overlays)for(var x=0;x<ge.tileSource.overlays.length;x++)B.addOverlay(ge.tileSource.overlays[x]);ke&&ke(y),Ce()};var T=ge.error;ge.error=function(y){me++,ie||(ie=y),T&&T(y),Ce()},B.addTiledImage(ge)},Ke=0;Ke<m.length;Ke++)Le(m[Ke]);return this},close:function(){return l[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),l[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(l[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(a.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),l[this.navigator.hash]=null,delete l[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),l[this.hash]=null,delete l[this.hash],this.canvas=null,this.container=null,a._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(m){return this.innerTracker.setTracking(m),this.outerTracker.setTracking(m),this.raiseEvent("mouse-enabled",{enabled:m}),this},areControlsEnabled:function(){var m=this.controls.length,E;for(E=0;E<this.controls.length;E++)m=m&&this.controls[E].isVisible();return m},setControlsEnabled:function(m){return m?C(this):v(this),this.raiseEvent("controls-enabled",{enabled:m}),this},setDebugMode:function(m){for(var E=0;E<this.world.getItemCount();E++)this.world.getItemAt(E).debugMode=m;this.debugMode=m,this.forceRedraw()},setAjaxHeaders:function(m,E){if(m===null&&(m={}),!a.isPlainObject(m)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(E===void 0&&(E=!0),this.ajaxHeaders=m,E){for(var B=0;B<this.world.getItemCount();B++)this.world.getItemAt(B)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var ee in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[ee].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(m){this.buttonGroup.addButton(m)},isFullPage:function(){return l[this.hash].fullPage},setFullPage:function(m){var E=document.body,B=E.style,ee=document.documentElement.style,K=this,me,ie;if(m===this.isFullPage())return this;var Ce={fullPage:m,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Ce),Ce.preventDefaultAction)return this;if(m){for(this.elementSize=a.getElementSize(this.element),this.pageScroll=a.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=B.margin,this.docMargin=ee.margin,B.margin="0",ee.margin="0",this.bodyPadding=B.padding,this.docPadding=ee.padding,B.padding="0",ee.padding="0",this.bodyWidth=B.width,this.docWidth=ee.width,B.width="100%",ee.width="100%",this.bodyHeight=B.height,this.docHeight=ee.height,B.height="100%",ee.height="100%",this.bodyDisplay=B.display,B.display="block",this.previousBody=[],l[this.hash].prevElementParent=this.element.parentNode,l[this.hash].prevNextSibling=this.element.nextSibling,l[this.hash].prevElementWidth=this.element.style.width,l[this.hash].prevElementHeight=this.element.style.height,me=E.childNodes.length,ie=0;ie<me;ie++)this.previousBody.push(E.childNodes[0]),E.removeChild(E.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,E.appendChild(this.toolbar.element),a.addClass(this.toolbar.element,"fullpage")),a.addClass(this.element,"fullpage"),E.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=a.getElementSize(this.element).y-a.getElementSize(this.toolbar.element).y+"px"),l[this.hash].fullPage=!0,a.delegate(this,te)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,B.margin=this.bodyMargin,ee.margin=this.docMargin,B.padding=this.bodyPadding,ee.padding=this.docPadding,B.width=this.bodyWidth,ee.width=this.docWidth,B.height=this.bodyHeight,ee.height=this.docHeight,B.display=this.bodyDisplay,E.removeChild(this.element),me=this.previousBody.length,ie=0;ie<me;ie++)E.appendChild(this.previousBody.shift());a.removeClass(this.element,"fullpage"),l[this.hash].prevElementParent.insertBefore(this.element,l[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(E.removeChild(this.toolbar.element),a.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=l[this.hash].prevElementWidth,this.element.style.height=l[this.hash].prevElementHeight;var Le=0,Ke=function(){a.setPageScroll(K.pageScroll);var ge=a.getPageScroll();Le++,Le<10&&(ge.x!==K.pageScroll.x||ge.y!==K.pageScroll.y)&&a.requestAnimationFrame(Ke)};a.requestAnimationFrame(Ke),l[this.hash].fullPage=!1,a.delegate(this,de)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:m}),this},setFullScreen:function(m){var E=this;if(!a.supportsFullScreen)return this.setFullPage(m);if(a.isFullScreen()===m)return this;var B={fullScreen:m,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",B),B.preventDefaultAction)return this;if(m){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var ee=function(){var K=a.isFullScreen();K||(a.removeEvent(document,a.fullScreenEventName,ee),a.removeEvent(document,a.fullScreenErrorEventName,ee),E.setFullPage(!1),E.isFullPage()&&(E.element.style.width=E.fullPageStyleWidth,E.element.style.height=E.fullPageStyleHeight)),E.navigator&&E.viewport&&setTimeout(function(){E.navigator.update(E.viewport)}),E.raiseEvent("full-screen",{fullScreen:K})};a.addEvent(document,a.fullScreenEventName,ee),a.addEvent(document,a.fullScreenErrorEventName,ee),a.requestFullScreen(document.body)}else a.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return a.isFullScreen()&&this.isFullPage()},setVisible:function(m){return this.container.style.visibility=m?"":"hidden",this.raiseEvent("visible",{visible:m}),this},addTiledImage:function(m){a.console.assert(m,"[Viewer.addTiledImage] options is required"),a.console.assert(m.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),a.console.assert(!m.replace||m.index>-1&&m.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var E=this;m.replace&&(m.replaceItem=E.world.getItemAt(m.index)),this._hideMessage(),m.placeholderFillStyle===void 0&&(m.placeholderFillStyle=this.placeholderFillStyle),m.opacity===void 0&&(m.opacity=this.opacity),m.preload===void 0&&(m.preload=this.preload),m.compositeOperation===void 0&&(m.compositeOperation=this.compositeOperation),m.crossOriginPolicy===void 0&&(m.crossOriginPolicy=m.tileSource.crossOriginPolicy!==void 0?m.tileSource.crossOriginPolicy:this.crossOriginPolicy),m.ajaxWithCredentials===void 0&&(m.ajaxWithCredentials=this.ajaxWithCredentials),m.loadTilesWithAjax===void 0&&(m.loadTilesWithAjax=this.loadTilesWithAjax),a.isPlainObject(m.ajaxHeaders)||(m.ajaxHeaders={});var B={options:m};function ee(ie){for(var Ce=0;Ce<E._loadQueue.length;Ce++)if(E._loadQueue[Ce]===B){E._loadQueue.splice(Ce,1);break}E._loadQueue.length===0&&K(B),E.raiseEvent("add-item-failed",ie),m.error&&m.error(ie)}function K(ie){E.collectionMode&&(E.world.arrange({immediately:ie.options.collectionImmediately,rows:E.collectionRows,columns:E.collectionColumns,layout:E.collectionLayout,tileSize:E.collectionTileSize,tileMargin:E.collectionTileMargin}),E.world.setAutoRefigureSizes(!0))}if(a.isArray(m.tileSource)){setTimeout(function(){ee({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:m.tileSource,options:m})});return}this._loadQueue.push(B);function me(){for(var ie,Ce,Le;E._loadQueue.length&&(ie=E._loadQueue[0],!!ie.tileSource);){if(E._loadQueue.splice(0,1),ie.options.replace){var Ke=E.world.getIndexOfItem(ie.options.replaceItem);Ke!==-1&&(ie.options.index=Ke),E.world.removeItem(ie.options.replaceItem)}Ce=new a.TiledImage({viewer:E,source:ie.tileSource,viewport:E.viewport,drawer:E.drawer,tileCache:E.tileCache,imageLoader:E.imageLoader,x:ie.options.x,y:ie.options.y,width:ie.options.width,height:ie.options.height,fitBounds:ie.options.fitBounds,fitBoundsPlacement:ie.options.fitBoundsPlacement,clip:ie.options.clip,placeholderFillStyle:ie.options.placeholderFillStyle,opacity:ie.options.opacity,preload:ie.options.preload,degrees:ie.options.degrees,flipped:ie.options.flipped,compositeOperation:ie.options.compositeOperation,springStiffness:E.springStiffness,animationTime:E.animationTime,minZoomImageRatio:E.minZoomImageRatio,wrapHorizontal:E.wrapHorizontal,wrapVertical:E.wrapVertical,immediateRender:E.immediateRender,blendTime:E.blendTime,alwaysBlend:E.alwaysBlend,minPixelRatio:E.minPixelRatio,smoothTileEdgesMinZoom:E.smoothTileEdgesMinZoom,iOSDevice:E.iOSDevice,crossOriginPolicy:ie.options.crossOriginPolicy,ajaxWithCredentials:ie.options.ajaxWithCredentials,loadTilesWithAjax:ie.options.loadTilesWithAjax,ajaxHeaders:ie.options.ajaxHeaders,debugMode:E.debugMode,subPixelRoundingForTransparency:E.subPixelRoundingForTransparency}),E.collectionMode&&E.world.setAutoRefigureSizes(!1),E.navigator&&(Le=a.extend({},ie.options,{replace:!1,originalTiledImage:Ce,tileSource:ie.tileSource}),E.navigator.addTiledImage(Le)),E.world.addItem(Ce,{index:ie.options.index}),E._loadQueue.length===0&&K(ie),E.world.getItemCount()===1&&!E.preserveViewport&&E.viewport.goHome(!0),ie.options.success&&ie.options.success({item:Ce})}}p(this,m.tileSource,m,function(ie){B.tileSource=ie,me()},function(ie){ie.options=m,ee(ie),me()})},addSimpleImage:function(m){a.console.assert(m,"[Viewer.addSimpleImage] options is required"),a.console.assert(m.url,"[Viewer.addSimpleImage] options.url is required");var E=a.extend({},m,{tileSource:{type:"image",url:m.url}});delete E.url,this.addTiledImage(E)},addLayer:function(m){var E=this;a.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var B=a.extend({},m,{success:function(ee){E.raiseEvent("add-layer",{options:m,drawer:ee.item})},error:function(ee){E.raiseEvent("add-layer-failed",ee)}});return this.addTiledImage(B),this},getLayerAtLevel:function(m){return a.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(m)},getLevelOfLayer:function(m){return a.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(m)},getLayersCount:function(){return a.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(m,E){return a.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(m,E)},removeLayer:function(m){return a.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(m)},forceRedraw:function(){return l[this.hash].forceRedraw=!0,this},forceResize:function(){l[this.hash].needsResize=!0,l[this.hash].forceResize=!0},bindSequenceControls:function(){var m=a.delegate(this,_),E=a.delegate(this,z),B=a.delegate(this,this.goToNextPage),ee=a.delegate(this,this.goToPreviousPage),K=this.navImages,me=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(me=!1),this.previousButton=new a.Button({element:this.previousButton?a.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.PreviousPage"),srcRest:Q(this.prefixUrl,K.previous.REST),srcGroup:Q(this.prefixUrl,K.previous.GROUP),srcHover:Q(this.prefixUrl,K.previous.HOVER),srcDown:Q(this.prefixUrl,K.previous.DOWN),onRelease:ee,onFocus:m,onBlur:E}),this.nextButton=new a.Button({element:this.nextButton?a.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.NextPage"),srcRest:Q(this.prefixUrl,K.next.REST),srcGroup:Q(this.prefixUrl,K.next.GROUP),srcHover:Q(this.prefixUrl,K.next.HOVER),srcDown:Q(this.prefixUrl,K.next.DOWN),onRelease:B,onFocus:m,onBlur:E}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),me&&(this.paging=new a.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:a.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||a.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var m=a.delegate(this,re),E=a.delegate(this,De),B=a.delegate(this,We),ee=a.delegate(this,ve),K=a.delegate(this,bt),me=a.delegate(this,oi),ie=a.delegate(this,Ti),Ce=a.delegate(this,Ht),Le=a.delegate(this,ui),Ke=a.delegate(this,ot),ge=a.delegate(this,_),ke=a.delegate(this,z),T=this.navImages,y=[],x=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(x=!1),this.showZoomControl&&(y.push(this.zoomInButton=new a.Button({element:this.zoomInButton?a.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.ZoomIn"),srcRest:Q(this.prefixUrl,T.zoomIn.REST),srcGroup:Q(this.prefixUrl,T.zoomIn.GROUP),srcHover:Q(this.prefixUrl,T.zoomIn.HOVER),srcDown:Q(this.prefixUrl,T.zoomIn.DOWN),onPress:m,onRelease:E,onClick:B,onEnter:m,onExit:E,onFocus:ge,onBlur:ke})),y.push(this.zoomOutButton=new a.Button({element:this.zoomOutButton?a.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.ZoomOut"),srcRest:Q(this.prefixUrl,T.zoomOut.REST),srcGroup:Q(this.prefixUrl,T.zoomOut.GROUP),srcHover:Q(this.prefixUrl,T.zoomOut.HOVER),srcDown:Q(this.prefixUrl,T.zoomOut.DOWN),onPress:ee,onRelease:E,onClick:K,onEnter:ee,onExit:E,onFocus:ge,onBlur:ke}))),this.showHomeControl&&y.push(this.homeButton=new a.Button({element:this.homeButton?a.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.Home"),srcRest:Q(this.prefixUrl,T.home.REST),srcGroup:Q(this.prefixUrl,T.home.GROUP),srcHover:Q(this.prefixUrl,T.home.HOVER),srcDown:Q(this.prefixUrl,T.home.DOWN),onRelease:me,onFocus:ge,onBlur:ke})),this.showFullPageControl&&y.push(this.fullPageButton=new a.Button({element:this.fullPageButton?a.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.FullPage"),srcRest:Q(this.prefixUrl,T.fullpage.REST),srcGroup:Q(this.prefixUrl,T.fullpage.GROUP),srcHover:Q(this.prefixUrl,T.fullpage.HOVER),srcDown:Q(this.prefixUrl,T.fullpage.DOWN),onRelease:ie,onFocus:ge,onBlur:ke})),this.showRotationControl&&(y.push(this.rotateLeftButton=new a.Button({element:this.rotateLeftButton?a.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.RotateLeft"),srcRest:Q(this.prefixUrl,T.rotateleft.REST),srcGroup:Q(this.prefixUrl,T.rotateleft.GROUP),srcHover:Q(this.prefixUrl,T.rotateleft.HOVER),srcDown:Q(this.prefixUrl,T.rotateleft.DOWN),onRelease:Ce,onFocus:ge,onBlur:ke})),y.push(this.rotateRightButton=new a.Button({element:this.rotateRightButton?a.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.RotateRight"),srcRest:Q(this.prefixUrl,T.rotateright.REST),srcGroup:Q(this.prefixUrl,T.rotateright.GROUP),srcHover:Q(this.prefixUrl,T.rotateright.HOVER),srcDown:Q(this.prefixUrl,T.rotateright.DOWN),onRelease:Le,onFocus:ge,onBlur:ke}))),this.showFlipControl&&y.push(this.flipButton=new a.Button({element:this.flipButton?a.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.Flip"),srcRest:Q(this.prefixUrl,T.flip.REST),srcGroup:Q(this.prefixUrl,T.flip.GROUP),srcHover:Q(this.prefixUrl,T.flip.HOVER),srcDown:Q(this.prefixUrl,T.flip.DOWN),onRelease:Ke,onFocus:ge,onBlur:ke})),x?(this.buttonGroup=new a.ButtonGroup({buttons:y,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",a.delegate(this,Rt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||a.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||a.ControlAnchor.TOP_LEFT})):this.customButtons=y),this},currentPage:function(){return this._sequenceIndex},goToPage:function(m){return this.tileSources&&m>=0&&m<this.tileSources.length&&(this._sequenceIndex=m,this._updateSequenceButtons(m),this.open(this.tileSources[m]),this.referenceStrip&&this.referenceStrip.setFocus(m),this.raiseEvent("page",{page:m})),this},addOverlay:function(m,E,B,ee){var K;if(a.isPlainObject(m)?K=m:K={element:m,location:E,placement:B,onDraw:ee},m=a.getElement(K.element),u(this.currentOverlays,m)>=0)return this;var me=h(this,K);return this.currentOverlays.push(me),me.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:m,location:K.location,placement:K.placement}),this},updateOverlay:function(m,E,B){var ee;return m=a.getElement(m),ee=u(this.currentOverlays,m),ee>=0&&(this.currentOverlays[ee].update(E,B),l[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:m,location:E,placement:B})),this},removeOverlay:function(m){var E;return m=a.getElement(m),E=u(this.currentOverlays,m),E>=0&&(this.currentOverlays[E].destroy(),this.currentOverlays.splice(E,1),l[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:m})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return l[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(m){var E;return m=a.getElement(m),E=u(this.currentOverlays,m),E>=0?this.currentOverlays[E]:null},_updateSequenceButtons:function(m){this.nextButton&&(!this.tileSources||this.tileSources.length-1===m?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(m>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(m){this._hideMessage();var E=a.makeNeutralElement("div");E.appendChild(document.createTextNode(m)),this.messageDiv=a.makeCenteredNode(E),a.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var m=this.messageDiv;m&&(m.parentNode.removeChild(m),delete this.messageDiv)},gestureSettingsByDeviceType:function(m){switch(m){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var m,E=this.currentOverlays.length;for(m=0;m<E;m++)this.currentOverlays[m].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new a.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else a.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),a.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){a.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var m=a.pixelDensityRatio,E=a.getCurrentPixelDensityRatio();m!==E&&(a.pixelDensityRatio=E,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var m=this._sequenceIndex-1;this.navPrevNextWrap&&m<0&&(m+=this.tileSources.length),this.goToPage(m)},goToNextPage:function(){var m=this._sequenceIndex+1;this.navPrevNextWrap&&m>=this.tileSources.length&&(m=0),this.goToPage(m)},isAnimating:function(){return l[this.hash].animating}});function f(m){return m=a.getElement(m),new a.Point(m.clientWidth===0?1:m.clientWidth,m.clientHeight===0?1:m.clientHeight)}function p(m,E,B,ee,K){var me=m;if(a.type(E)==="string"){if(E.match(/^\s*<.*>\s*$/))E=a.parseXml(E);else if(E.match(/^\s*[{[].*[}\]]\s*$/))try{var ie=a.parseJSON(E);E=ie}catch{}}function Ce(Le,Ke){Le.ready?ee(Le):(Le.addHandler("ready",function(){ee(Le)}),Le.addHandler("open-failed",function(ge){K({message:ge.message,source:Ke})}))}setTimeout(function(){if(a.type(E)==="string")E=new a.TileSource({url:E,crossOriginPolicy:B.crossOriginPolicy!==void 0?B.crossOriginPolicy:m.crossOriginPolicy,ajaxWithCredentials:m.ajaxWithCredentials,ajaxHeaders:B.ajaxHeaders?B.ajaxHeaders:m.ajaxHeaders,splitHashDataForPost:m.splitHashDataForPost,useCanvas:m.useCanvas,success:function(ke){ee(ke.tileSource)}}),E.addHandler("open-failed",function(ke){K(ke)});else if(a.isPlainObject(E)||E.nodeType)if(E.crossOriginPolicy===void 0&&(B.crossOriginPolicy!==void 0||m.crossOriginPolicy!==void 0)&&(E.crossOriginPolicy=B.crossOriginPolicy!==void 0?B.crossOriginPolicy:m.crossOriginPolicy),E.ajaxWithCredentials===void 0&&(E.ajaxWithCredentials=m.ajaxWithCredentials),E.useCanvas===void 0&&(E.useCanvas=m.useCanvas),a.isFunction(E.getTileUrl)){var Le=new a.TileSource(E);Le.getTileUrl=E.getTileUrl,ee(Le)}else{var Ke=a.TileSource.determineType(me,E);if(!Ke){K({message:"Unable to load TileSource",source:E});return}var ge=Ke.prototype.configure.apply(me,[E]);Ce(new Ke(ge),E)}else Ce(E,E)})}function h(m,E){if(E instanceof a.Overlay)return E;var B=null;if(E.element)B=a.getElement(E.element);else{var ee=E.id?E.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);B=a.getElement(E.id),B||(B=document.createElement("a"),B.href="#/overlay/"+ee),B.id=ee,a.addClass(B,E.className?E.className:"openseadragon-overlay")}var K=E.location,me=E.width,ie=E.height;if(!K){var Ce=E.x,Le=E.y;if(E.px!==void 0){var Ke=m.viewport.imageToViewportRectangle(new a.Rect(E.px,E.py,me||0,ie||0));Ce=Ke.x,Le=Ke.y,me=me!==void 0?Ke.width:void 0,ie=ie!==void 0?Ke.height:void 0}K=new a.Point(Ce,Le)}var ge=E.placement;return ge&&a.type(ge)==="string"&&(ge=a.Placement[E.placement.toUpperCase()]),new a.Overlay({element:B,location:K,placement:ge,onDraw:E.onDraw,checkResize:E.checkResize,width:me,height:ie,rotationMode:E.rotationMode})}function u(m,E){var B;for(B=m.length-1;B>=0;B--)if(m[B].element===E)return B;return-1}function c(m,E){return a.requestAnimationFrame(function(){E(m)})}function d(m){a.requestAnimationFrame(function(){S(m)})}function v(m){m.autoHideControls&&(m.controlsShouldFade=!0,m.controlsFadeBeginTime=a.now()+m.controlsFadeDelay,window.setTimeout(function(){d(m)},m.controlsFadeDelay))}function S(m){var E,B,ee,K;if(m.controlsShouldFade){for(E=a.now(),B=E-m.controlsFadeBeginTime,ee=1-B/m.controlsFadeLength,ee=Math.min(1,ee),ee=Math.max(0,ee),K=m.controls.length-1;K>=0;K--)m.controls[K].autoFade&&m.controls[K].setOpacity(ee);ee>0&&d(m)}}function C(m){var E;for(m.controlsShouldFade=!1,E=m.controls.length-1;E>=0;E--)m.controls[E].setOpacity(1)}function _(){C(this)}function z(){v(this)}function R(m){var E={tracker:m.eventSource,position:m.position,originalEvent:m.originalEvent,preventDefault:m.preventDefault};this.raiseEvent("canvas-contextmenu",E),m.preventDefault=E.preventDefault}function M(m){var E={originalEvent:m.originalEvent,preventDefaultAction:!1,preventVerticalPan:m.preventVerticalPan||!this.panVertical,preventHorizontalPan:m.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",E),!E.preventDefaultAction&&!m.ctrl&&!m.alt&&!m.meta)switch(m.keyCode){case 38:E.preventVerticalPan||(m.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 40:E.preventVerticalPan||(m.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 37:E.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 39:E.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),m.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),m.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),m.preventDefault=!0;break;case 87:E.preventVerticalPan||(m.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,-40))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 83:E.preventVerticalPan||(m.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,40))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 65:E.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(-40,0))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 68:E.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(40,0))),this.viewport.applyConstraints()),m.preventDefault=!0;break;case 82:m.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),m.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),m.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:m.preventDefault=!1;break}else m.preventDefault=!1}function X(m){var E={originalEvent:m.originalEvent};this.raiseEvent("canvas-key-press",E)}function N(m){var E,B=document.activeElement===this.canvas;B||this.canvas.focus(),this.viewport.flipped&&(m.position.x=this.viewport.getContainerSize().x-m.position.x);var ee={tracker:m.eventSource,position:m.position,quick:m.quick,shift:m.shift,originalEvent:m.originalEvent,originalTarget:m.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",ee),!ee.preventDefaultAction&&this.viewport&&m.quick&&(E=this.gestureSettingsByDeviceType(m.pointerType),E.clickToZoom===!0&&(this.viewport.zoomBy(m.shift?1/this.zoomPerClick:this.zoomPerClick,E.zoomToRefPoint?this.viewport.pointFromPixel(m.position,!0):null),this.viewport.applyConstraints()),E.dblClickDragToZoom&&(l[this.hash].draggingToZoom===!0?(l[this.hash].lastClickTime=null,l[this.hash].draggingToZoom=!1):l[this.hash].lastClickTime=a.now()))}function ye(m){var E,B={tracker:m.eventSource,position:m.position,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",B),!B.preventDefaultAction&&this.viewport&&(E=this.gestureSettingsByDeviceType(m.pointerType),E.dblClickToZoom&&(this.viewport.zoomBy(m.shift?1/this.zoomPerClick:this.zoomPerClick,E.zoomToRefPoint?this.viewport.pointFromPixel(m.position,!0):null),this.viewport.applyConstraints()))}function Re(m){var E,B={tracker:m.eventSource,pointerType:m.pointerType,position:m.position,delta:m.delta,speed:m.speed,direction:m.direction,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",B),E=this.gestureSettingsByDeviceType(m.pointerType),!B.preventDefaultAction&&this.viewport){if(E.dblClickDragToZoom&&l[this.hash].draggingToZoom){var ee=Math.pow(this.zoomPerDblClickDrag,m.delta.y/50);this.viewport.zoomBy(ee)}else if(E.dragToPan&&!l[this.hash].draggingToZoom){if(this.panHorizontal||(m.delta.x=0),this.panVertical||(m.delta.y=0),this.viewport.flipped&&(m.delta.x=-m.delta.x),this.constrainDuringPan){var K=this.viewport.deltaPointsFromPixels(m.delta.negate());this.viewport.centerSpringX.target.value+=K.x,this.viewport.centerSpringY.target.value+=K.y;var me=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=K.x,this.viewport.centerSpringY.target.value-=K.y,me.xConstrained&&(m.delta.x=0),me.yConstrained&&(m.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(m.delta.negate()),E.flickEnabled&&!this.constrainDuringPan)}}}function be(m){var E,B={tracker:m.eventSource,pointerType:m.pointerType,position:m.position,speed:m.speed,direction:m.direction,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",B),E=this.gestureSettingsByDeviceType(m.pointerType),!B.preventDefaultAction&&this.viewport){if(!l[this.hash].draggingToZoom&&E.flickEnabled&&m.speed>=E.flickMinSpeed){var ee=0;this.panHorizontal&&(ee=E.flickMomentum*m.speed*Math.cos(m.direction));var K=0;this.panVertical&&(K=E.flickMomentum*m.speed*Math.sin(m.direction));var me=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ie=this.viewport.pointFromPixel(new a.Point(me.x-ee,me.y-K));this.viewport.panTo(ie,!1)}this.viewport.applyConstraints()}E.dblClickDragToZoom&&l[this.hash].draggingToZoom===!0&&(l[this.hash].draggingToZoom=!1)}function oe(m){this.raiseEvent("canvas-enter",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,buttons:m.buttons,pointers:m.pointers,insideElementPressed:m.insideElementPressed,buttonDownAny:m.buttonDownAny,originalEvent:m.originalEvent})}function xe(m){this.raiseEvent("canvas-exit",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,buttons:m.buttons,pointers:m.pointers,insideElementPressed:m.insideElementPressed,buttonDownAny:m.buttonDownAny,originalEvent:m.originalEvent})}function _e(m){var E;if(this.raiseEvent("canvas-press",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,insideElementPressed:m.insideElementPressed,insideElementReleased:m.insideElementReleased,originalEvent:m.originalEvent}),E=this.gestureSettingsByDeviceType(m.pointerType),E.dblClickDragToZoom){var B=l[this.hash].lastClickTime,ee=a.now();if(B===null)return;ee-B<this.dblClickTimeThreshold&&(l[this.hash].draggingToZoom=!0),l[this.hash].lastClickTime=null}}function lt(m){this.raiseEvent("canvas-release",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,insideElementPressed:m.insideElementPressed,insideElementReleased:m.insideElementReleased,originalEvent:m.originalEvent})}function Xe(m){this.raiseEvent("canvas-nonprimary-press",{tracker:m.eventSource,position:m.position,pointerType:m.pointerType,button:m.button,buttons:m.buttons,originalEvent:m.originalEvent})}function Pe(m){this.raiseEvent("canvas-nonprimary-release",{tracker:m.eventSource,position:m.position,pointerType:m.pointerType,button:m.button,buttons:m.buttons,originalEvent:m.originalEvent})}function mt(m){var E,B,ee,K,me={tracker:m.eventSource,pointerType:m.pointerType,gesturePoints:m.gesturePoints,lastCenter:m.lastCenter,center:m.center,lastDistance:m.lastDistance,distance:m.distance,shift:m.shift,originalEvent:m.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",me),this.viewport&&(E=this.gestureSettingsByDeviceType(m.pointerType),E.pinchToZoom&&(!me.preventDefaultPanAction||!me.preventDefaultZoomAction)&&(B=this.viewport.pointFromPixel(m.center,!0),E.zoomToRefPoint&&!me.preventDefaultPanAction&&(ee=this.viewport.pointFromPixel(m.lastCenter,!0),K=ee.minus(B),this.panHorizontal||(K.x=0),this.panVertical||(K.y=0),this.viewport.panBy(K,!0)),me.preventDefaultZoomAction||this.viewport.zoomBy(m.distance/m.lastDistance,B,!0),this.viewport.applyConstraints()),E.pinchRotate&&!me.preventDefaultRotateAction)){var ie=Math.atan2(m.gesturePoints[0].currentPos.y-m.gesturePoints[1].currentPos.y,m.gesturePoints[0].currentPos.x-m.gesturePoints[1].currentPos.x),Ce=Math.atan2(m.gesturePoints[0].lastPos.y-m.gesturePoints[1].lastPos.y,m.gesturePoints[0].lastPos.x-m.gesturePoints[1].lastPos.x);B=this.viewport.pointFromPixel(m.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(ie-Ce)*(180/Math.PI),B,!0)}}function ht(m){this.raiseEvent("canvas-focus",{tracker:m.eventSource,originalEvent:m.originalEvent})}function yt(m){this.raiseEvent("canvas-blur",{tracker:m.eventSource,originalEvent:m.originalEvent})}function G(m){var E,B,ee,K,me;K=a.now(),me=K-this._lastScrollTime,me>this.minScrollDeltaTime?(this._lastScrollTime=K,E={tracker:m.eventSource,position:m.position,scroll:m.scroll,shift:m.shift,originalEvent:m.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",E),!E.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(m.position.x=this.viewport.getContainerSize().x-m.position.x),B=this.gestureSettingsByDeviceType(m.pointerType),B.scrollToZoom&&(ee=Math.pow(this.zoomPerScroll,m.scroll),this.viewport.zoomBy(ee,B.zoomToRefPoint?this.viewport.pointFromPixel(m.position,!0):null),this.viewport.applyConstraints())),m.preventDefault=E.preventDefault):m.preventDefault=!0}function te(m){l[this.hash].mouseInside=!0,C(this),this.raiseEvent("container-enter",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,buttons:m.buttons,pointers:m.pointers,insideElementPressed:m.insideElementPressed,buttonDownAny:m.buttonDownAny,originalEvent:m.originalEvent})}function de(m){m.pointers<1&&(l[this.hash].mouseInside=!1,l[this.hash].animating||v(this)),this.raiseEvent("container-exit",{tracker:m.eventSource,pointerType:m.pointerType,position:m.position,buttons:m.buttons,pointers:m.pointers,insideElementPressed:m.insideElementPressed,buttonDownAny:m.buttonDownAny,originalEvent:m.originalEvent})}function He(m){O(m),m.isOpen()?m._updateRequestId=c(m,He):m._updateRequestId=!1}function pe(m,E){var B=m.viewport,ee=B.getZoom(),K=B.getCenter();B.resize(E,m.preserveImageSizeOnResize),B.panTo(K,!0);var me;if(m.preserveImageSizeOnResize)me=l[m.hash].prevContainerSize.x/E.x;else{var ie=new a.Point(0,0),Ce=new a.Point(l[m.hash].prevContainerSize.x,l[m.hash].prevContainerSize.y).distanceTo(ie),Le=new a.Point(E.x,E.y).distanceTo(ie);me=Le/Ce*l[m.hash].prevContainerSize.x/E.x}B.zoomTo(ee*me,null,!0),l[m.hash].prevContainerSize=E,l[m.hash].forceRedraw=!0,l[m.hash].needsResize=!1,l[m.hash].forceResize=!1}function O(m){if(!(m._opening||!l[m.hash])){if(m.autoResize||l[m.hash].forceResize){var E;if(m._autoResizePolling){E=f(m.container);var B=l[m.hash].prevContainerSize;E.equals(B)||(l[m.hash].needsResize=!0)}l[m.hash].needsResize&&pe(m,E||f(m.container))}var ee=m.viewport.update(),K=m.world.update()||ee;ee&&m.raiseEvent("viewport-change"),m.referenceStrip&&(K=m.referenceStrip.update(m.viewport)||K);var me=l[m.hash].animating;!me&&K&&(m.raiseEvent("animation-start"),C(m));var ie=me&&!K;ie&&(l[m.hash].animating=!1),(K||ie||l[m.hash].forceRedraw||m.world.needsDraw())&&(Y(m),m._drawOverlays(),m.navigator&&m.navigator.update(m.viewport),l[m.hash].forceRedraw=!1,K&&m.raiseEvent("animation")),ie&&(m.raiseEvent("animation-finish"),l[m.hash].mouseInside||v(m)),l[m.hash].animating=K}}function Y(m){m.imageLoader.clear(),m.drawer.clear(),m.world.draw(),m.raiseEvent("update-viewport",{})}function Q(m,E){return m?m+E:E}function re(){l[this.hash].lastZoomTime=a.now(),l[this.hash].zoomFactor=this.zoomPerSecond,l[this.hash].zooming=!0,Ae(this)}function ve(){l[this.hash].lastZoomTime=a.now(),l[this.hash].zoomFactor=1/this.zoomPerSecond,l[this.hash].zooming=!0,Ae(this)}function De(){l[this.hash].zooming=!1}function Ae(m){a.requestAnimationFrame(a.delegate(m,Be))}function Be(){var m,E,B;l[this.hash].zooming&&this.viewport&&(m=a.now(),E=m-l[this.hash].lastZoomTime,B=Math.pow(l[this.hash].zoomFactor,E/1e3),this.viewport.zoomBy(B),this.viewport.applyConstraints(),l[this.hash].lastZoomTime=m,Ae(this))}function We(){this.viewport&&(l[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function bt(){this.viewport&&(l[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Rt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function oi(){this.viewport&&this.viewport.goHome()}function Ti(){this.isFullPage()&&!a.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Ht(){if(this.viewport){var m=this.viewport.getRotation();this.viewport.flipped?m+=this.rotationIncrement:m-=this.rotationIncrement,this.viewport.setRotation(m)}}function ui(){if(this.viewport){var m=this.viewport.getRotation();this.viewport.flipped?m-=this.rotationIncrement:m+=this.rotationIncrement,this.viewport.setRotation(m)}}function ot(){this.viewport.toggleFlip()}})($),(function(a){a.Navigator=function(c){var d=c.viewer,v=this,S,C;c.element||c.id?(c.element?(c.id&&a.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),c.element.id?c.id=c.element.id:c.id="navigator-"+a.now(),this.element=c.element):this.element=document.getElementById(c.id),c.controlOptions={anchor:a.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(c.id="navigator-"+a.now(),this.element=a.makeNeutralElement("div"),c.controlOptions={anchor:a.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:c.autoFade},c.position&&(c.position==="BOTTOM_RIGHT"?c.controlOptions.anchor=a.ControlAnchor.BOTTOM_RIGHT:c.position==="BOTTOM_LEFT"?c.controlOptions.anchor=a.ControlAnchor.BOTTOM_LEFT:c.position==="TOP_RIGHT"?c.controlOptions.anchor=a.ControlAnchor.TOP_RIGHT:c.position==="TOP_LEFT"?c.controlOptions.anchor=a.ControlAnchor.TOP_LEFT:c.position==="ABSOLUTE"&&(c.controlOptions.anchor=a.ControlAnchor.ABSOLUTE,c.controlOptions.top=c.top,c.controlOptions.left=c.left,c.controlOptions.height=c.height,c.controlOptions.width=c.width))),this.element.id=c.id,this.element.className+=" navigator",c=a.extend(!0,{sizeRatio:a.DEFAULT_SETTINGS.navigatorSizeRatio},c,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:c.animationTime,autoResize:!1,minZoomImageRatio:1,background:c.background,opacity:c.opacity,borderColor:c.borderColor,displayRegionColor:c.displayRegionColor}),c.minPixelRatio=this.minPixelRatio=d.minPixelRatio,a.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new a.Point(1,1),this.totalBorderWidths=new a.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),c.controlOptions.anchor!==a.ControlAnchor.NONE&&(function(R,M){R.margin="0px",R.border=M+"px solid "+c.borderColor,R.padding="0px",R.background=c.background,R.opacity=c.opacity,R.overflow="hidden"})(this.element.style,this.borderWidth),this.displayRegion=a.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",(function(R,M){R.position="relative",R.top="0px",R.left="0px",R.fontSize="0px",R.overflow="hidden",R.border=M+"px solid "+c.displayRegionColor,R.margin="0px",R.padding="0px",R.background="transparent",R.float="left",R.cssFloat="left",R.styleFloat="left",R.zIndex=999999999,R.cursor="default",R.boxSizing="content-box"})(this.displayRegion.style,this.borderWidth),a.setElementPointerEventsNone(this.displayRegion),a.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=a.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",a.setElementPointerEventsNone(this.displayRegionContainer),a.setElementTouchActionNone(this.displayRegionContainer),d.addControl(this.element,c.controlOptions),this._resizeWithViewer=c.controlOptions.anchor!==a.ControlAnchor.ABSOLUTE&&c.controlOptions.anchor!==a.ControlAnchor.NONE,c.width&&c.height?(this.setWidth(c.width),this.setHeight(c.height)):this._resizeWithViewer&&(S=a.getElementSize(d.element),this.element.style.height=Math.round(S.y*c.sizeRatio)+"px",this.element.style.width=Math.round(S.x*c.sizeRatio)+"px",this.oldViewerSize=S,C=a.getElementSize(this.element),this.elementArea=C.x*C.y),this.oldContainerSize=new a.Point(0,0),a.Viewer.apply(this,[c]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function _(R,M){h(v.displayRegionContainer,R),h(v.displayRegion,-R),v.viewport.setRotation(R,M)}if(c.navigatorRotate){var z=c.viewer.viewport?c.viewer.viewport.getRotation():c.viewer.degrees||0;_(z,!0),c.viewer.addHandler("rotate",function(R){_(R.degrees,R.immediately)})}this.innerTracker.destroy(),this.innerTracker=new a.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:a.delegate(this,o),clickHandler:a.delegate(this,l),releaseHandler:a.delegate(this,f),scrollHandler:a.delegate(this,p),preProcessEventHandler:function(R){R.eventType==="wheel"&&(R.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",a.setElementPointerEventsNone(this.canvas),a.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){v.viewport&&v.viewport.goHome(!0)}),d.world.addHandler("item-index-change",function(R){window.setTimeout(function(){var M=v.world.getItemAt(R.previousIndex);v.world.setItemIndex(M,R.newIndex)},1)}),d.world.addHandler("remove-item",function(R){var M=R.item,X=v._getMatchingItem(M);X&&v.world.removeItem(X)}),this.update(d.viewport)},a.extend(a.Navigator.prototype,a.EventSource.prototype,a.Viewer.prototype,{updateSize:function(){if(this.viewport){var c=new a.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);c.equals(this.oldContainerSize)||(this.viewport.resize(c,!0),this.viewport.goHome(!0),this.oldContainerSize=c,this.drawer.clear(),this.world.draw())}},setWidth:function(c){this.width=c,this.element.style.width=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(c){this.height=c,this.element.style.height=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(c){return this.viewport.setFlip(c),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(c){u(this.displayRegion,c),u(this.canvas,c),u(this.element,c)},update:function(c){var d,v,S,C,_,z;if(d=a.getElementSize(this.viewer.element),this._resizeWithViewer&&d.x&&d.y&&!d.equals(this.oldViewerSize)&&(this.oldViewerSize=d,this.maintainSizeRatio||!this.elementArea?(v=d.x*this.sizeRatio,S=d.y*this.sizeRatio):(v=Math.sqrt(this.elementArea*(d.x/d.y)),S=this.elementArea/v),this.element.style.width=Math.round(v)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=v*S),this.updateSize()),c&&this.viewport){if(C=c.getBoundsNoRotate(!0),_=this.viewport.pixelFromPointNoRotate(C.getTopLeft(),!1),z=this.viewport.pixelFromPointNoRotate(C.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var R=c.getRotation(!0);h(this.displayRegion,-R)}var M=this.displayRegion.style;M.display=this.world.getItemCount()?"block":"none",M.top=_.y.toFixed(2)+"px",M.left=_.x.toFixed(2)+"px";var X=z.x-_.x,N=z.y-_.y;M.width=Math.round(Math.max(X,0))+"px",M.height=Math.round(Math.max(N,0))+"px"}},addTiledImage:function(c){var d=this,v=c.originalTiledImage;delete c.original;var S=a.extend({},c,{success:function(C){var _=C.item;_._originalForNavigator=v,d._matchBounds(_,v,!0),d._matchOpacity(_,v),d._matchCompositeOperation(_,v);function z(){d._matchBounds(_,v)}function R(){d._matchOpacity(_,v)}function M(){d._matchCompositeOperation(_,v)}v.addHandler("bounds-change",z),v.addHandler("clip-change",z),v.addHandler("opacity-change",R),v.addHandler("composite-operation-change",M)}});return a.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return a.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(c){for(var d=this.world.getItemCount(),v,S=0;S<d;S++)if(v=this.world.getItemAt(S),v._originalForNavigator===c)return v;return null},_matchBounds:function(c,d,v){var S=d.getBoundsNoRotate();c.setPosition(S.getTopLeft(),v),c.setWidth(S.width,v),c.setRotation(d.getRotation(),v),c.setClip(d.getClip()),c.setFlip(d.getFlip())},_matchOpacity:function(c,d){c.setOpacity(d.opacity)},_matchCompositeOperation:function(c,d){c.setCompositeOperation(d.compositeOperation)}});function l(c){var d={tracker:c.eventSource,position:c.position,quick:c.quick,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",d),!d.preventDefaultAction&&c.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(c.position.x=this.viewport.getContainerSize().x-c.position.x);var v=this.viewport.pointFromPixel(c.position);this.panVertical?this.panHorizontal||(v.x=this.viewer.viewport.getCenter(!0).x):v.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(v),this.viewer.viewport.applyConstraints()}}function o(c){var d={tracker:c.eventSource,position:c.position,delta:c.delta,speed:c.speed,direction:c.direction,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",d),!d.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(c.delta.x=0),this.panVertical||(c.delta.y=0),this.viewer.viewport.flipped&&(c.delta.x=-c.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(c.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function f(c){c.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function p(c){var d={tracker:c.eventSource,position:c.position,scroll:c.scroll,shift:c.shift,originalEvent:c.originalEvent,preventDefault:c.preventDefault};this.viewer.raiseEvent("navigator-scroll",d),c.preventDefault=d.preventDefault}function h(c,d){u(c,"rotate("+d+"deg)")}function u(c,d){c.style.webkitTransform=d,c.style.mozTransform=d,c.style.msTransform=d,c.style.oTransform=d,c.style.transform=d}})($),(function(a){var l={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};a.extend(a,{getString:function(o){var f=o.split("."),p=null,h=arguments,u=l,c;for(c=0;c<f.length-1;c++)u=u[f[c]]||{};return p=u[f[c]],typeof p!="string"&&(a.console.error("Untranslated source string:",o),p=""),p.replace(/\{\d+\}/g,function(d){var v=parseInt(d.match(/\d+/),10)+1;return v<h.length?h[v]:""})},setString:function(o,f){var p=o.split("."),h=l,u;for(u=0;u<p.length-1;u++)h[p[u]]||(h[p[u]]={}),h=h[p[u]];h[p[u]]=f}})})($),(function(a){a.Point=function(l,o){this.x=typeof l=="number"?l:0,this.y=typeof o=="number"?o:0},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},plus:function(l){return new a.Point(this.x+l.x,this.y+l.y)},minus:function(l){return new a.Point(this.x-l.x,this.y-l.y)},times:function(l){return new a.Point(this.x*l,this.y*l)},divide:function(l){return new a.Point(this.x/l,this.y/l)},negate:function(){return new a.Point(-this.x,-this.y)},distanceTo:function(l){return Math.sqrt(Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2))},squaredDistanceTo:function(l){return Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2)},apply:function(l){return new a.Point(l(this.x),l(this.y))},equals:function(l){return l instanceof a.Point&&this.x===l.x&&this.y===l.y},rotate:function(l,o){o=o||new a.Point(0,0);var f,p;if(l%90===0){var h=a.positiveModulo(l,360);switch(h){case 0:f=1,p=0;break;case 90:f=0,p=1;break;case 180:f=-1,p=0;break;case 270:f=0,p=-1;break}}else{var u=l*Math.PI/180;f=Math.cos(u),p=Math.sin(u)}var c=f*(this.x-o.x)-p*(this.y-o.y)+o.x,d=p*(this.x-o.x)+f*(this.y-o.y)+o.y;return new a.Point(c,d)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}})($),(function(a){a.TileSource=function(o,f,p,h,u,c){var d=this,v=arguments,S,C;if(a.isPlainObject(o)?S=o:S={width:v[0],height:v[1],tileSize:v[2],tileOverlap:v[3],minLevel:v[4],maxLevel:v[5]},a.EventSource.call(this),a.extend(!0,this,S),!this.success){for(C=0;C<arguments.length;C++)if(a.isFunction(arguments[C])){this.success=arguments[C];break}}this.success&&this.addHandler("ready",function(_){d.success(_)}),a.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new a.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new a.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=S.maxLevel!==void 0&&S.maxLevel!==null?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&a.isFunction(this.success)&&this.success(this))},a.TileSource.prototype={getTileSize:function(o){return a.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(o){return this._tileWidth?this._tileWidth:this.getTileSize(o)},getTileHeight:function(o){return this._tileHeight?this._tileHeight:this.getTileSize(o)},setMaxLevel:function(o){this.maxLevel=o,this._memoizeLevelScale()},getLevelScale:function(o){return this._memoizeLevelScale(),this.getLevelScale(o)},_memoizeLevelScale:function(){var o={},f;for(f=0;f<=this.maxLevel;f++)o[f]=1/Math.pow(2,this.maxLevel-f);this.getLevelScale=function(p){return o[p]}},getNumTiles:function(o){var f=this.getLevelScale(o),p=Math.ceil(f*this.dimensions.x/this.getTileWidth(o)),h=Math.ceil(f*this.dimensions.y/this.getTileHeight(o));return new a.Point(p,h)},getPixelRatio:function(o){var f=this.dimensions.times(this.getLevelScale(o)),p=1/f.x*a.pixelDensityRatio,h=1/f.y*a.pixelDensityRatio;return new a.Point(p,h)},getClosestLevel:function(){var o,f;for(o=this.minLevel+1;o<=this.maxLevel&&(f=this.getNumTiles(o),!(f.x>1||f.y>1));o++);return o-1},getTileAtPoint:function(o,f){var p=f.x>=0&&f.x<=1&&f.y>=0&&f.y<=1/this.aspectRatio;a.console.assert(p,"[TileSource.getTileAtPoint] must be called with a valid point.");var h=this.dimensions.x*this.getLevelScale(o),u=f.x*h,c=f.y*h,d=Math.floor(u/this.getTileWidth(o)),v=Math.floor(c/this.getTileHeight(o));f.x>=1&&(d=this.getNumTiles(o).x-1);var S=1e-15;return f.y>=1/this.aspectRatio-S&&(v=this.getNumTiles(o).y-1),new a.Point(d,v)},getTileBounds:function(o,f,p,h){var u=this.dimensions.times(this.getLevelScale(o)),c=this.getTileWidth(o),d=this.getTileHeight(o),v=f===0?0:c*f-this.tileOverlap,S=p===0?0:d*p-this.tileOverlap,C=c+(f===0?1:2)*this.tileOverlap,_=d+(p===0?1:2)*this.tileOverlap,z=1/u.x;return C=Math.min(C,u.x-v),_=Math.min(_,u.y-S),h?new a.Rect(0,0,C,_):new a.Rect(v*z,S*z,C*z,_*z)},getImageInfo:function(o){var f=this,p,h,u,c,d,v,S;o&&(d=o.split("/"),v=d[d.length-1],S=v.lastIndexOf("."),S>-1&&(d[d.length-1]=v.slice(0,S)));var C=null;if(this.splitHashDataForPost){var _=o.indexOf("#");_!==-1&&(C=o.substring(_+1),o=o.substr(0,_))}h=function(z){typeof z=="string"&&(z=a.parseXml(z));var R=a.TileSource.determineType(f,z,o);if(!R){f.raiseEvent("open-failed",{message:"Unable to load TileSource",source:o});return}c=R.prototype.configure.apply(f,[z,o,C]),c.ajaxWithCredentials===void 0&&(c.ajaxWithCredentials=f.ajaxWithCredentials),u=new R(c),f.ready=!0,f.raiseEvent("ready",{tileSource:u})},o.match(/\.js$/)?(p=o.split("/").pop().replace(".js",""),a.jsonp({url:o,async:!1,callbackName:p,callback:h})):a.makeAjaxRequest({url:o,postData:C,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(z){var R=l(z);h(R)},error:function(z,R){var M;try{M="HTTP "+z.status+" attempting to load TileSource: "+o}catch{var X;typeof R>"u"||!R.toString?X="Unknown error":X=R.toString(),M=X+" attempting to load TileSource: "+o}a.console.error(M),f.raiseEvent("open-failed",{message:M,source:o,postData:C})}})},supports:function(o,f){return!1},configure:function(o,f,p){throw new Error("Method not implemented.")},getTileUrl:function(o,f,p){throw new Error("Method not implemented.")},getTilePostData:function(o,f,p){return null},getTileAjaxHeaders:function(o,f,p){return{}},getTileHashKey:function(o,f,p,h,u,c){function d(v){return u?v+"+"+JSON.stringify(u):v}return d(typeof h!="string"?o+"/"+f+"_"+p:h)},tileExists:function(o,f,p){var h=this.getNumTiles(o);return o>=this.minLevel&&o<=this.maxLevel&&f>=0&&p>=0&&f<h.x&&p<h.y},hasTransparency:function(o,f,p,h){return!!o||f.match(".png")},downloadTileStart:function(o){var f=o.userData,p=new Image;f.image=p,f.request=null;var h=function(u){if(!p){o.finish(null,f.request,"Image load failed: undefined Image instance.");return}p.onload=p.onerror=p.onabort=null,o.finish(u?null:p,f.request,u)};p.onload=function(){h()},p.onabort=p.onerror=function(){h("Image load aborted.")},o.loadWithAjax?f.request=a.makeAjaxRequest({url:o.src,withCredentials:o.ajaxWithCredentials,headers:o.ajaxHeaders,responseType:"arraybuffer",postData:o.postData,success:function(u){var c;try{c=new window.Blob([u.response])}catch(S){var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(S.name==="TypeError"&&d){var v=new d;v.append(u.response),c=v.getBlob()}}c.size===0?h("Empty image response."):p.src=(window.URL||window.webkitURL).createObjectURL(c)},error:function(u){h("Image load aborted - XHR error")}}):(o.crossOriginPolicy!==!1&&(p.crossOrigin=o.crossOriginPolicy),p.src=o.src)},downloadTileAbort:function(o){o.userData.request&&o.userData.request.abort();var f=o.userData.image;o.userData.image&&(f.onload=f.onerror=f.onabort=null)},createTileCache:function(o,f,p){o._data=f},destroyTileCache:function(o){o._data=null,o._renderedContext=null},getTileCacheData:function(o){return o._data},getTileCacheDataAsImage:function(o){return o._data},getTileCacheDataAsContext2D:function(o){if(!o._renderedContext){var f=document.createElement("canvas");f.width=o._data.width,f.height=o._data.height,o._renderedContext=f.getContext("2d"),o._renderedContext.drawImage(o._data,0,0),o._data=null}return o._renderedContext}},a.extend(!0,a.TileSource.prototype,a.EventSource.prototype);function l(o){var f=o.responseText,p=o.status,h,u;if(o){if(o.status!==200&&o.status!==0)throw p=o.status,h=p===404?"Not Found":o.statusText,new Error(a.getString("Errors.Status",p,h))}else throw new Error(a.getString("Errors.Security"));if(f.match(/^\s*<.*/))try{u=o.responseXML&&o.responseXML.documentElement?o.responseXML:a.parseXml(f)}catch{u=o.responseText}else if(f.match(/\s*[{[].*/))try{u=a.parseJSON(f)}catch{u=f}else u=f;return u}a.TileSource.determineType=function(o,f,p){var h;for(h in $)if(h.match(/.+TileSource$/)&&a.isFunction($[h])&&a.isFunction($[h].prototype.supports)&&$[h].prototype.supports.call(o,f,p))return $[h];return a.console.error("No TileSource was able to open %s %s",p,f),null}})($),(function(a){a.DziTileSource=function(f,p,h,u,c,d,v,S,C){var _,z,R,M;if(a.isPlainObject(f)?M=f:M={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=M.tilesUrl,this.fileFormat=M.fileFormat,this.displayRects=M.displayRects,this.displayRects)for(_=this.displayRects.length-1;_>=0;_--)for(z=this.displayRects[_],R=z.minLevel;R<=z.maxLevel;R++)this._levelRects[R]||(this._levelRects[R]=[]),this._levelRects[R].push(z);a.TileSource.apply(this,[M])},a.extend(a.DziTileSource.prototype,a.TileSource.prototype,{supports:function(f,p){var h;return f.Image?h=f.Image.xmlns:f.documentElement&&(f.documentElement.localName==="Image"||f.documentElement.tagName==="Image")&&(h=f.documentElement.namespaceURI),h=(h||"").toLowerCase(),h.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||h.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(f,p,h){var u;return a.isPlainObject(f)?u=o(this,f):u=l(this,f),p&&!u.tilesUrl&&(u.tilesUrl=p.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),p.search(/\.(dzi|xml|js)\?/)!==-1?u.queryParams=p.match(/\?.*/):u.queryParams=""),u},getTileUrl:function(f,p,h){return[this.tilesUrl,f,"/",p,"_",h,".",this.fileFormat,this.queryParams].join("")},tileExists:function(f,p,h){var u=this._levelRects[f],c,d,v,S,C,_,z;if(this.minLevel&&f<this.minLevel||this.maxLevel&&f>this.maxLevel)return!1;if(!u||!u.length)return!0;for(z=u.length-1;z>=0;z--)if(c=u[z],!(f<c.minLevel||f>c.maxLevel)&&(d=this.getLevelScale(f),v=c.x*d,S=c.y*d,C=v+c.width*d,_=S+c.height*d,v=Math.floor(v/this._tileWidth),S=Math.floor(S/this._tileWidth),C=Math.ceil(C/this._tileWidth),_=Math.ceil(_/this._tileWidth),v<=p&&p<C&&S<=h&&h<_))return!0;return!1}});function l(f,p){if(!p||!p.documentElement)throw new Error(a.getString("Errors.Xml"));var h=p.documentElement,u=h.localName||h.tagName,c=p.documentElement.namespaceURI,d=null,v=[],S,C,_,z,R;if(u==="Image")try{if(z=h.getElementsByTagName("Size")[0],z===void 0&&(z=h.getElementsByTagNameNS(c,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:h.getAttribute("Url"),Format:h.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(h.getAttribute("Overlap"),10),TileSize:parseInt(h.getAttribute("TileSize"),10),Size:{Height:parseInt(z.getAttribute("Height"),10),Width:parseInt(z.getAttribute("Width"),10)}}},!a.imageFormatSupported(d.Image.Format))throw new Error(a.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(S=h.getElementsByTagName("DisplayRect"),S===void 0&&(S=h.getElementsByTagNameNS(c,"DisplayRect")[0]),R=0;R<S.length;R++)C=S[R],_=C.getElementsByTagName("Rect")[0],_===void 0&&(_=C.getElementsByTagNameNS(c,"Rect")[0]),v.push({Rect:{X:parseInt(_.getAttribute("X"),10),Y:parseInt(_.getAttribute("Y"),10),Width:parseInt(_.getAttribute("Width"),10),Height:parseInt(_.getAttribute("Height"),10),MinLevel:parseInt(C.getAttribute("MinLevel"),10),MaxLevel:parseInt(C.getAttribute("MaxLevel"),10)}});return v.length&&(d.Image.DisplayRect=v),o(f,d)}catch(N){throw N instanceof Error?N:new Error(a.getString("Errors.Dzi"))}else{if(u==="Collection")throw new Error(a.getString("Errors.Dzc"));if(u==="Error"){var M=h.getElementsByTagName("Message")[0],X=M.firstChild.nodeValue;throw new Error(X)}}throw new Error(a.getString("Errors.Dzi"))}function o(f,p){var h=p.Image,u=h.Url,c=h.Format,d=h.Size,v=h.DisplayRect||[],S=parseInt(d.Width,10),C=parseInt(d.Height,10),_=parseInt(h.TileSize,10),z=parseInt(h.Overlap,10),R=[],M,X;for(X=0;X<v.length;X++)M=v[X].Rect,R.push(new a.DisplayRect(parseInt(M.X,10),parseInt(M.Y,10),parseInt(M.Width,10),parseInt(M.Height,10),parseInt(M.MinLevel,10),parseInt(M.MaxLevel,10)));return a.extend(!0,{width:S,height:C,tileSize:_,tileOverlap:z,minLevel:null,maxLevel:null,tilesUrl:u,fileFormat:c,displayRects:R},p)}})($),(function(a){a.IIIFTileSource=function(h){if(a.extend(!0,this,h),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(h.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=h.version,this.tile_width&&this.tile_height)h.tileWidth=this.tile_width,h.tileHeight=this.tile_height;else if(this.tile_width)h.tileSize=this.tile_width;else if(this.tile_height)h.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)h.tileWidth=this.tiles[0].width,h.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var u=0;u<this.tiles.length;u++)for(var c=0;c<this.tiles[u].scaleFactors.length;c++){var d=this.tiles[u].scaleFactors[c];this.scale_factors.push(d),h.tileSizePerScaleFactor[d]={width:this.tiles[u].width,height:this.tiles[u].height||this.tiles[u].width}}}else if(l(h)){for(var v=Math.min(this.height,this.width),S=[256,512,1024],C=[],_=0;_<S.length;_++)S[_]<=v&&C.push(S[_]);C.length>0?h.tileSize=Math.max.apply(null,C):h.tileSize=v}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,h.levels=o(this),a.extend(!0,h,{width:h.levels[h.levels.length-1].width,height:h.levels[h.levels.length-1].height,tileSize:Math.max(h.height,h.width),tileOverlap:0,minLevel:0,maxLevel:h.levels.length-1}),this.levels=h.levels):a.console.error("Nothing in the info.json to construct image pyramids from");if(!h.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)h.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var z=Math.max.apply(null,this.scale_factors);h.maxLevel=Math.round(Math.log(z)*Math.LOG2E)}if(this.sizes){var R=this.sizes.length;(R===h.maxLevel||R===h.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort(function(M,X){return M.width-X.width}),R===h.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}a.TileSource.apply(this,[h])},a.extend(a.IIIFTileSource.prototype,a.TileSource.prototype,{supports:function(h,u){return h.protocol&&h.protocol==="http://iiif.io/api/image"||h["@context"]&&(h["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||h["@context"]==="http://iiif.io/api/image/1/context.json")||h.profile&&h.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||h.identifier&&h.width&&h.height?!0:!!(h.documentElement&&h.documentElement.tagName==="info"&&h.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(h,u,c){if(a.isPlainObject(h)){if(!h["@context"])h["@context"]="http://iiif.io/api/image/1.0/context.json",h["@id"]=u.replace("/info.json",""),h.version=1;else{var v=h["@context"];if(Array.isArray(v)){for(var S=0;S<v.length;S++)if(typeof v[S]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(v[S])||v[S]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){v=v[S];break}}switch(v){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":h.version=1;break;case"http://iiif.io/api/image/2/context.json":h.version=2;break;case"http://iiif.io/api/image/3/context.json":h.version=3;break;default:a.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(h.preferredFormats){for(var C=0;C<h.preferredFormats.length;C++)if($.imageFormatSupported(h.preferredFormats[C])){h.tileFormat=h.preferredFormats[C];break}}return h}else{var d=f(h);return d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=u.replace("/info.xml",""),d.version=1,d}},getTileWidth:function(h){if(this.emulateLegacyImagePyramid)return a.TileSource.prototype.getTileWidth.call(this,h);var u=Math.pow(2,this.maxLevel-h);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[u]?this.tileSizePerScaleFactor[u].width:this._tileWidth},getTileHeight:function(h){if(this.emulateLegacyImagePyramid)return a.TileSource.prototype.getTileHeight.call(this,h);var u=Math.pow(2,this.maxLevel-h);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[u]?this.tileSizePerScaleFactor[u].height:this._tileHeight},getLevelScale:function(h){if(this.emulateLegacyImagePyramid){var u=NaN;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(u=this.levels[h].width/this.levels[this.maxLevel].width),u}return a.TileSource.prototype.getLevelScale.call(this,h)},getNumTiles:function(h){if(this.emulateLegacyImagePyramid){var u=this.getLevelScale(h);return u?new a.Point(1,1):new a.Point(0,0)}if(this.levelSizes){var c=this.levelSizes[h],d=Math.ceil(c.width/this.getTileWidth(h)),v=Math.ceil(c.height/this.getTileHeight(h));return new a.Point(d,v)}else return a.TileSource.prototype.getNumTiles.call(this,h)},getTileAtPoint:function(h,u){if(this.emulateLegacyImagePyramid)return new a.Point(0,0);if(this.levelSizes){var c=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;a.console.assert(c,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.levelSizes[h].width,v=u.x*d,S=u.y*d,C=Math.floor(v/this.getTileWidth(h)),_=Math.floor(S/this.getTileHeight(h));u.x>=1&&(C=this.getNumTiles(h).x-1);var z=1e-15;return u.y>=1/this.aspectRatio-z&&(_=this.getNumTiles(h).y-1),new a.Point(C,_)}return a.TileSource.prototype.getTileAtPoint.call(this,h,u)},getTileUrl:function(h,u,c){if(this.emulateLegacyImagePyramid){var d=null;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(d=this.levels[h].url),d}var v="0",S=Math.pow(.5,this.maxLevel-h),C,_,z,R,M,X,N,ye,Re,be,oe,xe,_e,lt,Xe,Pe;return this.levelSizes?(C=this.levelSizes[h].width,_=this.levelSizes[h].height):(C=Math.ceil(this.width*S),_=Math.ceil(this.height*S)),z=this.getTileWidth(h),R=this.getTileHeight(h),M=Math.round(z/S),X=Math.round(R/S),this.version===1?Xe="native."+this.tileFormat:Xe="default."+this.tileFormat,C<z&&_<R?(this.version===2&&C===this.width?xe="full":this.version===3&&C===this.width&&_===this.height?xe="max":this.version===3?xe=C+","+_:xe=C+",",N="full"):(ye=u*M,Re=c*X,be=Math.min(M,this.width-ye),oe=Math.min(X,this.height-Re),u===0&&c===0&&be===this.width&&oe===this.height?N="full":N=[ye,Re,be,oe].join(","),_e=Math.min(z,C-u*z),lt=Math.min(R,_-c*R),this.version===2&&_e===this.width?xe="full":this.version===3&&_e===this.width&&lt===this.height?xe="max":this.version===3?xe=_e+","+lt:xe=_e+","),Pe=[this._id,N,xe,v,Xe].join("/"),Pe},__testonly__:{canBeTiled:l,constructLevels:o}});function l(h){var u=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],c=Array.isArray(h.profile)?h.profile[0]:h.profile,d=u.indexOf(c)!==-1,v=!1;return h.version===2&&h.profile.length>1&&h.profile[1].supports&&(v=h.profile[1].supports.indexOf("sizeByW")!==-1),h.version===3&&h.extraFeatures&&(v=h.extraFeatures.indexOf("sizeByWh")!==-1),!d||v}function o(h){for(var u=[],c=0;c<h.sizes.length;c++)u.push({url:h._id+"/full/"+h.sizes[c].width+","+(h.version===3?h.sizes[c].height:"")+"/0/default."+h.tileFormat,width:h.sizes[c].width,height:h.sizes[c].height});return u.sort(function(d,v){return d.width-v.width})}function f(h){if(!h||!h.documentElement)throw new Error(a.getString("Errors.Xml"));var u=h.documentElement,c=u.tagName,d=null;if(c==="info")try{return d={},p(u,d),d}catch(v){throw v instanceof Error?v:new Error(a.getString("Errors.IIIF"))}throw new Error(a.getString("Errors.IIIF"))}function p(h,u,c){var d,v;if(h.nodeType===3&&c)v=h.nodeValue.trim(),v.match(/^\d*$/)&&(v=Number(v)),u[c]?(a.isArray(u[c])||(u[c]=[u[c]]),u[c].push(v)):u[c]=v;else if(h.nodeType===1)for(d=0;d<h.childNodes.length;d++)p(h.childNodes[d],u,h.nodeName)}})($),(function(a){a.OsmTileSource=function(l,o,f,p,h){var u;a.isPlainObject(l)?u=l:u={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!u.width||!u.height)&&(u.width=65572864,u.height=65572864),u.tileSize||(u.tileSize=256,u.tileOverlap=0),u.tilesUrl||(u.tilesUrl="http://tile.openstreetmap.org/"),u.minLevel=8,a.TileSource.apply(this,[u])},a.extend(a.OsmTileSource.prototype,a.TileSource.prototype,{supports:function(l,o){return l.type&&l.type==="openstreetmaps"},configure:function(l,o,f){return l},getTileUrl:function(l,o,f){return this.tilesUrl+(l-8)+"/"+o+"/"+f+".png"}})})($),(function(a){a.TmsTileSource=function(l,o,f,p,h){var u;a.isPlainObject(l)?u=l:u={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var c=Math.ceil(u.width/256)*256,d=Math.ceil(u.height/256)*256,v;c>d?v=c/256:v=d/256,u.maxLevel=Math.ceil(Math.log(v)/Math.log(2))-1,u.tileSize=256,u.width=c,u.height=d,a.TileSource.apply(this,[u])},a.extend(a.TmsTileSource.prototype,a.TileSource.prototype,{supports:function(l,o){return l.type&&l.type==="tiledmapservice"},configure:function(l,o,f){return l},getTileUrl:function(l,o,f){var p=this.getNumTiles(l).y-1;return this.tilesUrl+l+"/"+o+"/"+(p-f)+".png"}})})($),(function(a){a.ZoomifyTileSource=function(l){typeof l.tileSize>"u"&&(l.tileSize=256),typeof l.fileFormat>"u"&&(l.fileFormat="jpg",this.fileFormat=l.fileFormat);var o={x:l.width,y:l.height};for(l.imageSizes=[{x:l.width,y:l.height}],l.gridSize=[this._getGridSize(l.width,l.height,l.tileSize)];parseInt(o.x,10)>l.tileSize||parseInt(o.y,10)>l.tileSize;)o.x=Math.floor(o.x/2),o.y=Math.floor(o.y/2),l.imageSizes.push({x:o.x,y:o.y}),l.gridSize.push(this._getGridSize(o.x,o.y,l.tileSize));l.imageSizes.reverse(),l.gridSize.reverse(),l.minLevel=0,l.maxLevel=l.gridSize.length-1,$.TileSource.apply(this,[l])},a.extend(a.ZoomifyTileSource.prototype,a.TileSource.prototype,{_getGridSize:function(l,o,f){return{x:Math.ceil(l/f),y:Math.ceil(o/f)}},_calculateAbsoluteTileNumber:function(l,o,f){for(var p=0,h={},u=0;u<l;u++)h=this.gridSize[u],p+=h.x*h.y;return h=this.gridSize[l],p+=h.x*f+o,p},supports:function(l,o){return l.type&&l.type==="zoomifytileservice"},configure:function(l,o,f){return l},getTileUrl:function(l,o,f){var p=0,h=this._calculateAbsoluteTileNumber(l,o,f);return p=Math.floor(h/256),this.tilesUrl+"TileGroup"+p+"/"+l+"-"+o+"-"+f+"."+this.fileFormat}})})($),(function(a){a.LegacyTileSource=function(p){var h,u,c;a.isArray(p)&&(h={type:"legacy-image-pyramid",levels:p}),h.levels=l(h.levels),h.levels.length>0?(u=h.levels[h.levels.length-1].width,c=h.levels[h.levels.length-1].height):(u=0,c=0,a.console.error("No supported image formats found")),a.extend(!0,h,{width:u,height:c,tileSize:Math.max(c,u),tileOverlap:0,minLevel:0,maxLevel:h.levels.length>0?h.levels.length-1:0}),a.TileSource.apply(this,[h]),this.levels=h.levels},a.extend(a.LegacyTileSource.prototype,a.TileSource.prototype,{supports:function(p,h){return p.type&&p.type==="legacy-image-pyramid"||p.documentElement&&p.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(p,h,u){var c;return a.isPlainObject(p)?c=f(this,p):c=o(this,p),c},getLevelScale:function(p){var h=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(h=this.levels[p].width/this.levels[this.maxLevel].width),h},getNumTiles:function(p){var h=this.getLevelScale(p);return h?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(p,h,u){var c=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(c=this.levels[p].url),c}});function l(p){var h=[],u,c;for(c=0;c<p.length;c++)u=p[c],u.height&&u.width&&u.url?h.push({url:u.url,width:Number(u.width),height:Number(u.height)}):a.console.error("Unsupported image format: %s",u.url?u.url:"<no URL>");return h.sort(function(d,v){return d.height-v.height})}function o(p,h){if(!h||!h.documentElement)throw new Error(a.getString("Errors.Xml"));var u=h.documentElement,c=u.tagName,d=null,v=[],S,C;if(c==="image")try{for(d={type:u.getAttribute("type"),levels:[]},v=u.getElementsByTagName("level"),C=0;C<v.length;C++)S=v[C],d.levels.push({url:S.getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return f(p,d)}catch(_){throw _ instanceof Error?_:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(c==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(c==="error")throw new Error("Error: "+h)}throw new Error("Unknown element "+c)}function f(p,h){return h.levels}})($),(function(a){a.ImageTileSource=function(l){l=a.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},l),a.TileSource.apply(this,[l])},a.extend(a.ImageTileSource.prototype,a.TileSource.prototype,{supports:function(l,o){return l.type&&l.type==="image"},configure:function(l,o,f){return l},getImageInfo:function(l){var o=this._image=new Image,f=this;this.crossOriginPolicy&&(o.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(o.useCredentials=this.ajaxWithCredentials),a.addEvent(o,"load",function(){f.width=o.naturalWidth,f.height=o.naturalHeight,f.aspectRatio=f.width/f.height,f.dimensions=new a.Point(f.width,f.height),f._tileWidth=f.width,f._tileHeight=f.height,f.tileOverlap=0,f.minLevel=0,f.levels=f._buildLevels(),f.maxLevel=f.levels.length-1,f.ready=!0,f.raiseEvent("ready",{tileSource:f})}),a.addEvent(o,"error",function(){f.raiseEvent("open-failed",{message:"Error loading image at "+l,source:l})}),o.src=l},getLevelScale:function(l){var o=NaN;return l>=this.minLevel&&l<=this.maxLevel&&(o=this.levels[l].width/this.levels[this.maxLevel].width),o},getNumTiles:function(l){var o=this.getLevelScale(l);return o?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(l,o,f){var p=null;return l>=this.minLevel&&l<=this.maxLevel&&(p=this.levels[l].url),p},getContext2D:function(l,o,f){var p=null;return l>=this.minLevel&&l<=this.maxLevel&&(p=this.levels[l].context2D),p},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var l=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!a.supportsCanvas||!this.useCanvas)return delete this._image,l;var o=this._image.naturalWidth,f=this._image.naturalHeight,p=document.createElement("canvas"),h=p.getContext("2d");if(p.width=o,p.height=f,h.drawImage(this._image,0,0,o,f),l[0].context2D=h,delete this._image,a.isCanvasTainted(p))return l;for(;o>=2&&f>=2;){o=Math.floor(o/2),f=Math.floor(f/2);var u=document.createElement("canvas"),c=u.getContext("2d");u.width=o,u.height=f,c.drawImage(p,0,0,o,f),l.splice(0,0,{context2D:c,width:o,height:f}),p=u,h=c}return l},_freeupCanvasMemory:function(){for(var l=0;l<this.levels.length;l++)this.levels[l].context2D&&(this.levels[l].context2D.canvas.height=0,this.levels[l].context2D.canvas.width=0)}})})($),(function(a){a.TileSourceCollection=function(l,o,f,p){a.console.error("TileSourceCollection is deprecated; use World instead")}})($),(function(a){a.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},a.Button=function(c){var d=this;a.EventSource.call(this),a.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:a.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},c),this.element=c.element||a.makeNeutralElement("div"),c.element||(this.imgRest=a.makeTransparentImage(this.srcRest),this.imgGroup=a.makeTransparentImage(this.srcGroup),this.imgHover=a.makeTransparentImage(this.srcHover),this.imgDown=a.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,a.setElementPointerEventsNone(this.imgRest),a.setElementPointerEventsNone(this.imgGroup),a.setElementPointerEventsNone(this.imgHover),a.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",a.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",a.Browser.vendor===a.BROWSERS.FIREFOX&&a.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=a.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new a.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(v){v.insideElementPressed?(h(d,a.ButtonState.DOWN),d.raiseEvent("enter",{originalEvent:v.originalEvent})):v.buttonDownAny||h(d,a.ButtonState.HOVER)},focusHandler:function(v){d.tracker.enterHandler(v),d.raiseEvent("focus",{originalEvent:v.originalEvent})},leaveHandler:function(v){u(d,a.ButtonState.GROUP),v.insideElementPressed&&d.raiseEvent("exit",{originalEvent:v.originalEvent})},blurHandler:function(v){d.tracker.leaveHandler(v),d.raiseEvent("blur",{originalEvent:v.originalEvent})},pressHandler:function(v){h(d,a.ButtonState.DOWN),d.raiseEvent("press",{originalEvent:v.originalEvent})},releaseHandler:function(v){v.insideElementPressed&&v.insideElementReleased?(u(d,a.ButtonState.HOVER),d.raiseEvent("release",{originalEvent:v.originalEvent})):v.insideElementPressed?u(d,a.ButtonState.GROUP):h(d,a.ButtonState.HOVER)},clickHandler:function(v){v.quick&&d.raiseEvent("click",{originalEvent:v.originalEvent})},keyHandler:function(v){v.keyCode===13?(d.raiseEvent("click",{originalEvent:v.originalEvent}),d.raiseEvent("release",{originalEvent:v.originalEvent}),v.preventDefault=!0):v.preventDefault=!1}}),u(this,a.ButtonState.REST)},a.extend(a.Button.prototype,a.EventSource.prototype,{notifyGroupEnter:function(){h(this,a.ButtonState.GROUP)},notifyGroupExit:function(){u(this,a.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),a.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),a.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function l(c){a.requestAnimationFrame(function(){o(c)})}function o(c){var d,v,S;c.shouldFade&&(d=a.now(),v=d-c.fadeBeginTime,S=1-v/c.fadeLength,S=Math.min(1,S),S=Math.max(0,S),c.imgGroup&&a.setElementOpacity(c.imgGroup,S,!0),S>0&&l(c))}function f(c){c.shouldFade=!0,c.fadeBeginTime=a.now()+c.fadeDelay,window.setTimeout(function(){l(c)},c.fadeDelay)}function p(c){c.shouldFade=!1,c.imgGroup&&a.setElementOpacity(c.imgGroup,1,!0)}function h(c,d){c.element.disabled||(d>=a.ButtonState.GROUP&&c.currentState===a.ButtonState.REST&&(p(c),c.currentState=a.ButtonState.GROUP),d>=a.ButtonState.HOVER&&c.currentState===a.ButtonState.GROUP&&(c.imgHover&&(c.imgHover.style.visibility=""),c.currentState=a.ButtonState.HOVER),d>=a.ButtonState.DOWN&&c.currentState===a.ButtonState.HOVER&&(c.imgDown&&(c.imgDown.style.visibility=""),c.currentState=a.ButtonState.DOWN))}function u(c,d){c.element.disabled||(d<=a.ButtonState.HOVER&&c.currentState===a.ButtonState.DOWN&&(c.imgDown&&(c.imgDown.style.visibility="hidden"),c.currentState=a.ButtonState.HOVER),d<=a.ButtonState.GROUP&&c.currentState===a.ButtonState.HOVER&&(c.imgHover&&(c.imgHover.style.visibility="hidden"),c.currentState=a.ButtonState.GROUP),d<=a.ButtonState.REST&&c.currentState===a.ButtonState.GROUP&&(f(c),c.currentState=a.ButtonState.REST))}})($),(function(a){a.ButtonGroup=function(l){a.extend(!0,this,{buttons:[],clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:a.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},l);var o=this.buttons.concat([]),f=this,p;if(this.element=l.element||a.makeNeutralElement("div"),!l.group)for(this.element.style.display="inline-block",p=0;p<o.length;p++)this.element.appendChild(o[p].element);a.setElementTouchActionNone(this.element),this.tracker=new a.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(h){var u;for(u=0;u<f.buttons.length;u++)f.buttons[u].notifyGroupEnter()},leaveHandler:function(h){var u;if(!h.insideElementPressed)for(u=0;u<f.buttons.length;u++)f.buttons[u].notifyGroupExit()}})},a.ButtonGroup.prototype={addButton:function(l){this.buttons.push(l),this.element.appendChild(l.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var l=this.buttons.pop();this.element.removeChild(l.element),l.destroy()}this.tracker.destroy(),this.element=null}}})($),(function(a){a.Rect=function(l,o,f,p,h){this.x=typeof l=="number"?l:0,this.y=typeof o=="number"?o:0,this.width=typeof f=="number"?f:0,this.height=typeof p=="number"?p:0,this.degrees=typeof h=="number"?h:0,this.degrees=a.positiveModulo(this.degrees,360);var u,c;this.degrees>=270?(u=this.getTopRight(),this.x=u.x,this.y=u.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=270):this.degrees>=180?(u=this.getBottomRight(),this.x=u.x,this.y=u.y,this.degrees-=180):this.degrees>=90&&(u=this.getBottomLeft(),this.x=u.x,this.y=u.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=90)},a.Rect.fromSummits=function(l,o,f){var p=l.distanceTo(o),h=l.distanceTo(f),u=o.minus(l),c=Math.atan(u.y/u.x);return u.x<0?c+=Math.PI:u.y<0&&(c+=2*Math.PI),new a.Rect(l.x,l.y,p,h,c/Math.PI*180)},a.Rect.prototype={clone:function(){return new a.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new a.Point(this.x,this.y)},getBottomRight:function(){return new a.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new a.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new a.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new a.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new a.Point(this.width,this.height)},equals:function(l){return l instanceof a.Rect&&this.x===l.x&&this.y===l.y&&this.width===l.width&&this.height===l.height&&this.degrees===l.degrees},times:function(l){return new a.Rect(this.x*l,this.y*l,this.width*l,this.height*l,this.degrees)},translate:function(l){return new a.Rect(this.x+l.x,this.y+l.y,this.width,this.height,this.degrees)},union:function(l){var o=this.getBoundingBox(),f=l.getBoundingBox(),p=Math.min(o.x,f.x),h=Math.min(o.y,f.y),u=Math.max(o.x+o.width,f.x+f.width),c=Math.max(o.y+o.height,f.y+f.height);return new a.Rect(p,h,u-p,c-h)},intersection:function(l){var o=1e-10,f=[],p=this.getTopLeft();l.containsPoint(p,o)&&f.push(p);var h=this.getTopRight();l.containsPoint(h,o)&&f.push(h);var u=this.getBottomLeft();l.containsPoint(u,o)&&f.push(u);var c=this.getBottomRight();l.containsPoint(c,o)&&f.push(c);var d=l.getTopLeft();this.containsPoint(d,o)&&f.push(d);var v=l.getTopRight();this.containsPoint(v,o)&&f.push(v);var S=l.getBottomLeft();this.containsPoint(S,o)&&f.push(S);var C=l.getBottomRight();this.containsPoint(C,o)&&f.push(C);for(var _=this._getSegments(),z=l._getSegments(),R=0;R<_.length;R++)for(var M=_[R],X=0;X<z.length;X++){var N=z[X],ye=Re(M[0],M[1],N[0],N[1]);ye&&f.push(ye)}function Re(Pe,mt,ht,yt){var G=mt.minus(Pe),te=yt.minus(ht),de=-te.x*G.y+G.x*te.y;if(de===0)return null;var He=(G.x*(Pe.y-ht.y)-G.y*(Pe.x-ht.x))/de,pe=(te.x*(Pe.y-ht.y)-te.y*(Pe.x-ht.x))/de;return-o<=He&&He<=1-o&&-o<=pe&&pe<=1-o?new a.Point(Pe.x+pe*G.x,Pe.y+pe*G.y):null}if(f.length===0)return null;for(var be=f[0].x,oe=f[0].x,xe=f[0].y,_e=f[0].y,lt=1;lt<f.length;lt++){var Xe=f[lt];Xe.x<be&&(be=Xe.x),Xe.x>oe&&(oe=Xe.x),Xe.y<xe&&(xe=Xe.y),Xe.y>_e&&(_e=Xe.y)}return new a.Rect(be,xe,oe-be,_e-xe)},_getSegments:function(){var l=this.getTopLeft(),o=this.getTopRight(),f=this.getBottomLeft(),p=this.getBottomRight();return[[l,o],[o,p],[p,f],[f,l]]},rotate:function(l,o){if(l=a.positiveModulo(l,360),l===0)return this.clone();o=o||this.getCenter();var f=this.getTopLeft().rotate(l,o),p=this.getTopRight().rotate(l,o),h=p.minus(f);h=h.apply(function(c){var d=1e-15;return Math.abs(c)<d?0:c});var u=Math.atan(h.y/h.x);return h.x<0?u+=Math.PI:h.y<0&&(u+=2*Math.PI),new a.Rect(f.x,f.y,this.width,this.height,u/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var l=this.getTopLeft(),o=this.getTopRight(),f=this.getBottomLeft(),p=this.getBottomRight(),h=Math.min(l.x,o.x,f.x,p.x),u=Math.max(l.x,o.x,f.x,p.x),c=Math.min(l.y,o.y,f.y,p.y),d=Math.max(l.y,o.y,f.y,p.y);return new a.Rect(h,c,u-h,d-c)},getIntegerBoundingBox:function(){var l=this.getBoundingBox(),o=Math.floor(l.x),f=Math.floor(l.y),p=Math.ceil(l.width+l.x-o),h=Math.ceil(l.height+l.y-f);return new a.Rect(o,f,p,h)},containsPoint:function(l,o){o=o||0;var f=this.getTopLeft(),p=this.getTopRight(),h=this.getBottomLeft(),u=p.minus(f),c=h.minus(f);return(l.x-f.x)*u.x+(l.y-f.y)*u.y>=-o&&(l.x-p.x)*u.x+(l.y-p.y)*u.y<=o&&(l.x-f.x)*c.x+(l.y-f.y)*c.y>=-o&&(l.x-h.x)*c.x+(l.y-h.y)*c.y<=o},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}})($),(function(a){var l={};a.ReferenceStrip=function(S){var C=this,_=S.viewer,z=a.getElementSize(_.element),R,M,X;for(S.id||(S.id="referencestrip-"+a.now(),this.element=a.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=a.extend(!0,{sizeRatio:a.DEFAULT_SETTINGS.referenceStripSizeRatio,position:a.DEFAULT_SETTINGS.referenceStripPosition,scroll:a.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),a.extend(this,S),l[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,M=this.element.style,M.marginTop="0px",M.marginRight="0px",M.marginBottom="0px",M.marginLeft="0px",M.left="0px",M.bottom="0px",M.border="0px",M.background="#000",M.position="relative",a.setElementTouchActionNone(this.element),a.setElementOpacity(this.element,.8),this.viewer=_,this.tracker=new a.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:a.delegate(this,o),dragHandler:a.delegate(this,f),scrollHandler:a.delegate(this,p),enterHandler:a.delegate(this,u),leaveHandler:a.delegate(this,c),keyDownHandler:a.delegate(this,d),keyHandler:a.delegate(this,v),preProcessEventHandler:function(N){N.eventType==="wheel"&&(N.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",_.addControl(this.element,{anchor:a.ControlAnchor.BOTTOM_LEFT})):S.scroll==="horizontal"?(this.element.style.width=z.x*S.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.height=z.y*S.sizeRatio+"px",_.addControl(this.element,{anchor:a.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=z.y*S.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.width=z.x*S.sizeRatio+"px",_.addControl(this.element,{anchor:a.ControlAnchor.TOP_LEFT})),this.panelWidth=z.x*this.sizeRatio+8,this.panelHeight=z.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},X=0;X<_.tileSources.length;X++)R=a.makeNeutralElement("div"),R.id=this.element.id+"-"+X,R.style.width=C.panelWidth+"px",R.style.height=C.panelHeight+"px",R.style.display="inline",R.style.float="left",R.style.cssFloat="left",R.style.styleFloat="left",R.style.padding="2px",a.setElementTouchActionNone(R),a.setElementPointerEventsNone(R),this.element.appendChild(R),R.activePanel=!1,this.panels.push(R);h(this,this.scroll==="vertical"?z.y:z.x,0),this.setFocus(0)},a.ReferenceStrip.prototype={setFocus:function(S){var C=this.element.querySelector("#"+this.element.id+"-"+S),_=a.getElementSize(this.viewer.canvas),z=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),M=-Number(this.element.style.marginLeft.replace("px","")),X=-Number(this.element.style.marginTop.replace("px","")),N;this.currentSelected!==C&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=C,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(N=Number(S)*(this.panelWidth+3),N>M+_.x-this.panelWidth?(N=Math.min(N,z-_.x),this.element.style.marginLeft=-N+"px",h(this,_.x,-N)):N<M&&(N=Math.max(0,N-_.x/2),this.element.style.marginLeft=-N+"px",h(this,_.x,-N))):(N=Number(S)*(this.panelHeight+3),N>X+_.y-this.panelHeight?(N=Math.min(N,R-_.y),this.element.style.marginTop=-N+"px",h(this,_.y,-N)):N<X&&(N=Math.max(0,N-_.y/2),this.element.style.marginTop=-N+"px",h(this,_.y,-N))),this.currentPage=S,u.call(this,{eventSource:this.tracker}))},update:function(){return!!l[this.id].animating},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function o(S){if(S.quick){var C;this.scroll==="horizontal"?C=Math.floor(S.position.x/(this.panelWidth+4)):C=Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(C)}this.element.focus()}function f(S){if(this.dragging=!0,this.element){var C=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),z=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),M=a.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-S.delta.x>0?C>-(z-M.x)&&(this.element.style.marginLeft=C+S.delta.x*2+"px",h(this,M.x,C+S.delta.x*2)):-S.delta.x<0&&C<0&&(this.element.style.marginLeft=C+S.delta.x*2+"px",h(this,M.x,C+S.delta.x*2)):-S.delta.y>0?_>-(R-M.y)&&(this.element.style.marginTop=_+S.delta.y*2+"px",h(this,M.y,_+S.delta.y*2)):-S.delta.y<0&&_<0&&(this.element.style.marginTop=_+S.delta.y*2+"px",h(this,M.y,_+S.delta.y*2))}}function p(S){if(this.element){var C=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),z=Number(this.element.style.width.replace("px","")),R=Number(this.element.style.height.replace("px","")),M=a.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?S.scroll>0?C>-(z-M.x)&&(this.element.style.marginLeft=C-S.scroll*60+"px",h(this,M.x,C-S.scroll*60)):S.scroll<0&&C<0&&(this.element.style.marginLeft=C-S.scroll*60+"px",h(this,M.x,C-S.scroll*60)):S.scroll<0?_>M.y-R&&(this.element.style.marginTop=_+S.scroll*60+"px",h(this,M.y,_+S.scroll*60)):S.scroll>0&&_<0&&(this.element.style.marginTop=_+S.scroll*60+"px",h(this,M.y,_+S.scroll*60)),S.preventDefault=!0}}function h(S,C,_){var z,R,M,X,N,ye;for(S.scroll==="horizontal"?z=S.panelWidth:z=S.panelHeight,R=Math.ceil(C/z)+5,M=Math.ceil((Math.abs(_)+C)/z)+1,R=M-R,R=R<0?0:R,N=R;N<M&&N<S.panels.length;N++)if(ye=S.panels[N],!ye.activePanel){var Re,be=S.viewer.tileSources[N];be.referenceStripThumbnailUrl?Re={type:"image",url:be.referenceStripThumbnailUrl}:Re=be,X=new a.Viewer({id:ye.id,tileSources:[Re],element:ye,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),a.setElementPointerEventsNone(X.canvas),a.setElementPointerEventsNone(X.container),X.innerTracker.setTracking(!1),X.outerTracker.setTracking(!1),S.miniViewers[ye.id]=X,ye.activePanel=!0}}function u(S){var C=S.eventSource.element;this.scroll==="horizontal"?C.style.marginBottom="0px":C.style.marginLeft="0px"}function c(S){var C=S.eventSource.element;this.scroll==="horizontal"?C.style.marginBottom="-"+a.getElementSize(C).y/2+"px":C.style.marginLeft="-"+a.getElementSize(C).x/2+"px"}function d(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 37:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 39:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function v(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 61:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 48:case 119:case 87:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 115:case 83:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 97:p.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 100:p.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}})($),(function(a){a.DisplayRect=function(l,o,f,p,h,u){a.Rect.apply(this,[l,o,f,p]),this.minLevel=h,this.maxLevel=u},a.extend(a.DisplayRect.prototype,a.Rect.prototype)})($),(function(a){a.Spring=function(o){var f=arguments;typeof o!="object"&&(o={initial:f.length&&typeof f[0]=="number"?f[0]:void 0,springStiffness:f.length>1?f[1].springStiffness:5,animationTime:f.length>1?f[1].animationTime:1.5}),a.console.assert(typeof o.springStiffness=="number"&&o.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),a.console.assert(typeof o.animationTime=="number"&&o.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),o.exponential&&(this._exponential=!0,delete o.exponential),a.extend(!0,this,o),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:a.now()},a.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},a.Spring.prototype={resetTo:function(o){a.console.assert(!this._exponential||o!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=o,this.start.time=this.target.time=this.current.time=a.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(o){a.console.assert(!this._exponential||o!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=o,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(o){this.start.value+=o,this.target.value+=o,this._exponential&&(a.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(o){this._exponential=o,this._exponential&&(a.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=a.now();var o,f;this._exponential?(o=this.start._logValue,f=this.target._logValue):(o=this.start.value,f=this.target.value);var p=this.current.time>=this.target.time?f:o+(f-o)*l(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),h=this.current.value;return this._exponential?this.current.value=Math.exp(p):this.current.value=p,h!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function l(o,f){return(1-Math.exp(o*-f))/(1-Math.exp(-o))}})($),(function(a){a.ImageJob=function(o){a.extend(!0,this,{timeout:a.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},o),this.data=null,this.userData={},this.errorMsg=null},a.ImageJob.prototype={start:function(){this.tries++;var o=this,f=this.abort;this.jobId=window.setTimeout(function(){o.finish(null,null,"Image load exceeded timeout ("+o.timeout+" ms)")},this.timeout),this.abort=function(){o.source.downloadTileAbort(o),typeof f=="function"&&f()},this.source.downloadTileStart(this)},finish:function(o,f,p){this.data=o,this.request=f,this.errorMsg=p,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},a.ImageLoader=function(o){a.extend(!0,this,{jobLimit:a.DEFAULT_SETTINGS.imageLoaderLimit,timeout:a.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},o)},a.ImageLoader.prototype={addJob:function(o){if(!o.source){a.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var f=a.TileSource.prototype;o.source={downloadTileStart:f.downloadTileStart,downloadTileAbort:f.downloadTileAbort}}var p=this,h=function(d){l(p,d,o.callback)},u={src:o.src,tile:o.tile||{},source:o.source,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.loadWithAjax?o.ajaxHeaders:null,crossOriginPolicy:o.crossOriginPolicy,ajaxWithCredentials:o.ajaxWithCredentials,postData:o.postData,callback:h,abort:o.abort,timeout:this.timeout},c=new a.ImageJob(u);!this.jobLimit||this.jobsInProgress<this.jobLimit?(c.start(),this.jobsInProgress++):this.jobQueue.push(c)},clear:function(){for(var o=0;o<this.jobQueue.length;o++){var f=this.jobQueue[o];typeof f.abort=="function"&&f.abort()}this.jobQueue=[]}};function l(o,f,p){f.errorMsg!==""&&(f.data===null||f.data===void 0)&&f.tries<1+o.tileRetryMax&&o.failedTiles.push(f);var h;o.jobsInProgress--,(!o.jobLimit||o.jobsInProgress<o.jobLimit)&&o.jobQueue.length>0&&(h=o.jobQueue.shift(),h.start(),o.jobsInProgress++),o.tileRetryMax>0&&o.jobQueue.length===0&&(!o.jobLimit||o.jobsInProgress<o.jobLimit)&&o.failedTiles.length>0&&(h=o.failedTiles.shift(),setTimeout(function(){h.start()},o.tileRetryDelay),o.jobsInProgress++),p(f.data,f.errorMsg,f.request)}})($),(function(a){a.Tile=function(l,o,f,p,h,u,c,d,v,S,C,_){this.level=l,this.x=o,this.y=f,this.bounds=p,this.sourceBounds=S,this.exists=h,this._url=u,this.postData=C,this.context2D=c,this.loadWithAjax=d,this.ajaxHeaders=v,_===void 0&&(a.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),_=a.TileSource.prototype.getTileHashKey(l,o,f,u,v,C)),this.cacheKey=_,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},a.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(l){if(!this.cacheImageRecord){a.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var o=this.getImage();if(!o)return;this.element=a.makeNeutralElement("div"),this.imgElement=o.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==l&&l.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),a.setElementOpacity(this.element,this.opacity)},get image(){return a.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return a.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(l,o,f,p,h,u){var c=this.position.times(a.pixelDensityRatio),d=this.size.times(a.pixelDensityRatio),v;if(!this.context2D&&!this.cacheImageRecord){a.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(v=this.getCanvasContext(),!this.loaded||!v){a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}l.save(),l.globalAlpha=this.opacity,typeof f=="number"&&f!==1&&(c=c.times(f),d=d.times(f)),p instanceof a.Point&&(c=c.plus(p)),l.globalAlpha===1&&this.hasTransparency&&(h&&(c.x=Math.round(c.x),c.y=Math.round(c.y),d.x=Math.round(d.x),d.y=Math.round(d.y)),l.clearRect(c.x,c.y,d.x,d.y)),o({context:l,tile:this,rendered:v});var S,C;this.sourceBounds?(S=Math.min(this.sourceBounds.width,v.canvas.width),C=Math.min(this.sourceBounds.height,v.canvas.height)):(S=v.canvas.width,C=v.canvas.height),l.translate(c.x+d.x/2,0),this.flipped&&l.scale(-1,1),l.drawImage(v.canvas,0,0,S,C,-d.x/2,c.y,d.x,d.y),l.restore()},getScaleForEdgeSmoothing:function(){var l;if(this.cacheImageRecord)l=this.cacheImageRecord.getRenderedContext();else if(this.context2D)l=this.context2D;else return a.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return l.canvas.width/(this.size.x*a.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(l,o,f){var p=Math.max(1,Math.ceil((f.x-o.x)/2)),h=Math.max(1,Math.ceil((f.y-o.y)/2));return new a.Point(p,h).minus(this.position.times(a.pixelDensityRatio).times(l||1).apply(function(u){return u%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}})($),(function(a){a.OverlayPlacement=a.Placement,a.OverlayRotationMode=a.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),a.Overlay=function(l,o,f){var p;a.isPlainObject(l)?p=l:p={element:l,location:o,placement:f},this.element=p.element,this.style=p.element.style,this._init(p)},a.Overlay.prototype={_init:function(l){this.location=l.location,this.placement=l.placement===void 0?a.Placement.TOP_LEFT:l.placement,this.onDraw=l.onDraw,this.checkResize=l.checkResize===void 0?!0:l.checkResize,this.width=l.width===void 0?null:l.width,this.height=l.height===void 0?null:l.height,this.rotationMode=l.rotationMode||a.OverlayRotationMode.EXACT,this.location instanceof a.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=a.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new a.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(l,o){var f=a.Placement.properties[this.placement];f&&(f.isHorizontallyCentered?l.x-=o.x/2:f.isRight&&(l.x-=o.x),f.isVerticallyCentered?l.y-=o.y/2:f.isBottom&&(l.y-=o.y))},destroy:function(){var l=this.element,o=this.style;l.parentNode&&(l.parentNode.removeChild(l),l.prevElementParent&&(o.display="none",document.body.appendChild(l))),this.onDraw=null,o.top="",o.left="",o.position="",this.width!==null&&(o.width=""),this.height!==null&&(o.height="");var f=a.getCssPropertyWithVendorPrefix("transformOrigin"),p=a.getCssPropertyWithVendorPrefix("transform");f&&p&&(o[f]="",o[p]="")},drawHTML:function(l,o){var f=this.element;f.parentNode!==l&&(f.prevElementParent=f.parentNode,f.prevNextSibling=f.nextSibling,l.appendChild(f),this.style.position="absolute",this.size=a.getElementSize(f));var p=this._getOverlayPositionAndSize(o),h=p.position,u=this.size=p.size,c=p.rotate;if(this.onDraw)this.onDraw(h,u,this.element);else{var d=this.style;d.left=h.x+"px",d.top=h.y+"px",this.width!==null&&(d.width=u.x+"px"),this.height!==null&&(d.height=u.y+"px");var v=a.getCssPropertyWithVendorPrefix("transformOrigin"),S=a.getCssPropertyWithVendorPrefix("transform");v&&S&&(c?(d[v]=this._getTransformOrigin(),d[S]="rotate("+c+"deg)"):(d[v]="",d[S]="")),d.display="block"}},_getOverlayPositionAndSize:function(l){var o=l.pixelFromPoint(this.location,!0),f=this._getSizeInPixels(l);this.adjust(o,f);var p=0;if(l.getRotation(!0)&&this.rotationMode!==a.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===a.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var h=new a.Rect(o.x,o.y,f.x,f.y),u=this._getBoundingBox(h,l.getRotation(!0));o=u.getTopLeft(),f=u.getSize()}else p=l.getRotation(!0);return{position:o,size:f,rotate:p}},_getSizeInPixels:function(l){var o=this.size.x,f=this.size.y;if(this.width!==null||this.height!==null){var p=l.deltaPixelsFromPointsNoRotate(new a.Point(this.width||0,this.height||0),!0);this.width!==null&&(o=p.x),this.height!==null&&(f=p.y)}if(this.checkResize&&(this.width===null||this.height===null)){var h=this.size=a.getElementSize(this.element);this.width===null&&(o=h.x),this.height===null&&(f=h.y)}return new a.Point(o,f)},_getBoundingBox:function(l,o){var f=this._getPlacementPoint(l);return l.rotate(o,f).getBoundingBox()},_getPlacementPoint:function(l){var o=new a.Point(l.x,l.y),f=a.Placement.properties[this.placement];return f&&(f.isHorizontallyCentered?o.x+=l.width/2:f.isRight&&(o.x+=l.width),f.isVerticallyCentered?o.y+=l.height/2:f.isBottom&&(o.y+=l.height)),o},_getTransformOrigin:function(){var l="",o=a.Placement.properties[this.placement];return o&&(o.isLeft?l="left":o.isRight&&(l="right"),o.isTop?l+=" top":o.isBottom&&(l+=" bottom")),l},update:function(l,o){var f=a.isPlainObject(l)?l:{location:l,placement:o};this._init({location:f.location||this.location,placement:f.placement!==void 0?f.placement:this.placement,onDraw:f.onDraw||this.onDraw,checkResize:f.checkResize||this.checkResize,width:f.width!==void 0?f.width:this.width,height:f.height!==void 0?f.height:this.height,rotationMode:f.rotationMode||this.rotationMode})},getBounds:function(l){a.console.assert(l,"A viewport must now be passed to Overlay.getBounds.");var o=this.width,f=this.height;if(o===null||f===null){var p=l.deltaPointsFromPixelsNoRotate(this.size,!0);o===null&&(o=p.x),f===null&&(f=p.y)}var h=this.location.clone();return this.adjust(h,new a.Point(o,f)),this._adjustBoundsForRotation(l,new a.Rect(h.x,h.y,o,f))},_adjustBoundsForRotation:function(l,o){if(!l||l.getRotation(!0)===0||this.rotationMode===a.OverlayRotationMode.EXACT)return o;if(this.rotationMode===a.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return o;var f=this._getOverlayPositionAndSize(l);return l.viewerElementToViewportRectangle(new a.Rect(f.position.x,f.position.y,f.size.x,f.size.y))}return o.rotate(-l.getRotation(!0),this._getPlacementPoint(o))}}})($),(function(a){a.Drawer=function(l){a.console.assert(l.viewer,"[Drawer] options.viewer is required");var o=arguments;if(a.isPlainObject(l)||(l={source:o[0],viewport:o[1],element:o[2]}),a.console.assert(l.viewport,"[Drawer] options.viewport is required"),a.console.assert(l.element,"[Drawer] options.element is required"),l.source&&a.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=l.viewer,this.viewport=l.viewport,this.debugGridColor=typeof l.debugGridColor=="string"?[l.debugGridColor]:l.debugGridColor||a.DEFAULT_SETTINGS.debugGridColor,l.opacity&&a.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=a.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=a.getElement(l.element),this.canvas=a.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var f=this._calculateCanvasSize();this.canvas.width=f.x,this.canvas.height=f.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",a.setElementOpacity(this.canvas,this.opacity,!0),a.setElementPointerEventsNone(this.canvas),a.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},a.Drawer.prototype={addOverlay:function(l,o,f,p){return a.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(l,o,f,p),this},updateOverlay:function(l,o,f){return a.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(l,o,f),this},removeOverlay:function(l){return a.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(l),this},clearOverlays:function(){return a.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(l){var o=this.viewport.pixelFromPointNoRotate(l,!0);return new a.Point(o.x*a.pixelDensityRatio,o.y*a.pixelDensityRatio)},clipWithPolygons:function(l,o){if(this.useCanvas){var f=this._getContext(o);f.beginPath(),l.forEach(function(p){p.forEach(function(h,u){f[u===0?"moveTo":"lineTo"](h.x,h.y)})}),f.clip()}},setOpacity:function(l){a.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var o=this.viewer.world,f=0;f<o.getItemCount();f++)o.getItemAt(f).setOpacity(l);return this},getOpacity:function(){a.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var l=this.viewer.world,o=0,f=0;f<l.getItemCount();f++){var p=l.getItemAt(f).getOpacity();p>o&&(o=p)}return o},needsUpdate:function(){return a.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return a.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return a.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return a.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var l=this._calculateCanvasSize();if((this.canvas.width!==l.x||this.canvas.height!==l.y)&&(this.canvas.width=l.x,this.canvas.height=l.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var o=this._calculateSketchCanvasSize();this.sketchCanvas.width=o.x,this.sketchCanvas.height=o.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(l,o){if(this.useCanvas){var f=this._getContext(l);if(o)f.clearRect(o.x,o.y,o.width,o.height);else{var p=f.canvas;f.clearRect(0,0,p.width,p.height)}}},viewportToDrawerRectangle:function(l){var o=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!0),f=this.viewport.deltaPixelsFromPointsNoRotate(l.getSize(),!0);return new a.Rect(o.x*a.pixelDensityRatio,o.y*a.pixelDensityRatio,f.x*a.pixelDensityRatio,f.y*a.pixelDensityRatio)},drawTile:function(l,o,f,p,h,u,c){if(a.console.assert(l,"[Drawer.drawTile] tile is required"),a.console.assert(o,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var d=this._getContext(f);p=p||1,l.drawCanvas(d,o,p,h,u,c)}else l.drawHTML(this.canvas)},_getContext:function(l){var o=this.context;if(l){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var f=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=f.x,this.sketchCanvas.height=f.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var p=this;this.viewer.addHandler("rotate",function h(){if(p.viewport.getRotation()!==0){p.viewer.removeHandler("rotate",h);var u=p._calculateSketchCanvasSize();p.sketchCanvas.width=u.x,p.sketchCanvas.height=u.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}o=this.sketchContext}return o},saveContext:function(l){this.useCanvas&&this._getContext(l).save()},restoreContext:function(l){this.useCanvas&&this._getContext(l).restore()},setClip:function(l,o){if(this.useCanvas){var f=this._getContext(o);f.beginPath(),f.rect(l.x,l.y,l.width,l.height),f.clip()}},drawRectangle:function(l,o,f){if(this.useCanvas){var p=this._getContext(f);p.save(),p.fillStyle=o,p.fillRect(l.x,l.y,l.width,l.height),p.restore()}},blendSketch:function(l,o,f,p){var h=l;if(a.isPlainObject(h)||(h={opacity:l,scale:o,translate:f,compositeOperation:p}),!(!this.useCanvas||!this.sketchCanvas)){l=h.opacity,p=h.compositeOperation;var u=h.bounds;if(this.context.save(),this.context.globalAlpha=l,p&&(this.context.globalCompositeOperation=p),u)u.x<0&&(u.width+=u.x,u.x=0),u.x+u.width>this.canvas.width&&(u.width=this.canvas.width-u.x),u.y<0&&(u.height+=u.y,u.y=0),u.y+u.height>this.canvas.height&&(u.height=this.canvas.height-u.y),this.context.drawImage(this.sketchCanvas,u.x,u.y,u.width,u.height,u.x,u.y,u.width,u.height);else{o=h.scale||1,f=h.translate;var c=f instanceof a.Point?f:new a.Point(0,0),d=0,v=0;if(f){var S=this.sketchCanvas.width-this.canvas.width,C=this.sketchCanvas.height-this.canvas.height;d=Math.round(S/2),v=Math.round(C/2)}this.context.drawImage(this.sketchCanvas,c.x-d*o,c.y-v*o,(this.canvas.width+2*d)*o,(this.canvas.height+2*v)*o,-d,-v,this.canvas.width+2*d,this.canvas.height+2*v)}this.context.restore()}},drawDebugInfo:function(l,o,f,p){if(this.useCanvas){var h=this.viewer.world.getIndexOfItem(p)%this.debugGridColor.length,u=this.context;u.save(),u.lineWidth=2*a.pixelDensityRatio,u.font="small-caps bold "+13*a.pixelDensityRatio+"px arial",u.strokeStyle=this.debugGridColor[h],u.fillStyle=this.debugGridColor[h],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),p.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:p.getRotation(!0),point:p.viewport.pixelFromPointNoRotate(p._getRotationPoint(!0),!0)}),p.viewport.getRotation(!0)%360===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),u.strokeRect(l.position.x*a.pixelDensityRatio,l.position.y*a.pixelDensityRatio,l.size.x*a.pixelDensityRatio,l.size.y*a.pixelDensityRatio);var c=(l.position.x+l.size.x/2)*a.pixelDensityRatio,d=(l.position.y+l.size.y/2)*a.pixelDensityRatio;u.translate(c,d),u.rotate(Math.PI/180*-this.viewport.getRotation(!0)),u.translate(-c,-d),l.x===0&&l.y===0&&(u.fillText("Zoom: "+this.viewport.getZoom(),l.position.x*a.pixelDensityRatio,(l.position.y-30)*a.pixelDensityRatio),u.fillText("Pan: "+this.viewport.getBounds().toString(),l.position.x*a.pixelDensityRatio,(l.position.y-20)*a.pixelDensityRatio)),u.fillText("Level: "+l.level,(l.position.x+10)*a.pixelDensityRatio,(l.position.y+20)*a.pixelDensityRatio),u.fillText("Column: "+l.x,(l.position.x+10)*a.pixelDensityRatio,(l.position.y+30)*a.pixelDensityRatio),u.fillText("Row: "+l.y,(l.position.x+10)*a.pixelDensityRatio,(l.position.y+40)*a.pixelDensityRatio),u.fillText("Order: "+f+" of "+o,(l.position.x+10)*a.pixelDensityRatio,(l.position.y+50)*a.pixelDensityRatio),u.fillText("Size: "+l.size.toString(),(l.position.x+10)*a.pixelDensityRatio,(l.position.y+60)*a.pixelDensityRatio),u.fillText("Position: "+l.position.toString(),(l.position.x+10)*a.pixelDensityRatio,(l.position.y+70)*a.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.viewport.getRotation(!0)%360===0&&p.getRotation(!0)%360===0&&p._drawer.viewer.viewport.getFlip()&&p._drawer._flip(),u.restore()}},debugRect:function(l){if(this.useCanvas){var o=this.context;o.save(),o.lineWidth=2*a.pixelDensityRatio,o.strokeStyle=this.debugGridColor[0],o.fillStyle=this.debugGridColor[0],o.strokeRect(l.x*a.pixelDensityRatio,l.y*a.pixelDensityRatio,l.width*a.pixelDensityRatio,l.height*a.pixelDensityRatio),o.restore()}},setImageSmoothingEnabled:function(l){this.useCanvas&&(this._imageSmoothingEnabled=l,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(l){l.msImageSmoothingEnabled=this._imageSmoothingEnabled,l.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(l){var o=this._getContext(l).canvas;return new a.Point(o.width,o.height)},getCanvasCenter:function(){return new a.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(l){var o=l.point?l.point.times(a.pixelDensityRatio):this.getCanvasCenter(),f=this._getContext(l.useSketch);f.save(),f.translate(o.x,o.y),this.viewer.viewport.flipped?(f.rotate(Math.PI/180*-l.degrees),f.scale(-1,1)):f.rotate(Math.PI/180*l.degrees),f.translate(-o.x,-o.y)},_flip:function(l){l=l||{};var o=l.point?l.point.times(a.pixelDensityRatio):this.getCanvasCenter(),f=this._getContext(l.useSketch);f.translate(o.x,0),f.scale(-1,1),f.translate(-o.x,0)},_restoreRotationChanges:function(l){var o=this._getContext(l);o.restore()},_calculateCanvasSize:function(){var l=a.pixelDensityRatio,o=this.viewport.getContainerSize();return{x:Math.round(o.x*l),y:Math.round(o.y*l)}},_calculateSketchCanvasSize:function(){var l=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return l;var o=Math.ceil(Math.sqrt(l.x*l.x+l.y*l.y));return{x:o,y:o}}}})($),(function(a){a.Viewport=function(l){var o=arguments;o.length&&o[0]instanceof a.Point&&(l={containerSize:o[0],contentSize:o[1],config:o[2]}),l.config&&(a.extend(!0,l,l.config),delete l.config),this._margins=a.extend({left:0,top:0,right:0,bottom:0},l.margins||{}),delete l.margins,l.initialDegrees=l.degrees,delete l.degrees,a.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:a.DEFAULT_SETTINGS.springStiffness,animationTime:a.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:a.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:a.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:a.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:a.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:a.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:a.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:a.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:a.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:a.DEFAULT_SETTINGS.degrees,flipped:a.DEFAULT_SETTINGS.flipped,homeFillsViewer:a.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:a.DEFAULT_SETTINGS.silenceMultiImageWarnings},l),this._updateContainerInnerSize(),this.centerSpringX=new a.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new a.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new a.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new a.Spring({initial:l.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new a.Rect(0,0,1,1),1),this.goHome(!0),this.update()},a.Viewport.prototype={get degrees(){return a.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(l){a.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(l)},resetContentSize:function(l){return a.console.assert(l,"[Viewport.resetContentSize] contentSize is required"),a.console.assert(l instanceof a.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),a.console.assert(l.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),a.console.assert(l.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new a.Rect(0,0,1,l.y/l.x),l.x),this},setHomeBounds:function(l,o){a.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(l,o)},_setContentBounds:function(l,o){a.console.assert(l,"[Viewport._setContentBounds] bounds is required"),a.console.assert(l instanceof a.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),a.console.assert(l.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),a.console.assert(l.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=l.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(o),this._contentBounds=l.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(o),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:o,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var l=this._contentAspectRatio/this.getAspectRatio(),o;return this.homeFillsViewer?o=l>=1?l:1:o=l>=1?1:l,o/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var l=this._contentBounds.getCenter(),o=1/this.getHomeZoom(),f=o/this.getAspectRatio();return new a.Rect(l.x-o/2,l.y-f/2,o,f)},goHome:function(l){return this.viewer&&this.viewer.raiseEvent("home",{immediately:l}),this.fitBounds(this.getHomeBounds(),l)},getMinZoom:function(){var l=this.getHomeZoom(),o=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*l;return o},getMaxZoom:function(){var l=this.maxZoomLevel;return l||(l=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,l/=this._contentBounds.width),Math.max(l,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new a.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return a.extend({},this._margins)},setMargins:function(l){a.console.assert(a.type(l)==="object","[Viewport.setMargins] margins must be an object"),this._margins=a.extend({left:0,top:0,right:0,bottom:0},l),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(l){return this.getBoundsNoRotate(l).rotate(-this.getRotation(l))},getBoundsNoRotate:function(l){var o=this.getCenter(l),f=1/this.getZoom(l),p=f/this.getAspectRatio();return new a.Rect(o.x-f/2,o.y-p/2,f,p)},getBoundsWithMargins:function(l){return this.getBoundsNoRotateWithMargins(l).rotate(-this.getRotation(l),this.getCenter(l))},getBoundsNoRotateWithMargins:function(l){var o=this.getBoundsNoRotate(l),f=this._containerInnerSize.x*this.getZoom(l);return o.x-=this._margins.left/f,o.y-=this._margins.top/f,o.width+=(this._margins.left+this._margins.right)/f,o.height+=(this._margins.top+this._margins.bottom)/f,o},getCenter:function(l){var o=new a.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),f=new a.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),p,h,u,c,d,v,S,C;return l?o:this.zoomPoint?(p=this.pixelFromPoint(this.zoomPoint,!0),h=this.getZoom(),u=1/h,c=u/this.getAspectRatio(),d=new a.Rect(o.x-u/2,o.y-c/2,u,c),v=this._pixelFromPoint(this.zoomPoint,d),S=v.minus(p).rotate(-this.getRotation(!0)),C=S.divide(this._containerInnerSize.x*h),f.plus(C)):f},getZoom:function(l){return l?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(l){return Math.max(Math.min(l,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(l){var o=this.viewportToViewerElementRectangle(l).getBoundingBox(),f=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),p=!1,h=!1;if(!this.wrapHorizontal){var u=o.x+o.width,c=f.x+f.width,d,v,S;o.width>f.width?d=this.visibilityRatio*f.width:d=this.visibilityRatio*o.width,v=f.x-u+d,S=c-o.x-d,d>f.width?(o.x+=(v+S)/2,p=!0):S<0?(o.x+=S,p=!0):v>0&&(o.x+=v,p=!0)}if(!this.wrapVertical){var C=o.y+o.height,_=f.y+f.height,z,R,M;o.height>f.height?z=this.visibilityRatio*f.height:z=this.visibilityRatio*o.height,R=f.y-C+z,M=_-o.y-z,z>f.height?(o.y+=(R+M)/2,h=!0):M<0?(o.y+=M,h=!0):R>0&&(o.y+=R,h=!0)}var X=p||h,N=X?this.viewerElementToViewportRectangle(o):l.clone();return N.xConstrained=p,N.yConstrained=h,N.constraintApplied=X,N},_raiseConstraintsEvent:function(l){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:l})},applyConstraints:function(l){var o=this.getZoom(),f=this._applyZoomConstraints(o);o!==f&&this.zoomTo(f,this.zoomPoint,l);var p=this.getConstrainedBounds(!1);return p.constraintApplied&&(this.fitBounds(p,l),this._raiseConstraintsEvent(l)),this},ensureVisible:function(l){return this.applyConstraints(l)},_fitBounds:function(l,o){o=o||{};var f=o.immediately||!1,p=o.constraints||!1,h=this.getAspectRatio(),u=l.getCenter(),c=new a.Rect(l.x,l.y,l.width,l.height,l.degrees+this.getRotation()).getBoundingBox();c.getAspectRatio()>=h?c.height=c.width/h:c.width=c.height*h,c.x=u.x-c.width/2,c.y=u.y-c.height/2;var d=1/c.width;if(f)return this.panTo(u,!0),this.zoomTo(d,null,!0),p&&this.applyConstraints(!0),this;var v=this.getCenter(!0),S=this.getZoom(!0);this.panTo(v,!0),this.zoomTo(S,null,!0);var C=this.getBounds(),_=this.getZoom();if(_===0||Math.abs(d/_-1)<1e-8)return this.zoomTo(d,null,!0),this.panTo(u,f),p&&this.applyConstraints(!1),this;if(p){this.panTo(u,!1),d=this._applyZoomConstraints(d),this.zoomTo(d,null,!1);var z=this.getConstrainedBounds();this.panTo(v,!0),this.zoomTo(S,null,!0),this.fitBounds(z)}else{var R=c.rotate(-this.getRotation()),M=R.getTopLeft().times(d).minus(C.getTopLeft().times(_)).divide(d-_);this.zoomTo(d,M,f)}return this},fitBounds:function(l,o){return this._fitBounds(l,{immediately:o,constraints:!1})},fitBoundsWithConstraints:function(l,o){return this._fitBounds(l,{immediately:o,constraints:!0})},fitVertically:function(l){var o=new a.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(o,l)},fitHorizontally:function(l){var o=new a.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(o,l)},getConstrainedBounds:function(l){var o,f;return o=this.getBounds(l),f=this._applyBoundaryConstraints(o),f},panBy:function(l,o){var f=new a.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(f.plus(l),o)},panTo:function(l,o){return o?(this.centerSpringX.resetTo(l.x),this.centerSpringY.resetTo(l.y)):(this.centerSpringX.springTo(l.x),this.centerSpringY.springTo(l.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:l,immediately:o}),this},zoomBy:function(l,o,f){return this.zoomTo(this.zoomSpring.target.value*l,o,f)},zoomTo:function(l,o,f){var p=this;return this.zoomPoint=o instanceof a.Point&&!isNaN(o.x)&&!isNaN(o.y)?o:null,f?this._adjustCenterSpringsForZoomPoint(function(){p.zoomSpring.resetTo(l)}):this.zoomSpring.springTo(l),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:l,refPoint:o,immediately:f}),this},setRotation:function(l,o){return this.rotateTo(l,null,o)},getRotation:function(l){return l?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(l,o,f){return this.rotateTo(l,o,f)},rotateTo:function(l,o,f){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===l&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=o instanceof a.Point&&!isNaN(o.x)&&!isNaN(o.y)?o:null,f)if(this.rotationPivot){var p=l-this._oldDegrees;if(!p)return this.rotationPivot=null,this;this._rotateAboutPivot(l)}else this.degreesSpring.resetTo(l);else{var h=a.positiveModulo(this.degreesSpring.current.value,360),u=a.positiveModulo(l,360),c=u-h;c>180?u-=360:c<-180&&(u+=360);var d=h-u;this.degreesSpring.resetTo(l+d),this.degreesSpring.springTo(l)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:l,immediately:!!f,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(l,o,f){return this.rotateTo(this.degreesSpring.target.value+l,o,f)},resize:function(l,o){var f=this.getBoundsNoRotate(),p=f,h;this.containerSize.x=l.x,this.containerSize.y=l.y,this._updateContainerInnerSize(),o&&(h=l.x/this.containerSize.x,p.width=f.width*h,p.height=p.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:l,maintain:o});var u=this.fitBounds(p,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:l,maintain:o}),u},_updateContainerInnerSize:function(){this._containerInnerSize=new a.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var l=this;this._adjustCenterSpringsForZoomPoint(function(){l.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var o=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,o},_rotateAboutPivot:function(l){var o=l===!0,f=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),o?this.degreesSpring.update():this.degreesSpring.resetTo(l);var p=this.degreesSpring.current.value-this._oldDegrees,h=f.rotate(p*-1).times(-1);this.centerSpringX.shiftBy(h.x),this.centerSpringY.shiftBy(h.y)},_adjustCenterSpringsForZoomPoint:function(l){if(this.zoomPoint){var o=this.pixelFromPoint(this.zoomPoint,!0);l();var f=this.pixelFromPoint(this.zoomPoint,!0),p=f.minus(o),h=this.deltaPointsFromPixels(p,!0);this.centerSpringX.shiftBy(h.x),this.centerSpringY.shiftBy(h.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else l()},deltaPixelsFromPointsNoRotate:function(l,o){return l.times(this._containerInnerSize.x*this.getZoom(o))},deltaPixelsFromPoints:function(l,o){return this.deltaPixelsFromPointsNoRotate(l.rotate(this.getRotation(o)),o)},deltaPointsFromPixelsNoRotate:function(l,o){return l.divide(this._containerInnerSize.x*this.getZoom(o))},deltaPointsFromPixels:function(l,o){return this.deltaPointsFromPixelsNoRotate(l,o).rotate(-this.getRotation(o))},pixelFromPointNoRotate:function(l,o){return this._pixelFromPointNoRotate(l,this.getBoundsNoRotate(o))},pixelFromPoint:function(l,o){return this._pixelFromPoint(l,this.getBoundsNoRotate(o))},_pixelFromPointNoRotate:function(l,o){return l.minus(o.getTopLeft()).times(this._containerInnerSize.x/o.width).plus(new a.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(l,o){return this._pixelFromPointNoRotate(l.rotate(this.getRotation(!0),this.getCenter(!0)),o)},pointFromPixelNoRotate:function(l,o){var f=this.getBoundsNoRotate(o);return l.minus(new a.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/f.width).plus(f.getTopLeft())},pointFromPixel:function(l,o){return this.pointFromPixelNoRotate(l,o).rotate(-this.getRotation(o),this.getCenter(o))},_viewportToImageDelta:function(l,o){var f=this._contentBoundsNoRotate.width;return new a.Point(l*this._contentSizeNoRotate.x/f,o*this._contentSizeNoRotate.x/f)},viewportToImageCoordinates:function(l,o){if(l instanceof a.Point)return this.viewportToImageCoordinates(l.x,l.y);if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(f===1){var p=this.viewer.world.getItemAt(0);return p.viewportToImageCoordinates(l,o,!0)}}return this._viewportToImageDelta(l-this._contentBoundsNoRotate.x,o-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(l,o){var f=this._contentBoundsNoRotate.width;return new a.Point(l/this._contentSizeNoRotate.x*f,o/this._contentSizeNoRotate.x*f)},imageToViewportCoordinates:function(l,o){if(l instanceof a.Point)return this.imageToViewportCoordinates(l.x,l.y);if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(f===1){var p=this.viewer.world.getItemAt(0);return p.imageToViewportCoordinates(l,o,!0)}}var h=this._imageToViewportDelta(l,o);return h.x+=this._contentBoundsNoRotate.x,h.y+=this._contentBoundsNoRotate.y,h},imageToViewportRectangle:function(l,o,f,p){var h=l;if(h instanceof a.Rect||(h=new a.Rect(l,o,f,p)),this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(u===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportRectangle(l,o,f,p,!0)}}var d=this.imageToViewportCoordinates(h.x,h.y),v=this._imageToViewportDelta(h.width,h.height);return new a.Rect(d.x,d.y,v.x,v.y,h.degrees)},viewportToImageRectangle:function(l,o,f,p){var h=l;if(h instanceof a.Rect||(h=new a.Rect(l,o,f,p)),this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(u===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageRectangle(l,o,f,p,!0)}}var d=this.viewportToImageCoordinates(h.x,h.y),v=this._viewportToImageDelta(h.width,h.height);return new a.Rect(d.x,d.y,v.x,v.y,h.degrees)},viewerElementToImageCoordinates:function(l){var o=this.pointFromPixel(l,!0);return this.viewportToImageCoordinates(o)},imageToViewerElementCoordinates:function(l){var o=this.imageToViewportCoordinates(l);return this.pixelFromPoint(o,!0)},windowToImageCoordinates:function(l){a.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var o=l.minus(a.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(o)},imageToWindowCoordinates:function(l){a.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var o=this.imageToViewerElementCoordinates(l);return o.plus(a.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(l){return this.pointFromPixel(l,!0)},viewportToViewerElementCoordinates:function(l){return this.pixelFromPoint(l,!0)},viewerElementToViewportRectangle:function(l){return a.Rect.fromSummits(this.pointFromPixel(l.getTopLeft(),!0),this.pointFromPixel(l.getTopRight(),!0),this.pointFromPixel(l.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(l){return a.Rect.fromSummits(this.pixelFromPoint(l.getTopLeft(),!0),this.pixelFromPoint(l.getTopRight(),!0),this.pixelFromPoint(l.getBottomLeft(),!0))},windowToViewportCoordinates:function(l){a.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var o=l.minus(a.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(o)},viewportToWindowCoordinates:function(l){a.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var o=this.viewportToViewerElementCoordinates(l);return o.plus(a.getElementPosition(this.viewer.element))},viewportToImageZoom:function(l){if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(o===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageZoom(l)}}var p=this._contentSizeNoRotate.x,h=this._containerInnerSize.x,u=this._contentBoundsNoRotate.width,c=h/p*u;return l*c},imageToViewportZoom:function(l){if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||a.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(o===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportZoom(l)}}var p=this._contentSizeNoRotate.x,h=this._containerInnerSize.x,u=this._contentBoundsNoRotate.width,c=p/h/u;return l*c},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(l){return this.flipped===l?this:(this.flipped=l,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:l}),this)}}})($),(function(a){a.TiledImage=function(h){var u=this;a.console.assert(h.tileCache,"[TiledImage] options.tileCache is required"),a.console.assert(h.drawer,"[TiledImage] options.drawer is required"),a.console.assert(h.viewer,"[TiledImage] options.viewer is required"),a.console.assert(h.imageLoader,"[TiledImage] options.imageLoader is required"),a.console.assert(h.source,"[TiledImage] options.source is required"),a.console.assert(!h.clip||h.clip instanceof a.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),a.EventSource.call(this),this._tileCache=h.tileCache,delete h.tileCache,this._drawer=h.drawer,delete h.drawer,this._imageLoader=h.imageLoader,delete h.imageLoader,h.clip instanceof a.Rect&&(this._clip=h.clip.clone()),delete h.clip;var c=h.x||0;delete h.x;var d=h.y||0;delete h.y,this.normHeight=h.source.dimensions.y/h.source.dimensions.x,this.contentAspectX=h.source.dimensions.x/h.source.dimensions.y;var v=1;h.width?(v=h.width,delete h.width,h.height&&(a.console.error("specifying both width and height to a tiledImage is not supported"),delete h.height)):h.height&&(v=h.height/this.normHeight,delete h.height);var S=h.fitBounds;delete h.fitBounds;var C=h.fitBoundsPlacement||$.Placement.CENTER;delete h.fitBoundsPlacement;var _=h.degrees||0;delete h.degrees;var z=h.ajaxHeaders;delete h.ajaxHeaders,a.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:a.DEFAULT_SETTINGS.springStiffness,animationTime:a.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:a.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:a.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:a.DEFAULT_SETTINGS.wrapVertical,immediateRender:a.DEFAULT_SETTINGS.immediateRender,blendTime:a.DEFAULT_SETTINGS.blendTime,alwaysBlend:a.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:a.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:a.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:a.DEFAULT_SETTINGS.iOSDevice,debugMode:a.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:a.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:a.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:a.DEFAULT_SETTINGS.placeholderFillStyle,opacity:a.DEFAULT_SETTINGS.opacity,preload:a.DEFAULT_SETTINGS.preload,compositeOperation:a.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:a.DEFAULT_SETTINGS.subPixelRoundingForTransparency},h),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new a.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new a.Spring({initial:d,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new a.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new a.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),S&&this.fitBounds(S,C,!0),this._drawingHandler=function(R){u.viewer.raiseEvent("tile-drawing",a.extend({tiledImage:u},R))},this._ownAjaxHeaders={},this.setAjaxHeaders(z,!1)},a.extend(a.TiledImage.prototype,a.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(h){h!==this._fullyLoaded&&(this._fullyLoaded=h,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=a.now(),this._needsDraw=!0},update:function(){var h=this._xSpring.update(),u=this._ySpring.update(),c=this._scaleSpring.update(),d=this._degreesSpring.update();return h||u||c||d?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(h){return this.getBoundsNoRotate(h).rotate(this.getRotation(h),this._getRotationPoint(h))},getBoundsNoRotate:function(h){return h?new a.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new a.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return a.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(h){var u=this.getBoundsNoRotate(h);if(this._clip){var c=h?this._worldWidthCurrent:this._worldWidthTarget,d=c/this.source.dimensions.x,v=this._clip.times(d);u=new a.Rect(u.x+v.x,u.y+v.y,v.width,v.height)}return u.rotate(this.getRotation(h),this._getRotationPoint(h))},getTileBounds:function(h,u,c){var d=this.source.getNumTiles(h),v=(d.x+u%d.x)%d.x,S=(d.y+c%d.y)%d.y,C=this.source.getTileBounds(h,v,S);return this.getFlip()&&(C.x=1-C.x-C.width),C.x+=(u-v)/d.x,C.y+=this._worldHeightCurrent/this._worldWidthCurrent*((c-S)/d.y),C},getContentSize:function(){return new a.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var h=this.imageToWindowCoordinates(new a.Point(0,0)),u=this.imageToWindowCoordinates(this.getContentSize());return new a.Point(u.x-h.x,u.y-h.y)},_viewportToImageDelta:function(h,u,c){var d=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new a.Point(h*(this.source.dimensions.x/d),u*(this.source.dimensions.y*this.contentAspectX/d))},viewportToImageCoordinates:function(h,u,c){var d;return h instanceof a.Point?(c=u,d=h):d=new a.Point(h,u),d=d.rotate(-this.getRotation(c),this._getRotationPoint(c)),c?this._viewportToImageDelta(d.x-this._xSpring.current.value,d.y-this._ySpring.current.value):this._viewportToImageDelta(d.x-this._xSpring.target.value,d.y-this._ySpring.target.value)},_imageToViewportDelta:function(h,u,c){var d=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new a.Point(h/this.source.dimensions.x*d,u/this.source.dimensions.y/this.contentAspectX*d)},imageToViewportCoordinates:function(h,u,c){h instanceof a.Point&&(c=u,u=h.y,h=h.x);var d=this._imageToViewportDelta(h,u);return c?(d.x+=this._xSpring.current.value,d.y+=this._ySpring.current.value):(d.x+=this._xSpring.target.value,d.y+=this._ySpring.target.value),d.rotate(this.getRotation(c),this._getRotationPoint(c))},imageToViewportRectangle:function(h,u,c,d,v){var S=h;S instanceof a.Rect?v=u:S=new a.Rect(h,u,c,d);var C=this.imageToViewportCoordinates(S.getTopLeft(),v),_=this._imageToViewportDelta(S.width,S.height,v);return new a.Rect(C.x,C.y,_.x,_.y,S.degrees+this.getRotation(v))},viewportToImageRectangle:function(h,u,c,d,v){var S=h;h instanceof a.Rect?v=u:S=new a.Rect(h,u,c,d);var C=this.viewportToImageCoordinates(S.getTopLeft(),v),_=this._viewportToImageDelta(S.width,S.height,v);return new a.Rect(C.x,C.y,_.x,_.y,S.degrees-this.getRotation(v))},viewerElementToImageCoordinates:function(h){var u=this.viewport.pointFromPixel(h,!0);return this.viewportToImageCoordinates(u)},imageToViewerElementCoordinates:function(h){var u=this.imageToViewportCoordinates(h);return this.viewport.pixelFromPoint(u,!0)},windowToImageCoordinates:function(h){var u=h.minus($.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(u)},imageToWindowCoordinates:function(h){var u=this.imageToViewerElementCoordinates(h);return u.plus($.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(h){var u=this._scaleSpring.current.value;return h=h.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new a.Rect((h.x-this._xSpring.current.value)/u,(h.y-this._ySpring.current.value)/u,h.width/u,h.height/u,h.degrees)},viewportToImageZoom:function(h){var u=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return u*h},imageToViewportZoom:function(h){var u=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return h/u},setPosition:function(h,u){var c=this._xSpring.target.value===h.x&&this._ySpring.target.value===h.y;if(u){if(c&&this._xSpring.current.value===h.x&&this._ySpring.current.value===h.y)return;this._xSpring.resetTo(h.x),this._ySpring.resetTo(h.y),this._needsDraw=!0}else{if(c)return;this._xSpring.springTo(h.x),this._ySpring.springTo(h.y),this._needsDraw=!0}c||this._raiseBoundsChange()},setWidth:function(h,u){this._setScale(h,u)},setHeight:function(h,u){this._setScale(h/this.normHeight,u)},setCroppingPolygons:function(h){var u=function(d){return d instanceof a.Point||typeof d.x=="number"&&typeof d.y=="number"},c=function(d){return d.map(function(v){try{if(u(v))return{x:v.x,y:v.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!a.isArray(h))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=h.map(function(d){return c(d)})}catch(d){a.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),a.console.error(d),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(h,u,c){u=u||a.Placement.CENTER;var d=a.Placement.properties[u],v=this.contentAspectX,S=0,C=0,_=1,z=1;if(this._clip&&(v=this._clip.getAspectRatio(),_=this._clip.width/this.source.dimensions.x,z=this._clip.height/this.source.dimensions.y,h.getAspectRatio()>v?(S=this._clip.x/this._clip.height*h.height,C=this._clip.y/this._clip.height*h.height):(S=this._clip.x/this._clip.width*h.width,C=this._clip.y/this._clip.width*h.width)),h.getAspectRatio()>v){var R=h.height/z,M=0;d.isHorizontallyCentered?M=(h.width-h.height*v)/2:d.isRight&&(M=h.width-h.height*v),this.setPosition(new a.Point(h.x-S+M,h.y-C),c),this.setHeight(R,c)}else{var X=h.width/_,N=0;d.isVerticallyCentered?N=(h.height-h.width/v)/2:d.isBottom&&(N=h.height-h.width/v),this.setPosition(new a.Point(h.x-S,h.y-C+N),c),this.setWidth(X,c)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(h){a.console.assert(!h||h instanceof a.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),h instanceof a.Rect?this._clip=h.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(h){this.flipped=!!h,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(h){h!==this.opacity&&(this.opacity=h,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(h){this._preload=!!h,this._needsDraw=!0},getRotation:function(h){return h?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(h,u){this._degreesSpring.target.value===h&&this._degreesSpring.isAtTargetValue()||(u?this._degreesSpring.resetTo(h):this._degreesSpring.springTo(h),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(h){return this.getBoundsNoRotate(h).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(h){h!==this.compositeOperation&&(this.compositeOperation=h,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(h,u){if(h===null&&(h={}),!a.isPlainObject(h)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=h,this._updateAjaxHeaders(u)},_updateAjaxHeaders:function(h){if(h===void 0&&(h=!0),a.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=a.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,h){var u,c,d,v;for(var S in this.tilesMatrix){u=this.source.getNumTiles(S);for(var C in this.tilesMatrix[S]){c=(u.x+C%u.x)%u.x;for(var _ in this.tilesMatrix[S][C])if(d=(u.y+_%u.y)%u.y,v=this.tilesMatrix[S][C][_],v.loadWithAjax=this.loadTilesWithAjax,v.loadWithAjax){var z=this.source.getTileAjaxHeaders(S,c,d);v.ajaxHeaders=a.extend({},this.ajaxHeaders,z)}else v.ajaxHeaders=null}}for(var R=0;R<this._imageLoader.jobQueue.length;R++){var M=this._imageLoader.jobQueue[R];M.loadWithAjax=M.tile.loadWithAjax,M.ajaxHeaders=M.tile.loadWithAjax?M.tile.ajaxHeaders:null}}},_setScale:function(h,u){var c=this._scaleSpring.target.value===h;if(u){if(c&&this._scaleSpring.current.value===h)return;this._scaleSpring.resetTo(h),this._updateForScale(),this._needsDraw=!0}else{if(c)return;this._scaleSpring.springTo(h),this._updateForScale(),this._needsDraw=!0}c||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var h=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),u=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,c=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(u/this.minPixelRatio)/Math.log(2))));return c=Math.max(c,this.source.minLevel||0),h=Math.min(h,c),{lowestLevel:h,highestLevel:c}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var h=this.lastDrawn.pop();h.beingDrawn=!1}var u=this.viewport,c=this._viewportToTiledImageRectangle(u.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var d=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(c=c.intersection(d),c===null)return}for(var v=this._getLevelsInterval(),S=v.lowestLevel,C=v.highestLevel,_=null,z=!1,R=a.now(),M=C;M>=S;M--){var X=!1,N=u.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(M),!0).x*this._scaleSpring.current.value;if(M===S||!z&&N>=this.minPixelRatio)X=!0,z=!0;else if(!z)continue;var ye=u.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(M),!1).x*this._scaleSpring.current.value,Re=u.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,be=this.immediateRender?1:Re,oe=Math.min(1,(N-.5)/.5),xe=be/Math.abs(be-ye);if(_=this._updateLevel(z,X,M,oe,xe,c,R,_),this._providesCoverage(this.coverage,M))break}this._drawTiles(this.lastDrawn),_&&!_.context2D?(this._loadTile(_,R),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(h,u,c){var d,v;this.wrapHorizontal?(d=a.positiveModulo(u.x,1),v=a.positiveModulo(c.x,1)):(d=Math.max(0,u.x),v=Math.min(1,c.x));var S,C,_=1/this.source.aspectRatio;this.wrapVertical?(S=a.positiveModulo(u.y,_),C=a.positiveModulo(c.y,_)):(S=Math.max(0,u.y),C=Math.min(_,c.y));var z=this.source.getTileAtPoint(h,new a.Point(d,S)),R=this.source.getTileAtPoint(h,new a.Point(v,C)),M=this.source.getNumTiles(h);return this.wrapHorizontal&&(z.x+=M.x*Math.floor(u.x),R.x+=M.x*Math.floor(c.x)),this.wrapVertical&&(z.y+=M.y*Math.floor(u.y/_),R.y+=M.y*Math.floor(c.y/_)),{topLeft:z,bottomRight:R}},_updateLevel:function(h,u,c,d,v,S,C,_){var z=S.getBoundingBox().getTopLeft(),R=S.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:h,level:c,opacity:d,visibility:v,drawArea:S,topleft:z,bottomright:R,currenttime:C,best:_}),this._resetCoverage(this.coverage,c),this._resetCoverage(this.loadingCoverage,c);var M=this._getCornerTiles(c,z,R),X=M.topLeft,N=M.bottomRight,ye=this.source.getNumTiles(c),Re=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(N.x+=1,this.wrapHorizontal||(N.x=Math.min(N.x,ye.x-1)));for(var be=X.x;be<=N.x;be++)for(var oe=X.y;oe<=N.y;oe++){var xe;if(this.getFlip()){var _e=(ye.x+be%ye.x)%ye.x;xe=be+ye.x-_e-_e-1}else xe=be;S.intersection(this.getTileBounds(c,xe,oe))!==null&&(_=this._updateTile(u,h,xe,oe,c,d,v,Re,ye,C,_))}return _},_updateTile:function(h,u,c,d,v,S,C,_,z,R,M){var X=this._getTile(c,d,v,R,z,this._worldWidthCurrent,this._worldHeightCurrent),N=u;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:X}),this._setCoverage(this.coverage,v,c,d,!1);var ye=X.loaded||X.loading||this._isCovered(this.loadingCoverage,v,c,d);if(this._setCoverage(this.loadingCoverage,v,c,d,ye),!X.exists||(h&&!N&&(this._isCovered(this.coverage,v,c,d)?this._setCoverage(this.coverage,v,c,d,!0):N=!0),!N))return M;if(this._positionTile(X,this.source.tileOverlap,this.viewport,_,C),!X.loaded)if(X.context2D)this._setTileLoaded(X);else{var Re=this._tileCache.getImageRecord(X.cacheKey);Re&&this._setTileLoaded(X,Re.getData())}if(X.loaded){var be=this._blendTile(X,c,d,v,S,R);be&&(this._needsDraw=!0)}else X.loading?this._tilesLoading++:ye||(M=this._compareTiles(M,X));return M},_getTile:function(h,u,c,d,v,S,C){var _,z,R,M,X,N,ye,Re,be,oe,xe=this.tilesMatrix,_e=this.source;return xe[c]||(xe[c]={}),xe[c][h]||(xe[c][h]={}),(!xe[c][h][u]||!xe[c][h][u].flipped!=!this.flipped)&&(_=(v.x+h%v.x)%v.x,z=(v.y+u%v.y)%v.y,R=this.getTileBounds(c,h,u),M=_e.getTileBounds(c,_,z,!0),X=_e.tileExists(c,_,z),N=_e.getTileUrl(c,_,z),ye=_e.getTilePostData(c,_,z),this.loadTilesWithAjax?(Re=_e.getTileAjaxHeaders(c,_,z),a.isPlainObject(this.ajaxHeaders)&&(Re=a.extend({},this.ajaxHeaders,Re))):Re=null,be=_e.getContext2D?_e.getContext2D(c,_,z):void 0,oe=new a.Tile(c,h,u,R,X,N,be,this.loadTilesWithAjax,Re,M,ye,_e.getTileHashKey(c,_,z,N,Re,ye)),this.getFlip()?_===0&&(oe.isRightMost=!0):_===v.x-1&&(oe.isRightMost=!0),z===v.y-1&&(oe.isBottomMost=!0),oe.flipped=this.flipped,xe[c][h][u]=oe),oe=xe[c][h][u],oe.lastTouchTime=d,oe},_loadTile:function(h,u){var c=this;h.loading=!0,this._imageLoader.addJob({src:h.getUrl(),tile:h,source:this.source,postData:h.postData,loadWithAjax:h.loadWithAjax,ajaxHeaders:h.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(d,v,S){c._onTileLoad(h,u,d,v,S)},abort:function(){h.loading=!1}})},_onTileLoad:function(h,u,c,d,v){if(c)h.exists=!0;else{a.console.error("Tile %s failed to load: %s - error: %s",h,h.getUrl(),d),this.viewer.raiseEvent("tile-load-failed",{tile:h,tiledImage:this,time:u,message:d,tileRequest:v}),h.loading=!1,h.exists=!1;return}if(u<this.lastResetTime){a.console.warn("Ignoring tile %s loaded before reset: %s",h,h.getUrl()),h.loading=!1;return}var S=this,C=function(){var _=S.source,z=_.getClosestLevel();S._setTileLoaded(h,c,z,v)};this._midDraw?window.setTimeout(C,1):C()},_setTileLoaded:function(h,u,c,d){var v=0,S=!1,C=this;function _(){return S&&a.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),v++,z}function z(){v--,v===0&&(h.loading=!1,h.loaded=!0,h.hasTransparency=C.source.hasTransparency(h.context2D,h.getUrl(),h.ajaxHeaders,h.postData),h.context2D||C._tileCache.cacheTile({data:u,tile:h,cutoff:c,tiledImage:C}),C._needsDraw=!0)}var R=_();this.viewer.raiseEvent("tile-loaded",{tile:h,tiledImage:this,tileRequest:d,get image(){return a.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),u},data:u,getCompletionCallback:_}),S=!0,R()},_positionTile:function(h,u,c,d,v){var S=h.bounds.getTopLeft();S.x*=this._scaleSpring.current.value,S.y*=this._scaleSpring.current.value,S.x+=this._xSpring.current.value,S.y+=this._ySpring.current.value;var C=h.bounds.getSize();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value;var _=c.pixelFromPointNoRotate(S,!0),z=c.pixelFromPointNoRotate(S,!1),R=c.deltaPixelsFromPointsNoRotate(C,!0),M=c.deltaPixelsFromPointsNoRotate(C,!1),X=z.plus(M.divide(2)),N=d.squaredDistanceTo(X);u||(R=R.plus(new a.Point(1,1))),h.isRightMost&&this.wrapHorizontal&&(R.x+=.75),h.isBottomMost&&this.wrapVertical&&(R.y+=.75),h.position=_,h.size=R,h.squaredDistance=N,h.visibility=v},_blendTile:function(h,u,c,d,v,S){var C=1e3*this.blendTime,_,z;if(h.blendStart||(h.blendStart=S),_=S-h.blendStart,z=C?Math.min(1,_/C):1,this.alwaysBlend&&(z*=v),h.opacity=z,this.lastDrawn.push(h),z===1)this._setCoverage(this.coverage,d,u,c,!0),this._hasOpaqueTile=!0;else if(_<C)return!0;return!1},_compareTiles:function(h,u){return!h||u.visibility>h.visibility||u.visibility===h.visibility&&u.squaredDistance<h.squaredDistance?u:h},_drawTiles:function(h){if(!(this.opacity===0||h.length===0&&!this.placeholderFillStyle)){var u=h[0],c;u&&(c=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(u.context2D,u.getUrl(),u.ajaxHeaders,u.postData));var d,v,S=this.viewport.getZoom(!0),C=this.viewportToImageZoom(S);h.length>1&&C>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&a.supportsCanvas&&this.viewer.useCanvas&&(c=!0,d=u.getScaleForEdgeSmoothing(),v=u.getTranslationForEdgeSmoothing(d,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var _;c&&(d||(_=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(_.x=this._drawer.viewer.container.clientWidth-(_.x+_.width)),_=_.times(a.pixelDensityRatio)),this._drawer._clear(!0,_)),d||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:c}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:c}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var z=!1;if(this._clip){this._drawer.saveContext(c);var R=this.imageToViewportRectangle(this._clip,!0);R=R.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var M=this._drawer.viewportToDrawerRectangle(R);d&&(M=M.times(d)),v&&(M=M.translate(v)),this._drawer.setClip(M,c),z=!0}if(this._croppingPolygons){var X=this;this._drawer.saveContext(c);try{var N=this._croppingPolygons.map(function(lt){return lt.map(function(Xe){var Pe=X.imageToViewportCoordinates(Xe.x,Xe.y,!0).rotate(-X.getRotation(!0),X._getRotationPoint(!0)),mt=X._drawer.viewportCoordToDrawerCoord(Pe);return d&&(mt=mt.times(d)),v&&(mt=mt.plus(v)),mt})});this._drawer.clipWithPolygons(N,c)}catch(lt){a.console.error(lt)}z=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var ye=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));d&&(ye=ye.times(d)),v&&(ye=ye.translate(v));var Re=null;typeof this.placeholderFillStyle=="function"?Re=this.placeholderFillStyle(this,this._drawer.context):Re=this.placeholderFillStyle,this._drawer.drawRectangle(ye,Re,c)}var be=p(this.subPixelRoundingForTransparency),oe=!1;if(be===a.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)oe=!0;else if(be===a.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var xe=this.viewer&&this.viewer.isAnimating();oe=!xe}for(var _e=h.length-1;_e>=0;_e--)u=h[_e],this._drawer.drawTile(u,this._drawingHandler,c,d,v,oe,this.source),u.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:u});z&&this._drawer.restoreContext(c),d||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(c),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(c)),c&&(d&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:d,translate:v,compositeOperation:this.compositeOperation,bounds:_}),d&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),d||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(h)}},_drawDebugInfo:function(h){if(this.debugMode)for(var u=h.length-1;u>=0;u--){var c=h[u];try{this._drawer.drawDebugInfo(c,h.length,u,this)}catch(d){a.console.error(d)}}},_providesCoverage:function(h,u,c,d){var v,S,C,_;if(!h[u])return!1;if(c===void 0||d===void 0){v=h[u];for(C in v)if(Object.prototype.hasOwnProperty.call(v,C)){S=v[C];for(_ in S)if(Object.prototype.hasOwnProperty.call(S,_)&&!S[_])return!1}return!0}return h[u][c]===void 0||h[u][c][d]===void 0||h[u][c][d]===!0},_isCovered:function(h,u,c,d){return c===void 0||d===void 0?this._providesCoverage(h,u+1):this._providesCoverage(h,u+1,2*c,2*d)&&this._providesCoverage(h,u+1,2*c,2*d+1)&&this._providesCoverage(h,u+1,2*c+1,2*d)&&this._providesCoverage(h,u+1,2*c+1,2*d+1)},_setCoverage:function(h,u,c,d,v){if(!h[u]){a.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",u);return}h[u][c]||(h[u][c]={}),h[u][c][d]=v},_resetCoverage:function(h,u){h[u]={}}});var l=a.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function o(h){return h!==a.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&h!==a.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&h!==a.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function f(h){return o(h)?l:h}function p(h){if(typeof h=="number")return f(h);if(!h||!a.Browser)return l;var u=h[a.Browser.vendor];return o(u)&&(u=h["*"]),f(u)}})($),(function(a){var l=function(f){a.console.assert(f,"[TileCache.cacheTile] options is required"),a.console.assert(f.tile,"[TileCache.cacheTile] options.tile is required"),a.console.assert(f.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=f.tile,this.tiledImage=f.tiledImage},o=function(f){a.console.assert(f,"[ImageRecord] options is required"),a.console.assert(f.data,"[ImageRecord] options.data is required"),this._tiles=[],f.create.apply(null,[this,f.data,f.ownerTile]),this._destroyImplementation=f.destroy.bind(null,this),this.getImage=f.getImage.bind(null,this),this.getData=f.getData.bind(null,this),this.getRenderedContext=f.getRenderedContext.bind(null,this)};o.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(f){a.console.assert(f,"[ImageRecord.addTile] tile is required"),this._tiles.push(f)},removeTile:function(f){for(var p=0;p<this._tiles.length;p++)if(this._tiles[p]===f){this._tiles.splice(p,1);return}a.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",f)},getTileCount:function(){return this._tiles.length}},a.TileCache=function(f){f=f||{},this._maxImageCacheCount=f.maxImageCacheCount||a.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},a.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(f){a.console.assert(f,"[TileCache.cacheTile] options is required"),a.console.assert(f.tile,"[TileCache.cacheTile] options.tile is required"),a.console.assert(f.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),a.console.assert(f.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var p=f.cutoff||0,h=this._tilesLoaded.length,u=this._imagesLoaded[f.tile.cacheKey];if(u||(f.data||(a.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),f.data=f.image),a.console.assert(f.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),u=this._imagesLoaded[f.tile.cacheKey]=new o({data:f.data,ownerTile:f.tile,create:f.tiledImage.source.createTileCache,destroy:f.tiledImage.source.destroyTileCache,getImage:f.tiledImage.source.getTileCacheDataAsImage,getData:f.tiledImage.source.getTileCacheData,getRenderedContext:f.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),u.addTile(f.tile),f.tile.cacheImageRecord=u,this._imagesLoadedCount>this._maxImageCacheCount){for(var c=null,d=-1,v=null,S,C,_,z,R,M,X=this._tilesLoaded.length-1;X>=0;X--)if(M=this._tilesLoaded[X],S=M.tile,!(S.level<=p||S.beingDrawn)){if(!c){c=S,d=X,v=M;continue}z=S.lastTouchTime,C=c.lastTouchTime,R=S.level,_=c.level,(z<C||z===C&&R>_)&&(c=S,d=X,v=M)}c&&d>=0&&(this._unloadTile(v),h=d)}this._tilesLoaded[h]=new l({tile:f.tile,tiledImage:f.tiledImage})},clearTilesFor:function(f){a.console.assert(f,"[TileCache.clearTilesFor] tiledImage is required");for(var p,h=0;h<this._tilesLoaded.length;++h)p=this._tilesLoaded[h],p.tiledImage===f&&(this._unloadTile(p),this._tilesLoaded.splice(h,1),h--)},getImageRecord:function(f){return a.console.assert(f,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[f]},_unloadTile:function(f){a.console.assert(f,"[TileCache._unloadTile] tileRecord is required");var p=f.tile,h=f.tiledImage;p.unload(),p.cacheImageRecord=null;var u=this._imagesLoaded[p.cacheKey];u.removeTile(p),u.getTileCount()||(u.destroy(),delete this._imagesLoaded[p.cacheKey],this._imagesLoadedCount--),h.viewer.raiseEvent("tile-unloaded",{tile:p,tiledImage:h})}}})($),(function(a){a.World=function(l){var o=this;a.console.assert(l.viewer,"[World] options.viewer is required"),a.EventSource.call(this),this.viewer=l.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(f){o._autoRefigureSizes?o._figureSizes():o._needsSizesFigured=!0},this._figureSizes()},a.extend(a.World.prototype,a.EventSource.prototype,{addItem:function(l,o){if(a.console.assert(l,"[World.addItem] item is required"),a.console.assert(l instanceof a.TiledImage,"[World.addItem] only TiledImages supported at this time"),o=o||{},o.index!==void 0){var f=Math.max(0,Math.min(this._items.length,o.index));this._items.splice(f,0,l)}else this._items.push(l);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,l.addHandler("bounds-change",this._delegatedFigureSizes),l.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:l})},getItemAt:function(l){return a.console.assert(l!==void 0,"[World.getItemAt] index is required"),this._items[l]},getIndexOfItem:function(l){return a.console.assert(l,"[World.getIndexOfItem] item is required"),a.indexOf(this._items,l)},getItemCount:function(){return this._items.length},setItemIndex:function(l,o){a.console.assert(l,"[World.setItemIndex] item is required"),a.console.assert(o!==void 0,"[World.setItemIndex] index is required");var f=this.getIndexOfItem(l);if(o>=this._items.length)throw new Error("Index bigger than number of layers.");o===f||f===-1||(this._items.splice(f,1),this._items.splice(o,0,l),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:l,previousIndex:f,newIndex:o}))},removeItem:function(l){a.console.assert(l,"[World.removeItem] item is required");var o=a.indexOf(this._items,l);o!==-1&&(l.removeHandler("bounds-change",this._delegatedFigureSizes),l.removeHandler("clip-change",this._delegatedFigureSizes),l.destroy(),this._items.splice(o,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(l))},removeAll:function(){this.viewer._cancelPendingImages();var l,o;for(o=0;o<this._items.length;o++)l=this._items[o],l.removeHandler("bounds-change",this._delegatedFigureSizes),l.removeHandler("clip-change",this._delegatedFigureSizes),l.destroy();var f=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,o=0;o<f.length;o++)l=f[o],this._raiseRemoveItem(l)},resetItems:function(){for(var l=0;l<this._items.length;l++)this._items[l].reset()},update:function(){for(var l=!1,o=0;o<this._items.length;o++)l=this._items[o].update()||l;return l},draw:function(){for(var l=0;l<this._items.length;l++)this._items[l].draw();this._needsDraw=!1},needsDraw:function(){for(var l=0;l<this._items.length;l++)if(this._items[l].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(l){this._autoRefigureSizes=l,l&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(l){l=l||{};var o=l.immediately||!1,f=l.layout||a.DEFAULT_SETTINGS.collectionLayout,p=l.rows||a.DEFAULT_SETTINGS.collectionRows,h=l.columns||a.DEFAULT_SETTINGS.collectionColumns,u=l.tileSize||a.DEFAULT_SETTINGS.collectionTileSize,c=l.tileMargin||a.DEFAULT_SETTINGS.collectionTileMargin,d=u+c,v;!l.rows&&h?v=h:v=Math.ceil(this._items.length/p);var S=0,C=0,_,z,R,M,X;this.setAutoRefigureSizes(!1);for(var N=0;N<this._items.length;N++)N&&N%v===0&&(f==="horizontal"?(C+=d,S=0):(S+=d,C=0)),_=this._items[N],z=_.getBounds(),z.width>z.height?R=u:R=u*(z.width/z.height),M=R*(z.height/z.width),X=new a.Point(S+(u-R)/2,C+(u-M)/2),_.setPosition(X,o),_.setWidth(R,o),f==="horizontal"?S+=d:C+=d;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var l=this._homeBounds?this._homeBounds.clone():null,o=this._contentSize?this._contentSize.clone():null,f=this._contentFactor||0;if(!this._items.length)this._homeBounds=new a.Rect(0,0,1,1),this._contentSize=new a.Point(1,1),this._contentFactor=1;else{var p=this._items[0],h=p.getBounds();this._contentFactor=p.getContentSize().x/h.width;for(var u=p.getClippedBounds().getBoundingBox(),c=u.x,d=u.y,v=u.x+u.width,S=u.y+u.height,C=1;C<this._items.length;C++)p=this._items[C],h=p.getBounds(),this._contentFactor=Math.max(this._contentFactor,p.getContentSize().x/h.width),u=p.getClippedBounds().getBoundingBox(),c=Math.min(c,u.x),d=Math.min(d,u.y),v=Math.max(v,u.x+u.width),S=Math.max(S,u.y+u.height);this._homeBounds=new a.Rect(c,d,v-c,S-d),this._contentSize=new a.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==f||!this._homeBounds.equals(l)||!this._contentSize.equals(o))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(l){this.raiseEvent("remove-item",{item:l})}})})($)})(xs)),xs.exports}var zm=Dm();const sl=Fo(zm),Om=()=>{const[ne,$]=we.useState(!1),[a,l]=we.useState(!1),[o,f]=we.useState([]),[p,h]=we.useState([]),[u,c]=we.useState(null),[d,v]=we.useState(null),[S,C]=we.useState(!0),[_,z]=we.useState(!1),[R,M]=we.useState(null),X=we.useRef(null),[N,ye]=we.useState(null),Re=we.useRef(null),[be,oe]=we.useState(!1),[xe,_e]=we.useState(null),[lt,Xe]=we.useState(!1),[Pe,mt]=we.useState(!0),[ht,yt]=we.useState(0),G=we.useRef(null),[te,de]=we.useState([]),He=we.useRef(!1),[pe,O]=we.useState([]),[Y,Q]=we.useState("positive"),[re,ve]=we.useState(!1),[De,Ae]=we.useState(0),[Be,We]=we.useState([]),[bt,Rt]=we.useState(!1),[oi,Ti]=we.useState([]),[Ht,ui]=we.useState(!1),ot=we.useRef(null),m=we.useRef("positive"),E=we.useRef(new Set),[B,ee]=we.useState(0),[K,me]=we.useState([]),[ie,Ce]=we.useState(!1),[Le,Ke]=we.useState(100),[ge,ke]=we.useState(null),T=2.5,y=pe.filter(U=>U.label==="positive").length,x=pe.filter(U=>U.label==="negative").length,b=y===4&&x===4,q="/api";we.useEffect(()=>{if(N&&a&&te.length>0){const U=window.setTimeout(()=>{ji()},50);return()=>window.clearTimeout(U)}},[pe]),we.useEffect(()=>{m.current=Y},[Y]),we.useEffect(()=>{console.log("=== STATE UPDATE ==="),console.log("Total samples:",pe.length),console.log("Positive:",y),console.log("Negative:",x),console.log("Current label:",Y),console.log("Samples:",pe.map(U=>`${U.index}(${U.label})`)),console.log("==================")},[pe,Y]),we.useEffect(()=>{if(!N||Be.length===0)return;const U=()=>{N.viewport.getZoom()<T?ie||(Rt(!1),Ce(!0),console.log("[AUTO-SWITCH] Zoom out  Showing heatmap")):bt||(Rt(!0),Ce(!1),console.log("[AUTO-SWITCH] Zoom in  Showing predictions"))};return N.addHandler("zoom",U),U(),()=>{N.removeHandler("zoom",U)}},[N,Be,ie,bt]),we.useEffect(()=>{ie&&Be.length>0?ma():!ie&&ge&&(N?.removeOverlay(ge),ke(null))},[ie,Be,Le,N]),we.useEffect(()=>{a&&d&&gi()},[a,d]),we.useEffect(()=>{ie&&bt&&Rt(!1)},[ie]),we.useEffect(()=>{if(!N||!a||te.length===0)return;let U;const k=()=>{window.clearTimeout(U),U=window.setTimeout(()=>{bt&&Be.length>0?(G.current&&(N.removeOverlay(G.current),G.current=null),ge&&(N.removeOverlay(ge),ke(null)),fn()):Pe&&!bt&&!ie&&(ot.current&&(N.removeOverlay(ot.current),ot.current=null),ge&&(N.removeOverlay(ge),ke(null)),ji())},200)};return N.addHandler("zoom",k),N.addHandler("pan",k),k(),()=>{window.clearTimeout(U),N.removeHandler("zoom",k),N.removeHandler("pan",k)}},[N,a,te,Pe,pe,Be,bt,K]),we.useEffect(()=>{J()},[]),we.useEffect(()=>{o.length===1&&!u&&!lt&&(c(o[0]),console.log("Auto-selected single dataset:",o[0]))},[o,u,lt]),we.useEffect(()=>{u?he(u.id):(h([]),v(null))},[u]),we.useEffect(()=>{if(!Re.current||!d)return;N&&(N.destroy(),ye(null));const U=sl({element:Re.current,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.1.1/images/",showNavigationControl:!0,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showSequenceControl:!1,animationTime:.3,blendTime:.1,springStiffness:10,constrainDuringPan:!1,maxZoomPixelRatio:32,minZoomImageRatio:.9,visibilityRatio:.5,zoomPerScroll:1.8,zoomPerClick:1.4,useCanvas:!0,smoothTileEdgesMinZoom:.8,wrapHorizontal:!1,wrapVertical:!1,timeout:12e4,loadTilesWithAjax:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,imageLoaderLimit:4,immediateRender:!1,preserveImageSizeOnResize:!0,preserveViewport:!0,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25},debugMode:!1,mouseNavEnabled:!0,controlsFadeDelay:2e3,controlsFadeLength:1500});ye(U);const k=ae=>{if(!U||!a||re){console.log("Click blocked:",{hasViewer:!!U,segmentationComplete:a,isTraining:re});return}const le=U.viewport.pointFromPixel(ae.position),se=U.viewport.viewportToImageCoordinates(le);console.log("Click detected with currentLabel:",m.current);let ue=null,Ue=1/0;const Ge=50;for(const ct of te){if(!E.current.has(ct.index))continue;const nt=se.x>=ct.bbox_x0&&se.x<=ct.bbox_x1&&se.y>=ct.bbox_y0&&se.y<=ct.bbox_y1,Kt=Math.sqrt(Math.pow(se.x-ct.x,2)+Math.pow(se.y-ct.y,2)),ci=Kt<=Ge;(nt||ci)&&Kt<Ue&&(ue=ct,Ue=Kt,console.log("Found nucleus:",ct.nucleus_id,"bbox:",nt,"centroid:",ci,"distance:",Kt.toFixed(2)))}ue?(console.log("Selected nucleus:",ue.nucleus_id,"distance:",Ue.toFixed(2)),Wt(ue)):console.log("No nucleus found at click position")};return U.addHandler("canvas-click",k),U.addHandler("tile-load-failed",function(){console.warn("Tile load failed")}),d.pyramid_path&&ze(d.pyramid_path,U),()=>{try{U.removeHandler("canvas-click",k),U.destroy()}catch{console.log("Viewer cleanup completed")}}},[Re.current,d,a,re,te]),we.useEffect(()=>{d?.id&&(ol(),N&&ot.current&&(N.removeOverlay(ot.current),ot.current=null),N&&ge&&(N.removeOverlay(ge),ke(null)),l(!1),de([]),O([]),We([]),Rt(!1),Ce(!1),ee(0),me([]),Ae(0),ve(!1))},[d?.id]);const J=async()=>{try{C(!0);const k=await(await fetch(`${q}/datasets`)).json();k.success?(f(k.datasets),console.log("Datasets loaded:",k.datasets)):(console.error("Failed to fetch datasets:",k.error),alert("Failed to load datasets. Please check the API connection."))}catch(U){console.error("Error fetching datasets:",U),alert("Error connecting to API. Please ensure the backend is running.")}finally{C(!1)}},he=async U=>{try{z(!0);const ae=await(await fetch(`${q}/datasets/${U}/slides`)).json();ae.success?(h(ae.slides),console.log("Slides loaded:",ae.slides)):(console.error("Failed to fetch slides:",ae.error),alert("Failed to load slides for the selected dataset."))}catch(k){console.error("Error fetching slides:",k),alert("Error loading slides. Please try again.")}finally{z(!1)}},ze=async(U,k)=>{if(!k||!U){_e("Viewer or image path missing"),oe(!1);return}oe(!0),_e(null);try{k.world.removeAll();const ae=`${window.location.origin}/iipsrv/iipsrv.fcgi`;console.log("Loading image with IIP DeepZoom format...");const le=`${ae}?DeepZoom=${encodeURIComponent(U)}.dzi`;console.log("DeepZoom URL:",le);const se=()=>{console.log("DeepZoom image loaded successfully"),oe(!1),k.removeHandler("open",se),k.removeHandler("open-failed",ue)},ue=()=>{console.log("DeepZoom failed, trying IIIF format..."),k.removeHandler("open",se),k.removeHandler("open-failed",ue),Te(U,k)};k.addHandler("open",se),k.addHandler("open-failed",ue),k.open(le)}catch(ae){console.error("Error in DeepZoom loading:",ae),Te(U,k)}},Te=(U,k)=>{const ae=`${window.location.origin}/iipsrv/iipsrv.fcgi`;console.log("Using IIIF format for seamless viewing...");const le=`${ae}?IIIF=${encodeURIComponent(U)}/info.json`;console.log("IIIF URL:",le);const se=()=>{console.log("IIIF image loaded successfully - seamless viewing enabled"),oe(!1),k.removeHandler("open",se),k.removeHandler("open-failed",ue)},ue=()=>{console.log("IIIF also failed, using simple image..."),k.removeHandler("open",se),k.removeHandler("open-failed",ue);const Ue=d?.x_size||1e4,Ge=d?.y_size||1e4;Dt(U,k,Ue,Ge)};k.addHandler("open",se),k.addHandler("open-failed",ue),k.open(le)},Dt=(U,k,ae,le)=>{const se=`${window.location.origin}/iipsrv/iipsrv.fcgi`;console.log("Using simple image fallback...");const ue={type:"image",url:`${se}?FIF=${encodeURIComponent(U)}&WID=2048&CVT=jpeg`,width:ae,height:le,crossOriginPolicy:!1,ajaxWithCredentials:!1};console.log("Simple image source:",ue),k.addOnceHandler("open",()=>{console.log("Simple image loaded successfully"),oe(!1)}),k.addOnceHandler("open-failed",Ue=>{console.log("All image loading methods failed:",Ue),_e("Unable to load image with any available method. Please check the image path and IIP server configuration."),oe(!1)}),k.open(ue)},ft=U=>{c(U),v(null),Xe(!1),l(!1),_e(null),console.log("Dataset selected:",U)},qt=U=>{console.log("Slide selected:",U.name),console.log("Pyramid path:",U.pyramid_path),v(U),l(!1),_e(null)},Si=async()=>{if(!d||!N){alert("Please select a slide first");return}console.log("Loading nuclei boundaries for:",d.name),$(!0),l(!1),_e(null);try{const k=await(await fetch(`${q}/nuclei/${d.name}`)).json();if(k.success){console.log(`Loaded ${k.nucleus_count} nuclei`);const ae=k.nuclei.map((le,se)=>({...le,index:se}));yt(k.nucleus_count),l(!0),de(ae),ji(),await gi()}else _e(k.error||"Failed to load nuclei"),console.error("Nuclei loading failed:",k.error)}catch(U){console.error("Error loading nuclei:",U),_e("Network error loading nuclei")}finally{$(!1)}},gi=async()=>{if(d)try{const k=await(await fetch(`${q}/ml/models/list`)).json();k.success&&(k.models.find(se=>se.slide_name===d.name&&se.is_valid)?(M(d.name),console.log(` Model found for ${d.name}`)):(M(null),console.log(` No model found for ${d.name}`)))}catch(U){console.error("Error checking for model:",U)}},Wt=U=>{const k=m.current;O(ae=>{const le=ae.findIndex(Ue=>Ue.index===U.index);if(le>=0)return console.log("Deselecting nucleus:",U.nucleus_id),ae.filter((Ue,Ge)=>Ge!==le);if(ae.filter(Ue=>Ue.label===k).length>=4)return alert(`Already selected 4 ${k} samples. Please deselect one first or switch to ${k==="positive"?"negative":"positive"}.`),ae;const ue={index:U.index,x:U.x,y:U.y,label:k};return[...ae,ue]})},ji=()=>{if(!N||!te.length||(G.current&&(N.removeOverlay(G.current),G.current=null),!Pe||bt||ie))return;const U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.setAttribute("viewBox","0 0 1 1"),U.setAttribute("pointer-events","none"),U.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none";const k=te.filter((le,se)=>se%10===0),ae=new Set(k.map(le=>le.index));pe.forEach(le=>ae.add(le.index)),E.current=ae,console.log(`Drawing ${k.length} nuclei, ${ae.size} total clickable`),k.forEach(le=>{const se=pe.find(Kt=>Kt.index===le.index),ue=N.viewport.imageToViewportCoordinates(le.bbox_x0,le.bbox_y0),Ue=N.viewport.imageToViewportCoordinates(le.bbox_x1,le.bbox_y1),Ge=document.createElementNS("http://www.w3.org/2000/svg","rect");Ge.setAttribute("x",ue.x.toString()),Ge.setAttribute("y",ue.y.toString()),Ge.setAttribute("width",(Ue.x-ue.x).toString()),Ge.setAttribute("height",(Ue.y-ue.y).toString()),Ge.setAttribute("fill","none"),Ge.setAttribute("stroke",se?se.label==="positive"?"#00FF00":"#FFFF00":"#00FF00"),Ge.setAttribute("stroke-width",se?"0.0004":"0.0002"),Ge.setAttribute("opacity",se?"1":"0.7"),Ge.setAttribute("pointer-events","none"),U.appendChild(Ge);const ct=N.viewport.imageToViewportCoordinates(le.x,le.y),nt=document.createElementNS("http://www.w3.org/2000/svg","circle");nt.setAttribute("cx",ct.x.toString()),nt.setAttribute("cy",ct.y.toString()),se?(nt.setAttribute("r","0.0005"),nt.setAttribute("fill","#FFA500"),nt.setAttribute("stroke",se.label==="positive"?"#00FF00":"#FF0000"),nt.setAttribute("stroke-width","0.00005"),nt.setAttribute("opacity","1")):(nt.setAttribute("r","0.00012"),nt.setAttribute("fill","#FFFF00"),nt.setAttribute("opacity","0.7")),nt.setAttribute("pointer-events","none"),U.appendChild(nt)}),N.addOverlay(U,new sl.Rect(0,0,1,1)),G.current=U},fn=()=>{if(!N||!Be.length)return;ot.current&&(N.removeOverlay(ot.current),ot.current=null),G.current&&(N.removeOverlay(G.current),G.current=null),ge&&(N.removeOverlay(ge),ke(null));const U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.setAttribute("viewBox","0 0 1 1"),U.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none";const k=new Set(pe.map(le=>le.index)),ae=Be.filter((le,se)=>se%10===0||k.has(Be[se].index));console.log(`Drawing ${ae.length} predictions (including ${pe.length} selected)`),ae.forEach(le=>{if(k.has(le.index))return;const se=N.viewport.imageToViewportCoordinates(le.x,le.y),ue=document.createElementNS("http://www.w3.org/2000/svg","circle");ue.setAttribute("cx",se.x.toString()),ue.setAttribute("cy",se.y.toString()),ue.setAttribute("r","0.0002"),ue.setAttribute("fill",le.prediction==="positive"?"#FF00FF":"#00FFFF"),ue.setAttribute("opacity",(le.probability*.8).toString()),U.appendChild(ue)}),pe.forEach(le=>{const se=N.viewport.imageToViewportCoordinates(le.x,le.y),ue=document.createElementNS("http://www.w3.org/2000/svg","circle");ue.setAttribute("cx",se.x.toString()),ue.setAttribute("cy",se.y.toString()),ue.setAttribute("r","0.0005"),ue.setAttribute("fill","#FFA500"),ue.setAttribute("stroke",le.label==="positive"?"#00FF00":"#FF0000"),ue.setAttribute("stroke-width","0.00005"),ue.setAttribute("opacity","1"),U.appendChild(ue)}),N.addOverlay(U,new sl.Rect(0,0,1,1)),ot.current=U},Es=async()=>{const U=[...pe];if(console.log("=== TRAINING START ==="),console.log("Captured samples:",U.length),console.log("Samples:",U),console.log("===================="),U.length===0){console.log("BLOCKED: No samples captured"),alert("Please select 8 samples before training");return}if(!u||!d){alert("Please select a dataset and slide");return}if(U.length!==8){alert("Please select exactly 8 samples (4 positive + 4 negative) before training");return}const k=U.filter(ue=>ue.label==="positive").length,ae=U.filter(ue=>ue.label==="negative").length;if(k!==4||ae!==4){alert(`Please select exactly 4 positive and 4 negative samples. Currently: ${k} positive, ${ae} negative`);return}if(B>0&&K.length>0&&U.every(Ue=>K.some(Ge=>Ge.index===Ue.index))){alert("These samples are already in the training set. Please select NEW samples.");return}X.current&&(X.current.abort(),X.current=null),He.current=!1;const le=[...K,...U];console.log("=== ACCUMULATION ==="),console.log("Previous total:",K.length),console.log("Adding:",U.length),console.log("New total:",le.length),console.log("==================="),me(le),O([]);const se=B+1;ee(se),ve(!0),Ae(0),We([]),Rt(!1);try{const ue=le.map(nt=>({index:nt.index,label:nt.label}));console.log("=== SENDING TO BACKEND ==="),console.log("Iteration:",se),console.log("Annotations count:",ue.length),console.log("Annotations:",ue),console.log("========================");const Ge=await(await fetch(`${q}/ml/train-histomics`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset_id:u.id,slide_id:d.id,annotations:ue,iteration:se})})).json();if(!Ge.success)throw new Error(Ge.error||"Training submission failed");const ct=Ge.job_id;console.log(`Iteration ${se} - Job submitted:`,ct),fa(ct)}catch(ue){console.error("Training error:",ue),alert(`Error: ${ue}`),ve(!1),O(U)}},fa=async U=>{X.current&&X.current.abort();const k=new AbortController;X.current=k,console.log(`Starting to poll job: ${U}`);let ae=0;const le=150,se=async()=>{if(k.signal.aborted){console.log("Polling aborted");return}if(ae++,ae>le){ve(!1),alert("Training timeout");return}try{const Ue=await(await fetch(`${q}/ml/status-histomics/${U}`,{signal:k.signal})).json();if(Ae(Ue.progress||0),Ue.status==="completed"){console.log("Training completed"),ve(!1),Ae(100),await da(U);return}else if(Ue.status==="error"){console.log("Training failed"),ve(!1),alert("Training failed: "+Ue.message);return}setTimeout(()=>se(),2e3)}catch(ue){if(ue.name==="AbortError"){console.log("Fetch aborted");return}console.error("Status check error:",ue),setTimeout(()=>se(),2e3)}};se()},da=async U=>{if(He.current){console.log("Already loading predictions, skipping");return}He.current=!0;try{console.log(`Loading predictions for job: ${U}`);const ae=await(await fetch(`${q}/predictions-histomics/${U}`)).json();ae.success?(console.log(`Loaded ${ae.total_count} predictions`),We(ae.predictions),Rt(!0),d&&M(d.name),alert(`Prediction Complete! ${ae.total_count} predictions (${ae.positive_count} positive, ${ae.negative_count} negative)`)):(console.error("Failed to load predictions:",ae.error),alert("Failed to load predictions: "+ae.error))}catch(k){console.error("Error loading predictions:",k),alert("Error loading predictions: "+k)}finally{He.current=!1}},dn=async()=>{if(!u||!d){alert("Please select a dataset and slide");return}if(!(R&&R!==d.name&&!window.confirm(`Warning: The loaded model was trained on '${R}' but you're trying to use it on '${d.name}'. This may produce invalid results. Continue anyway?`))){ve(!0),Ae(0),We([]),Rt(!1);try{const k=await(await fetch(`${q}/ml/predict-with-model`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataset_id:u.id,slide_id:d.id})})).json();if(!k.success)throw new Error(k.error||"Prediction failed");console.log("Using existing model, job:",k.job_id),fa(k.job_id)}catch(U){console.error("Prediction error:",U),alert(`Error: ${U}`),ve(!1)}}},bs=async()=>{try{const k=await(await fetch(`${q}/ml/models/list`)).json();k.success&&Ti(k.models)}catch(U){console.error("Error fetching models:",U)}},ol=()=>{N&&G.current&&(N.removeOverlay(G.current),G.current=null),yt(0)};(U=>{const k={"Very High (>0.9)":0,"High (0.7-0.9)":0,"Medium (0.6-0.7)":0,"Low (0.5-0.6)":0,"Very Low (<0.5)":0};U.forEach(le=>{const se=Math.max(le.probability,1-le.probability);se>.9?k["Very High (>0.9)"]++:se>=.7?k["High (0.7-0.9)"]++:se>=.6?k["Medium (0.6-0.7)"]++:se>=.5?k["Low (0.5-0.6)"]++:k["Very Low (<0.5)"]++}),console.log("Confidence Distribution:",k);const ae=U.length;Object.entries(k).forEach(([le,se])=>{const ue=(se/ae*100).toFixed(1);console.log(`${le}: ${se} (${ue}%)`)})})(Be);const ul=(U,k)=>{const ae=new Map;return U.forEach(le=>{if(le.prediction!=="positive")return;const se=Math.floor(le.x/k),ue=Math.floor(le.y/k),Ue=`${se},${ue}`;ae.set(Ue,(ae.get(Ue)||0)+1)}),ae},ga=(U,k)=>{const ae=Math.min(U/k,1);if(ae<.5){const le=ae*2,se=Math.floor(255*le),ue=0,Ue=Math.floor(255*(1-le));return`rgb(${se}, ${ue}, ${Ue})`}else{const le=(ae-.5)*2,se=255,ue=Math.floor(255*(1-le));return`rgb(${se}, ${ue}, 0)`}},ma=()=>{if(!N||!Be.length||!ie)return;ot.current&&(N.removeOverlay(ot.current),ot.current=null),ge&&(N.removeOverlay(ge),ke(null)),console.log("[HEATMAP] Generating heatmap...");const U=document.createElement("canvas");U.width=2e3,U.height=2e3,U.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;opacity:0.6";const k=U.getContext("2d");if(!k)return;k.clearRect(0,0,U.width,U.height);const ae=ul(Be,Le);let le=0;if(ae.forEach(se=>{se>le&&(le=se)}),console.log(`[HEATMAP] Max density: ${le} predictions per bin`),ae.forEach((se,ue)=>{const[Ue,Ge]=ue.split(",").map(Number),ct=N.viewport.imageToViewportCoordinates(Ue*Le,Ge*Le),nt=N.viewport.imageToViewportCoordinates((Ue+1)*Le,(Ge+1)*Le),Kt=ct.x*U.width,ci=ct.y*U.height,Fi=(nt.x-ct.x)*U.width,gn=(nt.y-ct.y)*U.height,Gi=ga(se,le),Tt=.3+se/le*.5;k.fillStyle=Gi,k.globalAlpha=Tt,k.fillRect(Kt,ci,Fi,gn)}),k.globalAlpha=1,k.filter="blur(2px)",k.drawImage(U,0,0),k.filter="none",N.addOverlay(U,new sl.Rect(0,0,1,1)),ke(U),pe.length>0){const se=document.createElementNS("http://www.w3.org/2000/svg","svg");se.setAttribute("viewBox","0 0 1 1"),se.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none",pe.forEach(ue=>{const Ue=N.viewport.imageToViewportCoordinates(ue.x,ue.y),Ge=document.createElementNS("http://www.w3.org/2000/svg","circle");Ge.setAttribute("cx",Ue.x.toString()),Ge.setAttribute("cy",Ue.y.toString()),Ge.setAttribute("r","0.0005"),Ge.setAttribute("fill","#FFA500"),Ge.setAttribute("stroke",ue.label==="positive"?"#00FF00":"#FF0000"),Ge.setAttribute("stroke-width","0.00005"),Ge.setAttribute("opacity","1"),se.appendChild(Ge)}),N.addOverlay(se,new sl.Rect(0,0,1,1))}console.log(`[HEATMAP] Rendered ${ae.size} bins with ${pe.length} selected samples`)},pa=U=>{if(!N)return;console.log("Switching label from",Y,"to",U);const k=N.viewport.getZoom(),ae=N.viewport.getCenter();console.log("Saved zoom:",k,"center:",ae),Q(U),requestAnimationFrame(()=>{N&&(N.viewport.zoomTo(k,void 0,!0),N.viewport.panTo(ae,!0),console.log("Restored zoom:",k))})};return F.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[F.jsx("div",{className:"mb-8",children:F.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"HIMLT: Hybrid Interactive Machine Learning Tool for Histopathology Image Analysis."})}),F.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6",children:[F.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[F.jsxs("div",{className:"flex items-center mb-4",children:[F.jsx(xm,{className:"text-blue-600 mr-3",size:24}),F.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Dataset"})]}),F.jsxs("select",{value:u?.id||"",onChange:U=>{const k=o.find(ae=>ae.id===Number(U.target.value));k&&ft(k)},className:"w-full p-3 border-2 border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",disabled:S,children:[F.jsx("option",{value:"",children:S?"Loading...":"Select Dataset"}),o.map(U=>F.jsxs("option",{value:U.id,children:[U.name," (",U.slide_count," slides)"]},U.id))]}),F.jsx("div",{className:"mt-2 text-sm text-gray-500",children:u?`${u.slide_count} slides available`:S?"Loading...":"Select a dataset to continue"})]}),F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[F.jsxs("div",{className:"flex items-center mb-4",children:[F.jsx(Zf,{className:"text-green-600 mr-3",size:24}),F.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Slide"})]}),F.jsxs("select",{value:d?.id||"",onChange:U=>{const k=p.find(ae=>ae.id===Number(U.target.value));k&&qt(k)},className:"w-full p-3 border-2 border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",disabled:!u||_||p.length===0,children:[F.jsx("option",{value:"",children:u?_?"Loading...":p.length===0?"No slides available":"Select Slide":"Select dataset first"}),p.map(U=>F.jsxs("option",{value:U.id,children:[U.name," (",U.x_size,"",U.y_size,")"]},U.id))]}),F.jsx("div",{className:"mt-2 text-sm text-gray-500",children:d?`${d.x_size}${d.y_size}`:u?_?"Loading...":"Select a slide to continue":"Select a dataset first"})]}),F.jsxs("button",{onClick:Si,disabled:!u||!d||ne||re,className:`w-full flex items-center justify-center px-6 py-4 rounded-xl font-semibold text-white transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${a?"bg-green-500 hover:bg-green-600":"bg-orange-500 hover:bg-orange-600"}`,children:[F.jsx(bm,{className:"mr-3",size:20}),ne?F.jsx(kf,{className:"animate-spin mr-2",size:20}):F.jsx(F.Fragment,{children:a?`${ht} Nuclei`:"Show Nuclei"})]}),a&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Select Training Samples"}),F.jsxs("div",{className:"flex gap-2 mb-4",children:[F.jsx("button",{onClick:()=>pa("positive"),className:`flex-1 px-4 py-2 rounded-lg font-medium ${Y==="positive"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Positive"}),F.jsx("button",{onClick:()=>pa("negative"),className:`flex-1 px-4 py-2 rounded-lg font-medium ${Y==="negative"?"bg-yellow-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Negative"})]}),F.jsxs("div",{className:"text-center text-lg font-semibold mb-2",children:[F.jsxs("span",{className:y===4?"text-green-600":"text-gray-600",children:[y,"/4 Positive"]}),"  ",F.jsxs("span",{className:x===4?"text-yellow-600":"text-gray-600",children:[x,"/4 Negative"]})]}),F.jsx("p",{className:"text-sm text-gray-500 text-center mb-3",children:"Click nuclei on the image to select"}),pe.length>0&&F.jsxs("button",{onClick:()=>O([]),className:"w-full px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm",children:["Clear All (",pe.length,")"]}),B>0&&F.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[F.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Iteration: ",B]}),F.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Total training samples: ",K.length]})]})]}),F.jsxs("button",{onClick:Es,disabled:!b||re||pe.length!==8,className:`w-full px-6 py-4 rounded-xl font-semibold text-white transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none ${b&&!re?"bg-purple-500 hover:bg-purple-600":"bg-gray-400"}`,children:[F.jsx(Vf,{className:"inline mr-2",size:20}),re?`Training... ${De}%`:B>0?`Refine Model (Iteration ${B+1})`:"Train Model"]}),re&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[F.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[F.jsx("span",{children:"Progress"}),F.jsxs("span",{children:[De,"%"]})]}),F.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:F.jsx("div",{className:"bg-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${De}%`}})})]}),Be.length>0&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[F.jsx("h3",{className:"font-semibold mb-3",children:"Predictions"}),F.jsxs("div",{className:"space-y-2 text-sm",children:[F.jsxs("p",{className:"text-gray-600",children:[Be.length," total predictions"]}),F.jsxs("p",{className:"text-gray-600",children:[F.jsx("span",{className:"font-medium",style:{color:"#FF00FF"},children:Be.filter(U=>U.prediction==="positive").length})," Positive"]}),F.jsxs("p",{className:"text-gray-600",children:[F.jsx("span",{className:"font-medium",style:{color:"#00FFFF"},children:Be.filter(U=>U.prediction==="negative").length})," Negative"]})]}),F.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[F.jsx("p",{className:"text-xs font-medium text-yellow-800 mb-1",children:"Iterative Learning"}),F.jsx("p",{className:"text-xs text-yellow-700",children:"Select 4 more positive + 4 negative samples from predictions to refine the model"})]})]}),Be.length>0&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[F.jsx("h3",{className:"font-semibold mb-2",children:"Current View"}),F.jsx("div",{className:"p-2 bg-gray-100 rounded mb-3 text-sm text-center font-medium",children:ie?"Heatmap (Zoomed Out)":bt?"Predictions (Zoomed In)":"Nuclei Selection"}),F.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Auto-switches based on zoom level"}),ie&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"border-t pt-3",children:[F.jsxs("label",{className:"block text-xs font-medium mb-2",children:["Resolution: ",Le,"px"]}),F.jsx("input",{type:"range",min:"50",max:"300",step:"50",value:Le,onChange:U=>Ke(parseInt(U.target.value)),className:"w-full"}),F.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[F.jsx("span",{children:"Fine"}),F.jsx("span",{children:"Coarse"})]})]}),F.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:[F.jsx("p",{className:"text-xs font-medium mb-2",children:"Density:"}),F.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[F.jsx("div",{className:"w-6 h-3",style:{background:"linear-gradient(to right, #0000FF, #FF0000, #FFFF00)"}}),F.jsx("span",{children:"Low  High"})]})]})]})]}),a&&!re&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Model Management"}),R&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"p-2 bg-green-50 rounded text-sm text-green-700 mb-3",children:["Current model: ",R]}),F.jsxs("button",{onClick:dn,className:"w-full mb-2 px-6 py-3 rounded-xl font-semibold text-white bg-purple-500 hover:bg-purple-600 transition-all",children:[F.jsx(Vf,{className:"inline mr-2",size:20}),"Run Predictions"]})]}),F.jsx("button",{onClick:()=>{Ht||bs(),ui(!Ht)},className:"w-full px-4 py-2 rounded-lg text-sm text-gray-700 bg-gray-100 hover:bg-gray-200",children:Ht?`Hide Available Models (${oi.length})`:"Show Available Models"}),Ht&&F.jsx("div",{className:"mt-3 max-h-60 overflow-y-auto border rounded-lg",children:oi.length===0?F.jsx("p",{className:"p-4 text-sm text-gray-500",children:"No models available"}):F.jsx("div",{className:"divide-y",children:oi.map(U=>F.jsx("div",{className:"p-3 hover:bg-gray-50",children:F.jsx("div",{className:"flex justify-between items-start",children:F.jsxs("div",{className:"flex-1",children:[F.jsx("p",{className:"font-medium text-sm",children:U.slide_name}),F.jsxs("p",{className:"text-xs text-gray-500",children:[U.size_mb," MB  ",U.created]}),!U.is_valid&&F.jsx("p",{className:"text-xs text-red-600",children:"Corrupted"}),U.slide_name===d?.name?F.jsx("p",{className:"text-xs text-green-600",children:" Active Model"}):F.jsx("p",{className:"text-xs text-gray-400",children:"Slide-specific model"})]})})},U.slide_name))})})]})]}),F.jsx("div",{className:"lg:col-span-3",children:F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 h-full min-h-[600px]",children:[F.jsxs("div",{className:"flex items-center justify-between mb-6",children:[F.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Slide Viewer"}),F.jsx("div",{className:"flex space-x-2",children:d&&N&&F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:()=>N?.viewport?.zoomBy(1.5),disabled:!d||!N,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 text-sm",title:"Zoom In",children:"+"}),F.jsx("button",{onClick:()=>N?.viewport?.zoomBy(.67),disabled:!d||!N,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 text-sm",title:"Zoom Out",children:"-"}),F.jsx("button",{onClick:()=>N?.viewport?.goHome(),disabled:!d||!N,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 text-sm",title:"Reset View",children:"Reset"})]})})]}),d?F.jsxs("div",{className:"relative",children:[be&&F.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg z-10",children:F.jsxs("div",{className:"text-white text-center",children:[F.jsx(kf,{className:"animate-spin mx-auto mb-2",size:32}),F.jsx("p",{children:"Loading slide image..."}),F.jsxs("p",{className:"text-sm opacity-75 mt-2",children:["Path: ",d.pyramid_path]})]})}),xe&&F.jsx("div",{className:"absolute top-4 left-4 right-4 p-4 bg-red-100 border border-red-300 text-red-800 rounded-lg z-10",children:F.jsxs("p",{children:[F.jsx("strong",{children:"Error:"})," ",xe]})}),F.jsx("div",{ref:Re,className:"w-full h-96 border border-gray-300 rounded-lg bg-gray-50",style:{minHeight:"500px",imageRendering:"crisp-edges"}}),a&&F.jsxs("div",{className:"mt-4 px-4 py-2 bg-green-100 text-green-800 rounded-lg inline-block",children:["Total nuclei : ",ht," items"]})]}):F.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl h-96 flex items-center justify-center",children:F.jsxs("div",{className:"text-center",children:[F.jsx(Zf,{className:"mx-auto mb-4",size:64}),F.jsx("p",{className:"text-xl text-gray-500",children:"No slide selected"}),F.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Select a dataset and slide to begin analysis"})]})}),a&&F.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[F.jsx("h4",{className:"font-semibold mb-2",children:"Legend:"}),F.jsxs("div",{className:"space-y-2 text-sm",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2 border-2",style:{backgroundColor:"#FFA500",borderColor:"#00FF00"}}),F.jsx("span",{children:"Selected Positive (Training)"})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2 border-2",style:{backgroundColor:"#FFA500",borderColor:"#FF0000"}}),F.jsx("span",{children:"Selected Negative (Training)"})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:"#FFFF00"}}),F.jsx("span",{children:"Unselected Nuclei (Yellow dots)"})]}),Be.length>0&&F.jsxs(F.Fragment,{children:[F.jsx("hr",{className:"my-2 border-gray-300"}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:"#FF00FF"}}),F.jsx("span",{children:"Predicted Positive"})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:"#00FFFF"}}),F.jsx("span",{children:"Predicted Negative"})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2 border-2",style:{backgroundColor:"#FFA500",borderColor:"#00FF00"}}),F.jsx("span",{children:"Training: Positive (in predictions)"})]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-4 h-4 rounded mr-2 border-2",style:{backgroundColor:"#FFA500",borderColor:"#FF0000"}}),F.jsx("span",{children:"Training: Negative (in predictions)"})]})]})]})]})]})})]})]})};gm.createRoot(document.getElementById("root")).render(F.jsx(sm.StrictMode,{children:F.jsx(Om,{})}));
